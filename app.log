2020-08-19 06:01:32.896  INFO 9356 --- [main] r.l.LogisticPlatformApplication          : Starting LogisticPlatformApplication on DESKTOP-KQ9S95L with PID 9356 (G:\JAVA\avalon\VKR\_logisticplatform\logisticplatform\target\classes started by x in G:\JAVA\avalon\VKR\_logisticplatform\logisticplatform)
2020-08-19 06:01:32.904  INFO 9356 --- [main] r.l.LogisticPlatformApplication          : No active profile set, falling back to default profiles: default
2020-08-19 06:01:34.065  INFO 9356 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFERRED mode.
2020-08-19 06:01:34.230  INFO 9356 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 153ms. Found 9 JPA repository interfaces.
2020-08-19 06:01:35.195  INFO 9356 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8068 (http)
2020-08-19 06:01:35.207  INFO 9356 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2020-08-19 06:01:35.208  INFO 9356 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.36]
2020-08-19 06:01:35.386  INFO 9356 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2020-08-19 06:01:35.387  INFO 9356 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 2409 ms
2020-08-19 06:01:35.578  INFO 9356 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2020-08-19 06:01:36.141  INFO 9356 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2020-08-19 06:01:37.818  INFO 9356 --- [main] liquibase.executor.jvm.JdbcExecutor      : SELECT COUNT(*) FROM logisticplatform.DATABASECHANGELOGLOCK
2020-08-19 06:01:37.826  INFO 9356 --- [main] liquibase.executor.jvm.JdbcExecutor      : SELECT COUNT(*) FROM logisticplatform.DATABASECHANGELOGLOCK
2020-08-19 06:01:37.830  INFO 9356 --- [main] liquibase.executor.jvm.JdbcExecutor      : SELECT `LOCKED` FROM logisticplatform.DATABASECHANGELOGLOCK WHERE ID=1
2020-08-19 06:01:37.900  INFO 9356 --- [main] l.lockservice.StandardLockService        : Successfully acquired change log lock
2020-08-19 06:01:40.762  INFO 9356 --- [main] liquibase.executor.jvm.JdbcExecutor      : SELECT MD5SUM FROM logisticplatform.DATABASECHANGELOG WHERE MD5SUM IS NOT NULL LIMIT 1
2020-08-19 06:01:40.765  INFO 9356 --- [main] liquibase.executor.jvm.JdbcExecutor      : SELECT COUNT(*) FROM logisticplatform.DATABASECHANGELOG
2020-08-19 06:01:40.767  INFO 9356 --- [main] l.c.StandardChangeLogHistoryService      : Reading from logisticplatform.DATABASECHANGELOG
2020-08-19 06:01:40.767  INFO 9356 --- [main] liquibase.executor.jvm.JdbcExecutor      : SELECT * FROM logisticplatform.DATABASECHANGELOG ORDER BY DATEEXECUTED ASC, ORDEREXECUTED ASC
2020-08-19 06:01:40.908  INFO 9356 --- [main] l.lockservice.StandardLockService        : Successfully released change log lock
2020-08-19 06:01:40.910  INFO 9356 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2020-08-19 06:01:40.924  INFO 9356 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2020-08-19 06:01:41.043  INFO 9356 --- [main] o.s.s.concurrent.ThreadPoolTaskExecutor  : Initializing ExecutorService 'applicationTaskExecutor'
2020-08-19 06:01:41.057  INFO 9356 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-2 - Starting...
2020-08-19 06:01:41.057  WARN 9356 --- [main] com.zaxxer.hikari.util.DriverDataSource  : Registered driver with driverClassName=com.mysql.jdbc.Driver was not found, trying direct instantiation.
2020-08-19 06:01:41.079  INFO 9356 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-2 - Start completed.
2020-08-19 06:01:41.150  INFO 9356 --- [task-1] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2020-08-19 06:01:41.236  INFO 9356 --- [task-1] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.4.17.Final
2020-08-19 06:01:41.241  WARN 9356 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2020-08-19 06:01:41.509  INFO 9356 --- [task-1] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.0.Final}
2020-08-19 06:01:41.733  INFO 9356 --- [task-1] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2020-08-19 06:01:41.948 DEBUG 9356 --- [main] eGlobalAuthenticationAutowiredConfigurer : Eagerly initializing {org.springframework.boot.autoconfigure.security.servlet.WebSecurityEnablerConfiguration=org.springframework.boot.autoconfigure.security.servlet.WebSecurityEnablerConfiguration@2eb03908}
2020-08-19 06:01:42.297 DEBUG 9356 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression 'permitAll', for Ant [pattern='/api/v1/sign/**']
2020-08-19 06:01:42.301 DEBUG 9356 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression 'hasRole('ROLE_ADMIN')', for Ant [pattern='/api/v1/admins/**']
2020-08-19 06:01:42.303 DEBUG 9356 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression 'hasRole('ROLE_CUSTOMER')', for Ant [pattern='/api/v1/customers/**']
2020-08-19 06:01:42.303 DEBUG 9356 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression 'authenticated', for any request
2020-08-19 06:01:42.313 DEBUG 9356 --- [main] o.s.s.w.a.i.FilterSecurityInterceptor    : Validated configuration attributes
2020-08-19 06:01:42.315 DEBUG 9356 --- [main] o.s.s.w.a.i.FilterSecurityInterceptor    : Validated configuration attributes
2020-08-19 06:01:42.320  INFO 9356 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: any request, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@40696fc6, org.springframework.security.web.context.SecurityContextPersistenceFilter@62fbefad, org.springframework.security.web.header.HeaderWriterFilter@6560f387, org.springframework.security.web.authentication.logout.LogoutFilter@347c5721, ru.logisticplatform.security.jwt.JwtTokenFilter@3ce2c5f6, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@279ebd94, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@502b9399, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@20a3321a, org.springframework.security.web.session.SessionManagementFilter@19b8f1bd, org.springframework.security.web.access.ExceptionTranslationFilter@530d40b4, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@42ea14b8]
2020-08-19 06:01:42.414  INFO 9356 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8068 (http) with context path ''
2020-08-19 06:01:42.418  INFO 9356 --- [main] DeferredRepositoryInitializationListener : Triggering deferred initialization of Spring Data repositoriesâ€¦
2020-08-19 06:01:43.179  INFO 9356 --- [task-1] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2020-08-19 06:01:43.193  INFO 9356 --- [task-1] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2020-08-19 06:01:43.869  INFO 9356 --- [main] DeferredRepositoryInitializationListener : Spring Data repositories initialized!
2020-08-19 06:01:43.884  INFO 9356 --- [main] r.l.LogisticPlatformApplication          : Started LogisticPlatformApplication in 11.814 seconds (JVM running for 15.24)
2020-08-19 06:05:30.231  INFO 9356 --- [http-nio-8068-exec-2] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2020-08-19 06:05:30.232  INFO 9356 --- [http-nio-8068-exec-2] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2020-08-19 06:05:30.246  INFO 9356 --- [http-nio-8068-exec-2] o.s.web.servlet.DispatcherServlet        : Completed initialization in 14 ms
2020-08-19 06:05:30.266 DEBUG 9356 --- [http-nio-8068-exec-2] o.s.security.web.FilterChainProxy        : /api/v1/sign/in at position 1 of 11 in additional filter chain; firing Filter: 'WebAsyncManagerIntegrationFilter'
2020-08-19 06:05:30.268 DEBUG 9356 --- [http-nio-8068-exec-2] o.s.security.web.FilterChainProxy        : /api/v1/sign/in at position 2 of 11 in additional filter chain; firing Filter: 'SecurityContextPersistenceFilter'
2020-08-19 06:05:30.272 DEBUG 9356 --- [http-nio-8068-exec-2] o.s.security.web.FilterChainProxy        : /api/v1/sign/in at position 3 of 11 in additional filter chain; firing Filter: 'HeaderWriterFilter'
2020-08-19 06:05:30.274 DEBUG 9356 --- [http-nio-8068-exec-2] o.s.security.web.FilterChainProxy        : /api/v1/sign/in at position 4 of 11 in additional filter chain; firing Filter: 'LogoutFilter'
2020-08-19 06:05:30.275 DEBUG 9356 --- [http-nio-8068-exec-2] o.s.s.web.util.matcher.OrRequestMatcher  : Trying to match using Ant [pattern='/logout', GET]
2020-08-19 06:05:30.275 DEBUG 9356 --- [http-nio-8068-exec-2] o.s.s.w.u.matcher.AntPathRequestMatcher  : Request 'POST /api/v1/sign/in' doesn't match 'GET /logout'
2020-08-19 06:05:30.275 DEBUG 9356 --- [http-nio-8068-exec-2] o.s.s.web.util.matcher.OrRequestMatcher  : Trying to match using Ant [pattern='/logout', POST]
2020-08-19 06:05:30.276 DEBUG 9356 --- [http-nio-8068-exec-2] o.s.s.w.u.matcher.AntPathRequestMatcher  : Checking match of request : '/api/v1/sign/in'; against '/logout'
2020-08-19 06:05:30.276 DEBUG 9356 --- [http-nio-8068-exec-2] o.s.s.web.util.matcher.OrRequestMatcher  : Trying to match using Ant [pattern='/logout', PUT]
2020-08-19 06:05:30.276 DEBUG 9356 --- [http-nio-8068-exec-2] o.s.s.w.u.matcher.AntPathRequestMatcher  : Request 'POST /api/v1/sign/in' doesn't match 'PUT /logout'
2020-08-19 06:05:30.276 DEBUG 9356 --- [http-nio-8068-exec-2] o.s.s.web.util.matcher.OrRequestMatcher  : Trying to match using Ant [pattern='/logout', DELETE]
2020-08-19 06:05:30.276 DEBUG 9356 --- [http-nio-8068-exec-2] o.s.s.w.u.matcher.AntPathRequestMatcher  : Request 'POST /api/v1/sign/in' doesn't match 'DELETE /logout'
2020-08-19 06:05:30.276 DEBUG 9356 --- [http-nio-8068-exec-2] o.s.s.web.util.matcher.OrRequestMatcher  : No matches found
2020-08-19 06:05:30.276 DEBUG 9356 --- [http-nio-8068-exec-2] o.s.security.web.FilterChainProxy        : /api/v1/sign/in at position 5 of 11 in additional filter chain; firing Filter: 'JwtTokenFilter'
2020-08-19 06:05:30.277 DEBUG 9356 --- [http-nio-8068-exec-2] o.s.security.web.FilterChainProxy        : /api/v1/sign/in at position 6 of 11 in additional filter chain; firing Filter: 'RequestCacheAwareFilter'
2020-08-19 06:05:30.277 DEBUG 9356 --- [http-nio-8068-exec-2] o.s.security.web.FilterChainProxy        : /api/v1/sign/in at position 7 of 11 in additional filter chain; firing Filter: 'SecurityContextHolderAwareRequestFilter'
2020-08-19 06:05:30.279 DEBUG 9356 --- [http-nio-8068-exec-2] o.s.security.web.FilterChainProxy        : /api/v1/sign/in at position 8 of 11 in additional filter chain; firing Filter: 'AnonymousAuthenticationFilter'
2020-08-19 06:05:30.280 DEBUG 9356 --- [http-nio-8068-exec-2] o.s.s.w.a.AnonymousAuthenticationFilter  : Populated SecurityContextHolder with anonymous token: 'org.springframework.security.authentication.AnonymousAuthenticationToken@62842ca2: Principal: anonymousUser; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_ANONYMOUS'
2020-08-19 06:05:30.281 DEBUG 9356 --- [http-nio-8068-exec-2] o.s.security.web.FilterChainProxy        : /api/v1/sign/in at position 9 of 11 in additional filter chain; firing Filter: 'SessionManagementFilter'
2020-08-19 06:05:30.281 DEBUG 9356 --- [http-nio-8068-exec-2] o.s.security.web.FilterChainProxy        : /api/v1/sign/in at position 10 of 11 in additional filter chain; firing Filter: 'ExceptionTranslationFilter'
2020-08-19 06:05:30.281 DEBUG 9356 --- [http-nio-8068-exec-2] o.s.security.web.FilterChainProxy        : /api/v1/sign/in at position 11 of 11 in additional filter chain; firing Filter: 'FilterSecurityInterceptor'
2020-08-19 06:05:30.282 DEBUG 9356 --- [http-nio-8068-exec-2] o.s.s.w.u.matcher.AntPathRequestMatcher  : Checking match of request : '/api/v1/sign/in'; against '/api/v1/sign/**'
2020-08-19 06:05:30.282 DEBUG 9356 --- [http-nio-8068-exec-2] o.s.s.w.a.i.FilterSecurityInterceptor    : Secure object: FilterInvocation: URL: /api/v1/sign/in; Attributes: [permitAll]
2020-08-19 06:05:30.282 DEBUG 9356 --- [http-nio-8068-exec-2] o.s.s.w.a.i.FilterSecurityInterceptor    : Previously Authenticated: org.springframework.security.authentication.AnonymousAuthenticationToken@62842ca2: Principal: anonymousUser; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_ANONYMOUS
2020-08-19 06:05:30.290 DEBUG 9356 --- [http-nio-8068-exec-2] o.s.s.access.vote.AffirmativeBased       : Voter: org.springframework.security.web.access.expression.WebExpressionVoter@472b854, returned: 1
2020-08-19 06:05:30.291 DEBUG 9356 --- [http-nio-8068-exec-2] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorization successful
2020-08-19 06:05:30.291 DEBUG 9356 --- [http-nio-8068-exec-2] o.s.s.w.a.i.FilterSecurityInterceptor    : RunAsManager did not change Authentication object
2020-08-19 06:05:30.291 DEBUG 9356 --- [http-nio-8068-exec-2] o.s.security.web.FilterChainProxy        : /api/v1/sign/in reached end of additional filter chain; proceeding with original chain
2020-08-19 06:05:30.416 DEBUG 9356 --- [http-nio-8068-exec-2] o.s.s.authentication.ProviderManager     : Authentication attempt using org.springframework.security.authentication.dao.DaoAuthenticationProvider
2020-08-19 06:05:30.850  INFO 9356 --- [http-nio-8068-exec-2] r.l.service.user.impl.UserServiceImpl    : IN UserServiceImpl findByUsername - user: User{username='customer3', firstName='firstName3', lastName='lastName3', email='email3@mail.ru', phone='79339797603', password='$2a$10$xDCVWzkV0osns7uDyLOXKeqyzu6FgAFSQkYstDP95o.z61Bn9ghJq', roles=[Role{id: 3, name: ROLE_CUSTOMER}], userStatus=ACTIVE} found by userName: customer3
2020-08-19 06:05:30.853  INFO 9356 --- [http-nio-8068-exec-2] r.l.security.JwtUserDetailsService       : IN loadUserByUsername - user with username: customer3 successfully loaded
2020-08-19 06:05:30.998  INFO 9356 --- [http-nio-8068-exec-2] r.l.service.user.impl.UserServiceImpl    : IN UserServiceImpl findByUsername - user: User{username='customer3', firstName='firstName3', lastName='lastName3', email='email3@mail.ru', phone='79339797603', password='$2a$10$xDCVWzkV0osns7uDyLOXKeqyzu6FgAFSQkYstDP95o.z61Bn9ghJq', roles=[Role{id: 3, name: ROLE_CUSTOMER}], userStatus=ACTIVE} found by userName: customer3
2020-08-19 06:05:31.106 DEBUG 9356 --- [http-nio-8068-exec-2] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match the requestMatcher org.springframework.security.web.header.writers.HstsHeaderWriter$SecureRequestMatcher@419b8609
2020-08-19 06:05:31.119 DEBUG 9356 --- [http-nio-8068-exec-2] o.s.s.w.a.ExceptionTranslationFilter     : Chain processed normally
2020-08-19 06:05:31.120 DEBUG 9356 --- [http-nio-8068-exec-2] s.s.w.c.SecurityContextPersistenceFilter : SecurityContextHolder now cleared, as request processing completed
2020-08-19 06:06:09.384 DEBUG 9356 --- [http-nio-8068-exec-3] o.s.security.web.FilterChainProxy        : /api/v1customers/me at position 1 of 11 in additional filter chain; firing Filter: 'WebAsyncManagerIntegrationFilter'
2020-08-19 06:06:09.385 DEBUG 9356 --- [http-nio-8068-exec-3] o.s.security.web.FilterChainProxy        : /api/v1customers/me at position 2 of 11 in additional filter chain; firing Filter: 'SecurityContextPersistenceFilter'
2020-08-19 06:06:09.385 DEBUG 9356 --- [http-nio-8068-exec-3] o.s.security.web.FilterChainProxy        : /api/v1customers/me at position 3 of 11 in additional filter chain; firing Filter: 'HeaderWriterFilter'
2020-08-19 06:06:09.385 DEBUG 9356 --- [http-nio-8068-exec-3] o.s.security.web.FilterChainProxy        : /api/v1customers/me at position 4 of 11 in additional filter chain; firing Filter: 'LogoutFilter'
2020-08-19 06:06:09.385 DEBUG 9356 --- [http-nio-8068-exec-3] o.s.s.web.util.matcher.OrRequestMatcher  : Trying to match using Ant [pattern='/logout', GET]
2020-08-19 06:06:09.385 DEBUG 9356 --- [http-nio-8068-exec-3] o.s.s.w.u.matcher.AntPathRequestMatcher  : Request 'DELETE /api/v1customers/me' doesn't match 'GET /logout'
2020-08-19 06:06:09.385 DEBUG 9356 --- [http-nio-8068-exec-3] o.s.s.web.util.matcher.OrRequestMatcher  : Trying to match using Ant [pattern='/logout', POST]
2020-08-19 06:06:09.386 DEBUG 9356 --- [http-nio-8068-exec-3] o.s.s.w.u.matcher.AntPathRequestMatcher  : Request 'DELETE /api/v1customers/me' doesn't match 'POST /logout'
2020-08-19 06:06:09.386 DEBUG 9356 --- [http-nio-8068-exec-3] o.s.s.web.util.matcher.OrRequestMatcher  : Trying to match using Ant [pattern='/logout', PUT]
2020-08-19 06:06:09.386 DEBUG 9356 --- [http-nio-8068-exec-3] o.s.s.w.u.matcher.AntPathRequestMatcher  : Request 'DELETE /api/v1customers/me' doesn't match 'PUT /logout'
2020-08-19 06:06:09.386 DEBUG 9356 --- [http-nio-8068-exec-3] o.s.s.web.util.matcher.OrRequestMatcher  : Trying to match using Ant [pattern='/logout', DELETE]
2020-08-19 06:06:09.386 DEBUG 9356 --- [http-nio-8068-exec-3] o.s.s.w.u.matcher.AntPathRequestMatcher  : Checking match of request : '/api/v1customers/me'; against '/logout'
2020-08-19 06:06:09.386 DEBUG 9356 --- [http-nio-8068-exec-3] o.s.s.web.util.matcher.OrRequestMatcher  : No matches found
2020-08-19 06:06:09.386 DEBUG 9356 --- [http-nio-8068-exec-3] o.s.security.web.FilterChainProxy        : /api/v1customers/me at position 5 of 11 in additional filter chain; firing Filter: 'JwtTokenFilter'
2020-08-19 06:06:09.441  INFO 9356 --- [http-nio-8068-exec-3] r.l.service.user.impl.UserServiceImpl    : IN UserServiceImpl findByUsername - user: User{username='customer3', firstName='firstName3', lastName='lastName3', email='email3@mail.ru', phone='79339797603', password='$2a$10$xDCVWzkV0osns7uDyLOXKeqyzu6FgAFSQkYstDP95o.z61Bn9ghJq', roles=[Role{id: 3, name: ROLE_CUSTOMER}], userStatus=ACTIVE} found by userName: customer3
2020-08-19 06:06:09.441  INFO 9356 --- [http-nio-8068-exec-3] r.l.security.JwtUserDetailsService       : IN loadUserByUsername - user with username: customer3 successfully loaded
2020-08-19 06:06:09.441 DEBUG 9356 --- [http-nio-8068-exec-3] o.s.security.web.FilterChainProxy        : /api/v1customers/me at position 6 of 11 in additional filter chain; firing Filter: 'RequestCacheAwareFilter'
2020-08-19 06:06:09.441 DEBUG 9356 --- [http-nio-8068-exec-3] o.s.security.web.FilterChainProxy        : /api/v1customers/me at position 7 of 11 in additional filter chain; firing Filter: 'SecurityContextHolderAwareRequestFilter'
2020-08-19 06:06:09.441 DEBUG 9356 --- [http-nio-8068-exec-3] o.s.security.web.FilterChainProxy        : /api/v1customers/me at position 8 of 11 in additional filter chain; firing Filter: 'AnonymousAuthenticationFilter'
2020-08-19 06:06:09.441 DEBUG 9356 --- [http-nio-8068-exec-3] o.s.s.w.a.AnonymousAuthenticationFilter  : SecurityContextHolder not populated with anonymous token, as it already contained: 'org.springframework.security.authentication.UsernamePasswordAuthenticationToken@ac8b0219: Principal: ru.logisticplatform.security.jwt.JwtUser@7ad3b05a; Credentials: [PROTECTED]; Authenticated: true; Details: null; Granted Authorities: ROLE_CUSTOMER'
2020-08-19 06:06:09.441 DEBUG 9356 --- [http-nio-8068-exec-3] o.s.security.web.FilterChainProxy        : /api/v1customers/me at position 9 of 11 in additional filter chain; firing Filter: 'SessionManagementFilter'
2020-08-19 06:06:09.441 DEBUG 9356 --- [http-nio-8068-exec-3] s.CompositeSessionAuthenticationStrategy : Delegating to org.springframework.security.web.authentication.session.ChangeSessionIdAuthenticationStrategy@1387bd84
2020-08-19 06:06:09.441 DEBUG 9356 --- [http-nio-8068-exec-3] o.s.security.web.FilterChainProxy        : /api/v1customers/me at position 10 of 11 in additional filter chain; firing Filter: 'ExceptionTranslationFilter'
2020-08-19 06:06:09.442 DEBUG 9356 --- [http-nio-8068-exec-3] o.s.security.web.FilterChainProxy        : /api/v1customers/me at position 11 of 11 in additional filter chain; firing Filter: 'FilterSecurityInterceptor'
2020-08-19 06:06:09.442 DEBUG 9356 --- [http-nio-8068-exec-3] o.s.s.w.u.matcher.AntPathRequestMatcher  : Checking match of request : '/api/v1customers/me'; against '/api/v1/sign/**'
2020-08-19 06:06:09.442 DEBUG 9356 --- [http-nio-8068-exec-3] o.s.s.w.u.matcher.AntPathRequestMatcher  : Checking match of request : '/api/v1customers/me'; against '/api/v1/admins/**'
2020-08-19 06:06:09.442 DEBUG 9356 --- [http-nio-8068-exec-3] o.s.s.w.u.matcher.AntPathRequestMatcher  : Checking match of request : '/api/v1customers/me'; against '/api/v1/customers/**'
2020-08-19 06:06:09.442 DEBUG 9356 --- [http-nio-8068-exec-3] o.s.s.w.a.i.FilterSecurityInterceptor    : Secure object: FilterInvocation: URL: /api/v1customers/me; Attributes: [authenticated]
2020-08-19 06:06:09.442 DEBUG 9356 --- [http-nio-8068-exec-3] o.s.s.w.a.i.FilterSecurityInterceptor    : Previously Authenticated: org.springframework.security.authentication.UsernamePasswordAuthenticationToken@ac8b0219: Principal: ru.logisticplatform.security.jwt.JwtUser@7ad3b05a; Credentials: [PROTECTED]; Authenticated: true; Details: null; Granted Authorities: ROLE_CUSTOMER
2020-08-19 06:06:09.442 DEBUG 9356 --- [http-nio-8068-exec-3] o.s.s.access.vote.AffirmativeBased       : Voter: org.springframework.security.web.access.expression.WebExpressionVoter@472b854, returned: 1
2020-08-19 06:06:09.443 DEBUG 9356 --- [http-nio-8068-exec-3] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorization successful
2020-08-19 06:06:09.443 DEBUG 9356 --- [http-nio-8068-exec-3] o.s.s.w.a.i.FilterSecurityInterceptor    : RunAsManager did not change Authentication object
2020-08-19 06:06:09.443 DEBUG 9356 --- [http-nio-8068-exec-3] o.s.security.web.FilterChainProxy        : /api/v1customers/me reached end of additional filter chain; proceeding with original chain
2020-08-19 06:06:09.449 DEBUG 9356 --- [http-nio-8068-exec-3] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match the requestMatcher org.springframework.security.web.header.writers.HstsHeaderWriter$SecureRequestMatcher@419b8609
2020-08-19 06:06:09.449 DEBUG 9356 --- [http-nio-8068-exec-3] o.s.s.w.a.ExceptionTranslationFilter     : Chain processed normally
2020-08-19 06:06:09.449 DEBUG 9356 --- [http-nio-8068-exec-3] s.s.w.c.SecurityContextPersistenceFilter : SecurityContextHolder now cleared, as request processing completed
2020-08-19 06:06:09.453 DEBUG 9356 --- [http-nio-8068-exec-3] o.s.security.web.FilterChainProxy        : /error at position 1 of 11 in additional filter chain; firing Filter: 'WebAsyncManagerIntegrationFilter'
2020-08-19 06:06:09.454 DEBUG 9356 --- [http-nio-8068-exec-3] o.s.security.web.FilterChainProxy        : /error at position 2 of 11 in additional filter chain; firing Filter: 'SecurityContextPersistenceFilter'
2020-08-19 06:06:09.454 DEBUG 9356 --- [http-nio-8068-exec-3] o.s.security.web.FilterChainProxy        : /error at position 3 of 11 in additional filter chain; firing Filter: 'HeaderWriterFilter'
2020-08-19 06:06:09.454 DEBUG 9356 --- [http-nio-8068-exec-3] o.s.security.web.FilterChainProxy        : /error at position 4 of 11 in additional filter chain; firing Filter: 'LogoutFilter'
2020-08-19 06:06:09.454 DEBUG 9356 --- [http-nio-8068-exec-3] o.s.s.web.util.matcher.OrRequestMatcher  : Trying to match using Ant [pattern='/logout', GET]
2020-08-19 06:06:09.454 DEBUG 9356 --- [http-nio-8068-exec-3] o.s.s.w.u.matcher.AntPathRequestMatcher  : Request 'DELETE /error' doesn't match 'GET /logout'
2020-08-19 06:06:09.454 DEBUG 9356 --- [http-nio-8068-exec-3] o.s.s.web.util.matcher.OrRequestMatcher  : Trying to match using Ant [pattern='/logout', POST]
2020-08-19 06:06:09.454 DEBUG 9356 --- [http-nio-8068-exec-3] o.s.s.w.u.matcher.AntPathRequestMatcher  : Request 'DELETE /error' doesn't match 'POST /logout'
2020-08-19 06:06:09.454 DEBUG 9356 --- [http-nio-8068-exec-3] o.s.s.web.util.matcher.OrRequestMatcher  : Trying to match using Ant [pattern='/logout', PUT]
2020-08-19 06:06:09.454 DEBUG 9356 --- [http-nio-8068-exec-3] o.s.s.w.u.matcher.AntPathRequestMatcher  : Request 'DELETE /error' doesn't match 'PUT /logout'
2020-08-19 06:06:09.454 DEBUG 9356 --- [http-nio-8068-exec-3] o.s.s.web.util.matcher.OrRequestMatcher  : Trying to match using Ant [pattern='/logout', DELETE]
2020-08-19 06:06:09.454 DEBUG 9356 --- [http-nio-8068-exec-3] o.s.s.w.u.matcher.AntPathRequestMatcher  : Checking match of request : '/error'; against '/logout'
2020-08-19 06:06:09.454 DEBUG 9356 --- [http-nio-8068-exec-3] o.s.s.web.util.matcher.OrRequestMatcher  : No matches found
2020-08-19 06:06:09.455 DEBUG 9356 --- [http-nio-8068-exec-3] o.s.security.web.FilterChainProxy        : /error at position 5 of 11 in additional filter chain; firing Filter: 'JwtTokenFilter'
2020-08-19 06:06:09.459  INFO 9356 --- [http-nio-8068-exec-3] r.l.service.user.impl.UserServiceImpl    : IN UserServiceImpl findByUsername - user: User{username='customer3', firstName='firstName3', lastName='lastName3', email='email3@mail.ru', phone='79339797603', password='$2a$10$xDCVWzkV0osns7uDyLOXKeqyzu6FgAFSQkYstDP95o.z61Bn9ghJq', roles=[Role{id: 3, name: ROLE_CUSTOMER}], userStatus=ACTIVE} found by userName: customer3
2020-08-19 06:06:09.460  INFO 9356 --- [http-nio-8068-exec-3] r.l.security.JwtUserDetailsService       : IN loadUserByUsername - user with username: customer3 successfully loaded
2020-08-19 06:06:09.460 DEBUG 9356 --- [http-nio-8068-exec-3] o.s.security.web.FilterChainProxy        : /error at position 6 of 11 in additional filter chain; firing Filter: 'RequestCacheAwareFilter'
2020-08-19 06:06:09.460 DEBUG 9356 --- [http-nio-8068-exec-3] o.s.security.web.FilterChainProxy        : /error at position 7 of 11 in additional filter chain; firing Filter: 'SecurityContextHolderAwareRequestFilter'
2020-08-19 06:06:09.460 DEBUG 9356 --- [http-nio-8068-exec-3] o.s.security.web.FilterChainProxy        : /error at position 8 of 11 in additional filter chain; firing Filter: 'AnonymousAuthenticationFilter'
2020-08-19 06:06:09.460 DEBUG 9356 --- [http-nio-8068-exec-3] o.s.s.w.a.AnonymousAuthenticationFilter  : SecurityContextHolder not populated with anonymous token, as it already contained: 'org.springframework.security.authentication.UsernamePasswordAuthenticationToken@941dc72e: Principal: ru.logisticplatform.security.jwt.JwtUser@4245756d; Credentials: [PROTECTED]; Authenticated: true; Details: null; Granted Authorities: ROLE_CUSTOMER'
2020-08-19 06:06:09.460 DEBUG 9356 --- [http-nio-8068-exec-3] o.s.security.web.FilterChainProxy        : /error at position 9 of 11 in additional filter chain; firing Filter: 'SessionManagementFilter'
2020-08-19 06:06:09.460 DEBUG 9356 --- [http-nio-8068-exec-3] o.s.security.web.FilterChainProxy        : /error at position 10 of 11 in additional filter chain; firing Filter: 'ExceptionTranslationFilter'
2020-08-19 06:06:09.460 DEBUG 9356 --- [http-nio-8068-exec-3] o.s.security.web.FilterChainProxy        : /error at position 11 of 11 in additional filter chain; firing Filter: 'FilterSecurityInterceptor'
2020-08-19 06:06:09.460 DEBUG 9356 --- [http-nio-8068-exec-3] o.s.security.web.FilterChainProxy        : /error reached end of additional filter chain; proceeding with original chain
2020-08-19 06:06:09.474 DEBUG 9356 --- [http-nio-8068-exec-3] o.s.s.w.a.ExceptionTranslationFilter     : Chain processed normally
2020-08-19 06:06:09.474 DEBUG 9356 --- [http-nio-8068-exec-3] s.s.w.c.SecurityContextPersistenceFilter : SecurityContextHolder now cleared, as request processing completed
2020-08-19 06:07:28.123 DEBUG 9356 --- [http-nio-8068-exec-8] o.s.security.web.FilterChainProxy        : /api/v1/sign/in at position 1 of 11 in additional filter chain; firing Filter: 'WebAsyncManagerIntegrationFilter'
2020-08-19 06:07:28.123 DEBUG 9356 --- [http-nio-8068-exec-8] o.s.security.web.FilterChainProxy        : /api/v1/sign/in at position 2 of 11 in additional filter chain; firing Filter: 'SecurityContextPersistenceFilter'
2020-08-19 06:07:28.123 DEBUG 9356 --- [http-nio-8068-exec-8] o.s.security.web.FilterChainProxy        : /api/v1/sign/in at position 3 of 11 in additional filter chain; firing Filter: 'HeaderWriterFilter'
2020-08-19 06:07:28.123 DEBUG 9356 --- [http-nio-8068-exec-8] o.s.security.web.FilterChainProxy        : /api/v1/sign/in at position 4 of 11 in additional filter chain; firing Filter: 'LogoutFilter'
2020-08-19 06:07:28.123 DEBUG 9356 --- [http-nio-8068-exec-8] o.s.s.web.util.matcher.OrRequestMatcher  : Trying to match using Ant [pattern='/logout', GET]
2020-08-19 06:07:28.123 DEBUG 9356 --- [http-nio-8068-exec-8] o.s.s.w.u.matcher.AntPathRequestMatcher  : Request 'POST /api/v1/sign/in' doesn't match 'GET /logout'
2020-08-19 06:07:28.124 DEBUG 9356 --- [http-nio-8068-exec-8] o.s.s.web.util.matcher.OrRequestMatcher  : Trying to match using Ant [pattern='/logout', POST]
2020-08-19 06:07:28.124 DEBUG 9356 --- [http-nio-8068-exec-8] o.s.s.w.u.matcher.AntPathRequestMatcher  : Checking match of request : '/api/v1/sign/in'; against '/logout'
2020-08-19 06:07:28.124 DEBUG 9356 --- [http-nio-8068-exec-8] o.s.s.web.util.matcher.OrRequestMatcher  : Trying to match using Ant [pattern='/logout', PUT]
2020-08-19 06:07:28.124 DEBUG 9356 --- [http-nio-8068-exec-8] o.s.s.w.u.matcher.AntPathRequestMatcher  : Request 'POST /api/v1/sign/in' doesn't match 'PUT /logout'
2020-08-19 06:07:28.124 DEBUG 9356 --- [http-nio-8068-exec-8] o.s.s.web.util.matcher.OrRequestMatcher  : Trying to match using Ant [pattern='/logout', DELETE]
2020-08-19 06:07:28.124 DEBUG 9356 --- [http-nio-8068-exec-8] o.s.s.w.u.matcher.AntPathRequestMatcher  : Request 'POST /api/v1/sign/in' doesn't match 'DELETE /logout'
2020-08-19 06:07:28.124 DEBUG 9356 --- [http-nio-8068-exec-8] o.s.s.web.util.matcher.OrRequestMatcher  : No matches found
2020-08-19 06:07:28.124 DEBUG 9356 --- [http-nio-8068-exec-8] o.s.security.web.FilterChainProxy        : /api/v1/sign/in at position 5 of 11 in additional filter chain; firing Filter: 'JwtTokenFilter'
2020-08-19 06:07:28.124 DEBUG 9356 --- [http-nio-8068-exec-8] o.s.security.web.FilterChainProxy        : /api/v1/sign/in at position 6 of 11 in additional filter chain; firing Filter: 'RequestCacheAwareFilter'
2020-08-19 06:07:28.124 DEBUG 9356 --- [http-nio-8068-exec-8] o.s.security.web.FilterChainProxy        : /api/v1/sign/in at position 7 of 11 in additional filter chain; firing Filter: 'SecurityContextHolderAwareRequestFilter'
2020-08-19 06:07:28.125 DEBUG 9356 --- [http-nio-8068-exec-8] o.s.security.web.FilterChainProxy        : /api/v1/sign/in at position 8 of 11 in additional filter chain; firing Filter: 'AnonymousAuthenticationFilter'
2020-08-19 06:07:28.125 DEBUG 9356 --- [http-nio-8068-exec-8] o.s.s.w.a.AnonymousAuthenticationFilter  : Populated SecurityContextHolder with anonymous token: 'org.springframework.security.authentication.AnonymousAuthenticationToken@62842ca2: Principal: anonymousUser; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_ANONYMOUS'
2020-08-19 06:07:28.125 DEBUG 9356 --- [http-nio-8068-exec-8] o.s.security.web.FilterChainProxy        : /api/v1/sign/in at position 9 of 11 in additional filter chain; firing Filter: 'SessionManagementFilter'
2020-08-19 06:07:28.125 DEBUG 9356 --- [http-nio-8068-exec-8] o.s.security.web.FilterChainProxy        : /api/v1/sign/in at position 10 of 11 in additional filter chain; firing Filter: 'ExceptionTranslationFilter'
2020-08-19 06:07:28.126 DEBUG 9356 --- [http-nio-8068-exec-8] o.s.security.web.FilterChainProxy        : /api/v1/sign/in at position 11 of 11 in additional filter chain; firing Filter: 'FilterSecurityInterceptor'
2020-08-19 06:07:28.126 DEBUG 9356 --- [http-nio-8068-exec-8] o.s.s.w.u.matcher.AntPathRequestMatcher  : Checking match of request : '/api/v1/sign/in'; against '/api/v1/sign/**'
2020-08-19 06:07:28.126 DEBUG 9356 --- [http-nio-8068-exec-8] o.s.s.w.a.i.FilterSecurityInterceptor    : Secure object: FilterInvocation: URL: /api/v1/sign/in; Attributes: [permitAll]
2020-08-19 06:07:28.126 DEBUG 9356 --- [http-nio-8068-exec-8] o.s.s.w.a.i.FilterSecurityInterceptor    : Previously Authenticated: org.springframework.security.authentication.AnonymousAuthenticationToken@62842ca2: Principal: anonymousUser; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_ANONYMOUS
2020-08-19 06:07:28.127 DEBUG 9356 --- [http-nio-8068-exec-8] o.s.s.access.vote.AffirmativeBased       : Voter: org.springframework.security.web.access.expression.WebExpressionVoter@472b854, returned: 1
2020-08-19 06:07:28.127 DEBUG 9356 --- [http-nio-8068-exec-8] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorization successful
2020-08-19 06:07:28.127 DEBUG 9356 --- [http-nio-8068-exec-8] o.s.s.w.a.i.FilterSecurityInterceptor    : RunAsManager did not change Authentication object
2020-08-19 06:07:28.127 DEBUG 9356 --- [http-nio-8068-exec-8] o.s.security.web.FilterChainProxy        : /api/v1/sign/in reached end of additional filter chain; proceeding with original chain
2020-08-19 06:07:28.128 DEBUG 9356 --- [http-nio-8068-exec-8] o.s.s.authentication.ProviderManager     : Authentication attempt using org.springframework.security.authentication.dao.DaoAuthenticationProvider
2020-08-19 06:07:28.134  INFO 9356 --- [http-nio-8068-exec-8] r.l.service.user.impl.UserServiceImpl    : IN UserServiceImpl findByUsername - user: User{username='contractor2', firstName='firstName2', lastName='lastName2', email='email2@mail.ru', phone='79229797602', password='$2a$10$Uzl41xR.OUV7m1pFV0zRuO85fGWOWZNK2TY36aDr1gn5rn3uNZGU.', roles=[Role{id: 2, name: ROLE_CONTRACTOR}], userStatus=ACTIVE} found by userName: contractor2
2020-08-19 06:07:28.134  INFO 9356 --- [http-nio-8068-exec-8] r.l.security.JwtUserDetailsService       : IN loadUserByUsername - user with username: contractor2 successfully loaded
2020-08-19 06:07:28.262  INFO 9356 --- [http-nio-8068-exec-8] r.l.service.user.impl.UserServiceImpl    : IN UserServiceImpl findByUsername - user: User{username='contractor2', firstName='firstName2', lastName='lastName2', email='email2@mail.ru', phone='79229797602', password='$2a$10$Uzl41xR.OUV7m1pFV0zRuO85fGWOWZNK2TY36aDr1gn5rn3uNZGU.', roles=[Role{id: 2, name: ROLE_CONTRACTOR}], userStatus=ACTIVE} found by userName: contractor2
2020-08-19 06:07:28.263 DEBUG 9356 --- [http-nio-8068-exec-8] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match the requestMatcher org.springframework.security.web.header.writers.HstsHeaderWriter$SecureRequestMatcher@419b8609
2020-08-19 06:07:28.264 DEBUG 9356 --- [http-nio-8068-exec-8] o.s.s.w.a.ExceptionTranslationFilter     : Chain processed normally
2020-08-19 06:07:28.264 DEBUG 9356 --- [http-nio-8068-exec-8] s.s.w.c.SecurityContextPersistenceFilter : SecurityContextHolder now cleared, as request processing completed
2020-08-19 06:07:44.728 DEBUG 9356 --- [http-nio-8068-exec-9] o.s.security.web.FilterChainProxy        : /api/v1/customers/me at position 1 of 11 in additional filter chain; firing Filter: 'WebAsyncManagerIntegrationFilter'
2020-08-19 06:07:44.728 DEBUG 9356 --- [http-nio-8068-exec-9] o.s.security.web.FilterChainProxy        : /api/v1/customers/me at position 2 of 11 in additional filter chain; firing Filter: 'SecurityContextPersistenceFilter'
2020-08-19 06:07:44.729 DEBUG 9356 --- [http-nio-8068-exec-9] o.s.security.web.FilterChainProxy        : /api/v1/customers/me at position 3 of 11 in additional filter chain; firing Filter: 'HeaderWriterFilter'
2020-08-19 06:07:44.729 DEBUG 9356 --- [http-nio-8068-exec-9] o.s.security.web.FilterChainProxy        : /api/v1/customers/me at position 4 of 11 in additional filter chain; firing Filter: 'LogoutFilter'
2020-08-19 06:07:44.729 DEBUG 9356 --- [http-nio-8068-exec-9] o.s.s.web.util.matcher.OrRequestMatcher  : Trying to match using Ant [pattern='/logout', GET]
2020-08-19 06:07:44.729 DEBUG 9356 --- [http-nio-8068-exec-9] o.s.s.w.u.matcher.AntPathRequestMatcher  : Request 'DELETE /api/v1/customers/me' doesn't match 'GET /logout'
2020-08-19 06:07:44.729 DEBUG 9356 --- [http-nio-8068-exec-9] o.s.s.web.util.matcher.OrRequestMatcher  : Trying to match using Ant [pattern='/logout', POST]
2020-08-19 06:07:44.729 DEBUG 9356 --- [http-nio-8068-exec-9] o.s.s.w.u.matcher.AntPathRequestMatcher  : Request 'DELETE /api/v1/customers/me' doesn't match 'POST /logout'
2020-08-19 06:07:44.729 DEBUG 9356 --- [http-nio-8068-exec-9] o.s.s.web.util.matcher.OrRequestMatcher  : Trying to match using Ant [pattern='/logout', PUT]
2020-08-19 06:07:44.729 DEBUG 9356 --- [http-nio-8068-exec-9] o.s.s.w.u.matcher.AntPathRequestMatcher  : Request 'DELETE /api/v1/customers/me' doesn't match 'PUT /logout'
2020-08-19 06:07:44.729 DEBUG 9356 --- [http-nio-8068-exec-9] o.s.s.web.util.matcher.OrRequestMatcher  : Trying to match using Ant [pattern='/logout', DELETE]
2020-08-19 06:07:44.729 DEBUG 9356 --- [http-nio-8068-exec-9] o.s.s.w.u.matcher.AntPathRequestMatcher  : Checking match of request : '/api/v1/customers/me'; against '/logout'
2020-08-19 06:07:44.730 DEBUG 9356 --- [http-nio-8068-exec-9] o.s.s.web.util.matcher.OrRequestMatcher  : No matches found
2020-08-19 06:07:44.730 DEBUG 9356 --- [http-nio-8068-exec-9] o.s.security.web.FilterChainProxy        : /api/v1/customers/me at position 5 of 11 in additional filter chain; firing Filter: 'JwtTokenFilter'
2020-08-19 06:07:44.739  INFO 9356 --- [http-nio-8068-exec-9] r.l.service.user.impl.UserServiceImpl    : IN UserServiceImpl findByUsername - user: User{username='contractor2', firstName='firstName2', lastName='lastName2', email='email2@mail.ru', phone='79229797602', password='$2a$10$Uzl41xR.OUV7m1pFV0zRuO85fGWOWZNK2TY36aDr1gn5rn3uNZGU.', roles=[Role{id: 2, name: ROLE_CONTRACTOR}], userStatus=ACTIVE} found by userName: contractor2
2020-08-19 06:07:44.739  INFO 9356 --- [http-nio-8068-exec-9] r.l.security.JwtUserDetailsService       : IN loadUserByUsername - user with username: contractor2 successfully loaded
2020-08-19 06:07:44.739 DEBUG 9356 --- [http-nio-8068-exec-9] o.s.security.web.FilterChainProxy        : /api/v1/customers/me at position 6 of 11 in additional filter chain; firing Filter: 'RequestCacheAwareFilter'
2020-08-19 06:07:44.739 DEBUG 9356 --- [http-nio-8068-exec-9] o.s.security.web.FilterChainProxy        : /api/v1/customers/me at position 7 of 11 in additional filter chain; firing Filter: 'SecurityContextHolderAwareRequestFilter'
2020-08-19 06:07:44.739 DEBUG 9356 --- [http-nio-8068-exec-9] o.s.security.web.FilterChainProxy        : /api/v1/customers/me at position 8 of 11 in additional filter chain; firing Filter: 'AnonymousAuthenticationFilter'
2020-08-19 06:07:44.739 DEBUG 9356 --- [http-nio-8068-exec-9] o.s.s.w.a.AnonymousAuthenticationFilter  : SecurityContextHolder not populated with anonymous token, as it already contained: 'org.springframework.security.authentication.UsernamePasswordAuthenticationToken@153c9f6f: Principal: ru.logisticplatform.security.jwt.JwtUser@abd4575; Credentials: [PROTECTED]; Authenticated: true; Details: null; Granted Authorities: ROLE_CONTRACTOR'
2020-08-19 06:07:44.740 DEBUG 9356 --- [http-nio-8068-exec-9] o.s.security.web.FilterChainProxy        : /api/v1/customers/me at position 9 of 11 in additional filter chain; firing Filter: 'SessionManagementFilter'
2020-08-19 06:07:44.740 DEBUG 9356 --- [http-nio-8068-exec-9] s.CompositeSessionAuthenticationStrategy : Delegating to org.springframework.security.web.authentication.session.ChangeSessionIdAuthenticationStrategy@1387bd84
2020-08-19 06:07:44.740 DEBUG 9356 --- [http-nio-8068-exec-9] o.s.security.web.FilterChainProxy        : /api/v1/customers/me at position 10 of 11 in additional filter chain; firing Filter: 'ExceptionTranslationFilter'
2020-08-19 06:07:44.740 DEBUG 9356 --- [http-nio-8068-exec-9] o.s.security.web.FilterChainProxy        : /api/v1/customers/me at position 11 of 11 in additional filter chain; firing Filter: 'FilterSecurityInterceptor'
2020-08-19 06:07:44.740 DEBUG 9356 --- [http-nio-8068-exec-9] o.s.s.w.u.matcher.AntPathRequestMatcher  : Checking match of request : '/api/v1/customers/me'; against '/api/v1/sign/**'
2020-08-19 06:07:44.740 DEBUG 9356 --- [http-nio-8068-exec-9] o.s.s.w.u.matcher.AntPathRequestMatcher  : Checking match of request : '/api/v1/customers/me'; against '/api/v1/admins/**'
2020-08-19 06:07:44.740 DEBUG 9356 --- [http-nio-8068-exec-9] o.s.s.w.u.matcher.AntPathRequestMatcher  : Checking match of request : '/api/v1/customers/me'; against '/api/v1/customers/**'
2020-08-19 06:07:44.740 DEBUG 9356 --- [http-nio-8068-exec-9] o.s.s.w.a.i.FilterSecurityInterceptor    : Secure object: FilterInvocation: URL: /api/v1/customers/me; Attributes: [hasRole('ROLE_CUSTOMER')]
2020-08-19 06:07:44.740 DEBUG 9356 --- [http-nio-8068-exec-9] o.s.s.w.a.i.FilterSecurityInterceptor    : Previously Authenticated: org.springframework.security.authentication.UsernamePasswordAuthenticationToken@153c9f6f: Principal: ru.logisticplatform.security.jwt.JwtUser@abd4575; Credentials: [PROTECTED]; Authenticated: true; Details: null; Granted Authorities: ROLE_CONTRACTOR
2020-08-19 06:07:44.741 DEBUG 9356 --- [http-nio-8068-exec-9] o.s.s.access.vote.AffirmativeBased       : Voter: org.springframework.security.web.access.expression.WebExpressionVoter@472b854, returned: -1
2020-08-19 06:07:44.750 DEBUG 9356 --- [http-nio-8068-exec-9] o.s.s.w.a.ExceptionTranslationFilter     : Access is denied (user is not anonymous); delegating to AccessDeniedHandler

org.springframework.security.access.AccessDeniedException: Access is denied
	at org.springframework.security.access.vote.AffirmativeBased.decide(AffirmativeBased.java:84) ~[spring-security-core-5.3.3.RELEASE.jar:5.3.3.RELEASE]
	at org.springframework.security.access.intercept.AbstractSecurityInterceptor.beforeInvocation(AbstractSecurityInterceptor.java:233) ~[spring-security-core-5.3.3.RELEASE.jar:5.3.3.RELEASE]
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:123) ~[spring-security-web-5.3.3.RELEASE.jar:5.3.3.RELEASE]
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:90) ~[spring-security-web-5.3.3.RELEASE.jar:5.3.3.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) [spring-security-web-5.3.3.RELEASE.jar:5.3.3.RELEASE]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:118) ~[spring-security-web-5.3.3.RELEASE.jar:5.3.3.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) [spring-security-web-5.3.3.RELEASE.jar:5.3.3.RELEASE]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:137) [spring-security-web-5.3.3.RELEASE.jar:5.3.3.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) [spring-security-web-5.3.3.RELEASE.jar:5.3.3.RELEASE]
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:111) [spring-security-web-5.3.3.RELEASE.jar:5.3.3.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) [spring-security-web-5.3.3.RELEASE.jar:5.3.3.RELEASE]
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:158) [spring-security-web-5.3.3.RELEASE.jar:5.3.3.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) [spring-security-web-5.3.3.RELEASE.jar:5.3.3.RELEASE]
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) [spring-security-web-5.3.3.RELEASE.jar:5.3.3.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) [spring-security-web-5.3.3.RELEASE.jar:5.3.3.RELEASE]
	at ru.logisticplatform.security.jwt.JwtTokenFilter.doFilter(JwtTokenFilter.java:34) [classes/:na]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) [spring-security-web-5.3.3.RELEASE.jar:5.3.3.RELEASE]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:116) [spring-security-web-5.3.3.RELEASE.jar:5.3.3.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) [spring-security-web-5.3.3.RELEASE.jar:5.3.3.RELEASE]
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:92) [spring-security-web-5.3.3.RELEASE.jar:5.3.3.RELEASE]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:77) [spring-security-web-5.3.3.RELEASE.jar:5.3.3.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) [spring-web-5.2.7.RELEASE.jar:5.2.7.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) [spring-security-web-5.3.3.RELEASE.jar:5.3.3.RELEASE]
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:105) [spring-security-web-5.3.3.RELEASE.jar:5.3.3.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) [spring-security-web-5.3.3.RELEASE.jar:5.3.3.RELEASE]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:56) [spring-security-web-5.3.3.RELEASE.jar:5.3.3.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) [spring-web-5.2.7.RELEASE.jar:5.2.7.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) [spring-security-web-5.3.3.RELEASE.jar:5.3.3.RELEASE]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:215) [spring-security-web-5.3.3.RELEASE.jar:5.3.3.RELEASE]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:178) [spring-security-web-5.3.3.RELEASE.jar:5.3.3.RELEASE]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:358) [spring-web-5.2.7.RELEASE.jar:5.2.7.RELEASE]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:271) [spring-web-5.2.7.RELEASE.jar:5.2.7.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-9.0.36.jar:9.0.36]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-9.0.36.jar:9.0.36]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) [spring-web-5.2.7.RELEASE.jar:5.2.7.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) [spring-web-5.2.7.RELEASE.jar:5.2.7.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-9.0.36.jar:9.0.36]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-9.0.36.jar:9.0.36]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) [spring-web-5.2.7.RELEASE.jar:5.2.7.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) [spring-web-5.2.7.RELEASE.jar:5.2.7.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-9.0.36.jar:9.0.36]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-9.0.36.jar:9.0.36]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) [spring-web-5.2.7.RELEASE.jar:5.2.7.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) [spring-web-5.2.7.RELEASE.jar:5.2.7.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-9.0.36.jar:9.0.36]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-9.0.36.jar:9.0.36]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:202) [tomcat-embed-core-9.0.36.jar:9.0.36]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96) [tomcat-embed-core-9.0.36.jar:9.0.36]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541) [tomcat-embed-core-9.0.36.jar:9.0.36]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:139) [tomcat-embed-core-9.0.36.jar:9.0.36]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92) [tomcat-embed-core-9.0.36.jar:9.0.36]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) [tomcat-embed-core-9.0.36.jar:9.0.36]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343) [tomcat-embed-core-9.0.36.jar:9.0.36]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:373) [tomcat-embed-core-9.0.36.jar:9.0.36]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65) [tomcat-embed-core-9.0.36.jar:9.0.36]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:868) [tomcat-embed-core-9.0.36.jar:9.0.36]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1590) [tomcat-embed-core-9.0.36.jar:9.0.36]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) [tomcat-embed-core-9.0.36.jar:9.0.36]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142) [na:1.8.0_111]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617) [na:1.8.0_111]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) [tomcat-embed-core-9.0.36.jar:9.0.36]
	at java.lang.Thread.run(Thread.java:745) [na:1.8.0_111]

2020-08-19 06:07:44.751 DEBUG 9356 --- [http-nio-8068-exec-9] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match the requestMatcher org.springframework.security.web.header.writers.HstsHeaderWriter$SecureRequestMatcher@419b8609
2020-08-19 06:07:44.752 DEBUG 9356 --- [http-nio-8068-exec-9] s.s.w.c.SecurityContextPersistenceFilter : SecurityContextHolder now cleared, as request processing completed
2020-08-19 06:07:44.752 DEBUG 9356 --- [http-nio-8068-exec-9] o.s.security.web.FilterChainProxy        : /error at position 1 of 11 in additional filter chain; firing Filter: 'WebAsyncManagerIntegrationFilter'
2020-08-19 06:07:44.752 DEBUG 9356 --- [http-nio-8068-exec-9] o.s.security.web.FilterChainProxy        : /error at position 2 of 11 in additional filter chain; firing Filter: 'SecurityContextPersistenceFilter'
2020-08-19 06:07:44.752 DEBUG 9356 --- [http-nio-8068-exec-9] o.s.security.web.FilterChainProxy        : /error at position 3 of 11 in additional filter chain; firing Filter: 'HeaderWriterFilter'
2020-08-19 06:07:44.753 DEBUG 9356 --- [http-nio-8068-exec-9] o.s.security.web.FilterChainProxy        : /error at position 4 of 11 in additional filter chain; firing Filter: 'LogoutFilter'
2020-08-19 06:07:44.753 DEBUG 9356 --- [http-nio-8068-exec-9] o.s.s.web.util.matcher.OrRequestMatcher  : Trying to match using Ant [pattern='/logout', GET]
2020-08-19 06:07:44.753 DEBUG 9356 --- [http-nio-8068-exec-9] o.s.s.w.u.matcher.AntPathRequestMatcher  : Request 'DELETE /error' doesn't match 'GET /logout'
2020-08-19 06:07:44.753 DEBUG 9356 --- [http-nio-8068-exec-9] o.s.s.web.util.matcher.OrRequestMatcher  : Trying to match using Ant [pattern='/logout', POST]
2020-08-19 06:07:44.753 DEBUG 9356 --- [http-nio-8068-exec-9] o.s.s.w.u.matcher.AntPathRequestMatcher  : Request 'DELETE /error' doesn't match 'POST /logout'
2020-08-19 06:07:44.753 DEBUG 9356 --- [http-nio-8068-exec-9] o.s.s.web.util.matcher.OrRequestMatcher  : Trying to match using Ant [pattern='/logout', PUT]
2020-08-19 06:07:44.753 DEBUG 9356 --- [http-nio-8068-exec-9] o.s.s.w.u.matcher.AntPathRequestMatcher  : Request 'DELETE /error' doesn't match 'PUT /logout'
2020-08-19 06:07:44.753 DEBUG 9356 --- [http-nio-8068-exec-9] o.s.s.web.util.matcher.OrRequestMatcher  : Trying to match using Ant [pattern='/logout', DELETE]
2020-08-19 06:07:44.753 DEBUG 9356 --- [http-nio-8068-exec-9] o.s.s.w.u.matcher.AntPathRequestMatcher  : Checking match of request : '/error'; against '/logout'
2020-08-19 06:07:44.753 DEBUG 9356 --- [http-nio-8068-exec-9] o.s.s.web.util.matcher.OrRequestMatcher  : No matches found
2020-08-19 06:07:44.754 DEBUG 9356 --- [http-nio-8068-exec-9] o.s.security.web.FilterChainProxy        : /error at position 5 of 11 in additional filter chain; firing Filter: 'JwtTokenFilter'
2020-08-19 06:07:44.760  INFO 9356 --- [http-nio-8068-exec-9] r.l.service.user.impl.UserServiceImpl    : IN UserServiceImpl findByUsername - user: User{username='contractor2', firstName='firstName2', lastName='lastName2', email='email2@mail.ru', phone='79229797602', password='$2a$10$Uzl41xR.OUV7m1pFV0zRuO85fGWOWZNK2TY36aDr1gn5rn3uNZGU.', roles=[Role{id: 2, name: ROLE_CONTRACTOR}], userStatus=ACTIVE} found by userName: contractor2
2020-08-19 06:07:44.760  INFO 9356 --- [http-nio-8068-exec-9] r.l.security.JwtUserDetailsService       : IN loadUserByUsername - user with username: contractor2 successfully loaded
2020-08-19 06:07:44.761 DEBUG 9356 --- [http-nio-8068-exec-9] o.s.security.web.FilterChainProxy        : /error at position 6 of 11 in additional filter chain; firing Filter: 'RequestCacheAwareFilter'
2020-08-19 06:07:44.761 DEBUG 9356 --- [http-nio-8068-exec-9] o.s.security.web.FilterChainProxy        : /error at position 7 of 11 in additional filter chain; firing Filter: 'SecurityContextHolderAwareRequestFilter'
2020-08-19 06:07:44.761 DEBUG 9356 --- [http-nio-8068-exec-9] o.s.security.web.FilterChainProxy        : /error at position 8 of 11 in additional filter chain; firing Filter: 'AnonymousAuthenticationFilter'
2020-08-19 06:07:44.761 DEBUG 9356 --- [http-nio-8068-exec-9] o.s.s.w.a.AnonymousAuthenticationFilter  : SecurityContextHolder not populated with anonymous token, as it already contained: 'org.springframework.security.authentication.UsernamePasswordAuthenticationToken@1b962068: Principal: ru.logisticplatform.security.jwt.JwtUser@417fa72; Credentials: [PROTECTED]; Authenticated: true; Details: null; Granted Authorities: ROLE_CONTRACTOR'
2020-08-19 06:07:44.761 DEBUG 9356 --- [http-nio-8068-exec-9] o.s.security.web.FilterChainProxy        : /error at position 9 of 11 in additional filter chain; firing Filter: 'SessionManagementFilter'
2020-08-19 06:07:44.761 DEBUG 9356 --- [http-nio-8068-exec-9] o.s.security.web.FilterChainProxy        : /error at position 10 of 11 in additional filter chain; firing Filter: 'ExceptionTranslationFilter'
2020-08-19 06:07:44.761 DEBUG 9356 --- [http-nio-8068-exec-9] o.s.security.web.FilterChainProxy        : /error at position 11 of 11 in additional filter chain; firing Filter: 'FilterSecurityInterceptor'
2020-08-19 06:07:44.761 DEBUG 9356 --- [http-nio-8068-exec-9] o.s.security.web.FilterChainProxy        : /error reached end of additional filter chain; proceeding with original chain
2020-08-19 06:07:44.764 DEBUG 9356 --- [http-nio-8068-exec-9] o.s.s.w.a.ExceptionTranslationFilter     : Chain processed normally
2020-08-19 06:07:44.765 DEBUG 9356 --- [http-nio-8068-exec-9] s.s.w.c.SecurityContextPersistenceFilter : SecurityContextHolder now cleared, as request processing completed
2020-08-19 06:07:58.840 DEBUG 9356 --- [http-nio-8068-exec-7] o.s.security.web.FilterChainProxy        : /api/v1/sign/in at position 1 of 11 in additional filter chain; firing Filter: 'WebAsyncManagerIntegrationFilter'
2020-08-19 06:07:58.840 DEBUG 9356 --- [http-nio-8068-exec-7] o.s.security.web.FilterChainProxy        : /api/v1/sign/in at position 2 of 11 in additional filter chain; firing Filter: 'SecurityContextPersistenceFilter'
2020-08-19 06:07:58.840 DEBUG 9356 --- [http-nio-8068-exec-7] o.s.security.web.FilterChainProxy        : /api/v1/sign/in at position 3 of 11 in additional filter chain; firing Filter: 'HeaderWriterFilter'
2020-08-19 06:07:58.840 DEBUG 9356 --- [http-nio-8068-exec-7] o.s.security.web.FilterChainProxy        : /api/v1/sign/in at position 4 of 11 in additional filter chain; firing Filter: 'LogoutFilter'
2020-08-19 06:07:58.841 DEBUG 9356 --- [http-nio-8068-exec-7] o.s.s.web.util.matcher.OrRequestMatcher  : Trying to match using Ant [pattern='/logout', GET]
2020-08-19 06:07:58.841 DEBUG 9356 --- [http-nio-8068-exec-7] o.s.s.w.u.matcher.AntPathRequestMatcher  : Request 'POST /api/v1/sign/in' doesn't match 'GET /logout'
2020-08-19 06:07:58.841 DEBUG 9356 --- [http-nio-8068-exec-7] o.s.s.web.util.matcher.OrRequestMatcher  : Trying to match using Ant [pattern='/logout', POST]
2020-08-19 06:07:58.841 DEBUG 9356 --- [http-nio-8068-exec-7] o.s.s.w.u.matcher.AntPathRequestMatcher  : Checking match of request : '/api/v1/sign/in'; against '/logout'
2020-08-19 06:07:58.841 DEBUG 9356 --- [http-nio-8068-exec-7] o.s.s.web.util.matcher.OrRequestMatcher  : Trying to match using Ant [pattern='/logout', PUT]
2020-08-19 06:07:58.841 DEBUG 9356 --- [http-nio-8068-exec-7] o.s.s.w.u.matcher.AntPathRequestMatcher  : Request 'POST /api/v1/sign/in' doesn't match 'PUT /logout'
2020-08-19 06:07:58.841 DEBUG 9356 --- [http-nio-8068-exec-7] o.s.s.web.util.matcher.OrRequestMatcher  : Trying to match using Ant [pattern='/logout', DELETE]
2020-08-19 06:07:58.841 DEBUG 9356 --- [http-nio-8068-exec-7] o.s.s.w.u.matcher.AntPathRequestMatcher  : Request 'POST /api/v1/sign/in' doesn't match 'DELETE /logout'
2020-08-19 06:07:58.841 DEBUG 9356 --- [http-nio-8068-exec-7] o.s.s.web.util.matcher.OrRequestMatcher  : No matches found
2020-08-19 06:07:58.841 DEBUG 9356 --- [http-nio-8068-exec-7] o.s.security.web.FilterChainProxy        : /api/v1/sign/in at position 5 of 11 in additional filter chain; firing Filter: 'JwtTokenFilter'
2020-08-19 06:07:58.842 DEBUG 9356 --- [http-nio-8068-exec-7] o.s.security.web.FilterChainProxy        : /api/v1/sign/in at position 6 of 11 in additional filter chain; firing Filter: 'RequestCacheAwareFilter'
2020-08-19 06:07:58.842 DEBUG 9356 --- [http-nio-8068-exec-7] o.s.security.web.FilterChainProxy        : /api/v1/sign/in at position 7 of 11 in additional filter chain; firing Filter: 'SecurityContextHolderAwareRequestFilter'
2020-08-19 06:07:58.842 DEBUG 9356 --- [http-nio-8068-exec-7] o.s.security.web.FilterChainProxy        : /api/v1/sign/in at position 8 of 11 in additional filter chain; firing Filter: 'AnonymousAuthenticationFilter'
2020-08-19 06:07:58.842 DEBUG 9356 --- [http-nio-8068-exec-7] o.s.s.w.a.AnonymousAuthenticationFilter  : Populated SecurityContextHolder with anonymous token: 'org.springframework.security.authentication.AnonymousAuthenticationToken@62842ca2: Principal: anonymousUser; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_ANONYMOUS'
2020-08-19 06:07:58.842 DEBUG 9356 --- [http-nio-8068-exec-7] o.s.security.web.FilterChainProxy        : /api/v1/sign/in at position 9 of 11 in additional filter chain; firing Filter: 'SessionManagementFilter'
2020-08-19 06:07:58.842 DEBUG 9356 --- [http-nio-8068-exec-7] o.s.security.web.FilterChainProxy        : /api/v1/sign/in at position 10 of 11 in additional filter chain; firing Filter: 'ExceptionTranslationFilter'
2020-08-19 06:07:58.843 DEBUG 9356 --- [http-nio-8068-exec-7] o.s.security.web.FilterChainProxy        : /api/v1/sign/in at position 11 of 11 in additional filter chain; firing Filter: 'FilterSecurityInterceptor'
2020-08-19 06:07:58.843 DEBUG 9356 --- [http-nio-8068-exec-7] o.s.s.w.u.matcher.AntPathRequestMatcher  : Checking match of request : '/api/v1/sign/in'; against '/api/v1/sign/**'
2020-08-19 06:07:58.843 DEBUG 9356 --- [http-nio-8068-exec-7] o.s.s.w.a.i.FilterSecurityInterceptor    : Secure object: FilterInvocation: URL: /api/v1/sign/in; Attributes: [permitAll]
2020-08-19 06:07:58.843 DEBUG 9356 --- [http-nio-8068-exec-7] o.s.s.w.a.i.FilterSecurityInterceptor    : Previously Authenticated: org.springframework.security.authentication.AnonymousAuthenticationToken@62842ca2: Principal: anonymousUser; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_ANONYMOUS
2020-08-19 06:07:58.843 DEBUG 9356 --- [http-nio-8068-exec-7] o.s.s.access.vote.AffirmativeBased       : Voter: org.springframework.security.web.access.expression.WebExpressionVoter@472b854, returned: 1
2020-08-19 06:07:58.843 DEBUG 9356 --- [http-nio-8068-exec-7] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorization successful
2020-08-19 06:07:58.843 DEBUG 9356 --- [http-nio-8068-exec-7] o.s.s.w.a.i.FilterSecurityInterceptor    : RunAsManager did not change Authentication object
2020-08-19 06:07:58.844 DEBUG 9356 --- [http-nio-8068-exec-7] o.s.security.web.FilterChainProxy        : /api/v1/sign/in reached end of additional filter chain; proceeding with original chain
2020-08-19 06:07:58.845 DEBUG 9356 --- [http-nio-8068-exec-7] o.s.s.authentication.ProviderManager     : Authentication attempt using org.springframework.security.authentication.dao.DaoAuthenticationProvider
2020-08-19 06:07:58.850  INFO 9356 --- [http-nio-8068-exec-7] r.l.service.user.impl.UserServiceImpl    : IN UserServiceImpl findByUsername - user: User{username='customer3', firstName='firstName3', lastName='lastName3', email='email3@mail.ru', phone='79339797603', password='$2a$10$xDCVWzkV0osns7uDyLOXKeqyzu6FgAFSQkYstDP95o.z61Bn9ghJq', roles=[Role{id: 3, name: ROLE_CUSTOMER}], userStatus=ACTIVE} found by userName: customer3
2020-08-19 06:07:58.850  INFO 9356 --- [http-nio-8068-exec-7] r.l.security.JwtUserDetailsService       : IN loadUserByUsername - user with username: customer3 successfully loaded
2020-08-19 06:07:58.984  INFO 9356 --- [http-nio-8068-exec-7] r.l.service.user.impl.UserServiceImpl    : IN UserServiceImpl findByUsername - user: User{username='customer3', firstName='firstName3', lastName='lastName3', email='email3@mail.ru', phone='79339797603', password='$2a$10$xDCVWzkV0osns7uDyLOXKeqyzu6FgAFSQkYstDP95o.z61Bn9ghJq', roles=[Role{id: 3, name: ROLE_CUSTOMER}], userStatus=ACTIVE} found by userName: customer3
2020-08-19 06:07:58.985 DEBUG 9356 --- [http-nio-8068-exec-7] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match the requestMatcher org.springframework.security.web.header.writers.HstsHeaderWriter$SecureRequestMatcher@419b8609
2020-08-19 06:07:58.986 DEBUG 9356 --- [http-nio-8068-exec-7] o.s.s.w.a.ExceptionTranslationFilter     : Chain processed normally
2020-08-19 06:07:58.987 DEBUG 9356 --- [http-nio-8068-exec-7] s.s.w.c.SecurityContextPersistenceFilter : SecurityContextHolder now cleared, as request processing completed
2020-08-19 06:08:19.215 DEBUG 9356 --- [http-nio-8068-exec-6] o.s.security.web.FilterChainProxy        : /api/v1/customers/me at position 1 of 11 in additional filter chain; firing Filter: 'WebAsyncManagerIntegrationFilter'
2020-08-19 06:08:19.215 DEBUG 9356 --- [http-nio-8068-exec-6] o.s.security.web.FilterChainProxy        : /api/v1/customers/me at position 2 of 11 in additional filter chain; firing Filter: 'SecurityContextPersistenceFilter'
2020-08-19 06:08:19.216 DEBUG 9356 --- [http-nio-8068-exec-6] o.s.security.web.FilterChainProxy        : /api/v1/customers/me at position 3 of 11 in additional filter chain; firing Filter: 'HeaderWriterFilter'
2020-08-19 06:08:19.216 DEBUG 9356 --- [http-nio-8068-exec-6] o.s.security.web.FilterChainProxy        : /api/v1/customers/me at position 4 of 11 in additional filter chain; firing Filter: 'LogoutFilter'
2020-08-19 06:08:19.216 DEBUG 9356 --- [http-nio-8068-exec-6] o.s.s.web.util.matcher.OrRequestMatcher  : Trying to match using Ant [pattern='/logout', GET]
2020-08-19 06:08:19.216 DEBUG 9356 --- [http-nio-8068-exec-6] o.s.s.w.u.matcher.AntPathRequestMatcher  : Request 'DELETE /api/v1/customers/me' doesn't match 'GET /logout'
2020-08-19 06:08:19.216 DEBUG 9356 --- [http-nio-8068-exec-6] o.s.s.web.util.matcher.OrRequestMatcher  : Trying to match using Ant [pattern='/logout', POST]
2020-08-19 06:08:19.217 DEBUG 9356 --- [http-nio-8068-exec-6] o.s.s.w.u.matcher.AntPathRequestMatcher  : Request 'DELETE /api/v1/customers/me' doesn't match 'POST /logout'
2020-08-19 06:08:19.217 DEBUG 9356 --- [http-nio-8068-exec-6] o.s.s.web.util.matcher.OrRequestMatcher  : Trying to match using Ant [pattern='/logout', PUT]
2020-08-19 06:08:19.217 DEBUG 9356 --- [http-nio-8068-exec-6] o.s.s.w.u.matcher.AntPathRequestMatcher  : Request 'DELETE /api/v1/customers/me' doesn't match 'PUT /logout'
2020-08-19 06:08:19.217 DEBUG 9356 --- [http-nio-8068-exec-6] o.s.s.web.util.matcher.OrRequestMatcher  : Trying to match using Ant [pattern='/logout', DELETE]
2020-08-19 06:08:19.218 DEBUG 9356 --- [http-nio-8068-exec-6] o.s.s.w.u.matcher.AntPathRequestMatcher  : Checking match of request : '/api/v1/customers/me'; against '/logout'
2020-08-19 06:08:19.218 DEBUG 9356 --- [http-nio-8068-exec-6] o.s.s.web.util.matcher.OrRequestMatcher  : No matches found
2020-08-19 06:08:19.218 DEBUG 9356 --- [http-nio-8068-exec-6] o.s.security.web.FilterChainProxy        : /api/v1/customers/me at position 5 of 11 in additional filter chain; firing Filter: 'JwtTokenFilter'
2020-08-19 06:08:19.230  INFO 9356 --- [http-nio-8068-exec-6] r.l.service.user.impl.UserServiceImpl    : IN UserServiceImpl findByUsername - user: User{username='customer3', firstName='firstName3', lastName='lastName3', email='email3@mail.ru', phone='79339797603', password='$2a$10$xDCVWzkV0osns7uDyLOXKeqyzu6FgAFSQkYstDP95o.z61Bn9ghJq', roles=[Role{id: 3, name: ROLE_CUSTOMER}], userStatus=ACTIVE} found by userName: customer3
2020-08-19 06:08:19.230  INFO 9356 --- [http-nio-8068-exec-6] r.l.security.JwtUserDetailsService       : IN loadUserByUsername - user with username: customer3 successfully loaded
2020-08-19 06:08:19.230 DEBUG 9356 --- [http-nio-8068-exec-6] o.s.security.web.FilterChainProxy        : /api/v1/customers/me at position 6 of 11 in additional filter chain; firing Filter: 'RequestCacheAwareFilter'
2020-08-19 06:08:19.231 DEBUG 9356 --- [http-nio-8068-exec-6] o.s.security.web.FilterChainProxy        : /api/v1/customers/me at position 7 of 11 in additional filter chain; firing Filter: 'SecurityContextHolderAwareRequestFilter'
2020-08-19 06:08:19.231 DEBUG 9356 --- [http-nio-8068-exec-6] o.s.security.web.FilterChainProxy        : /api/v1/customers/me at position 8 of 11 in additional filter chain; firing Filter: 'AnonymousAuthenticationFilter'
2020-08-19 06:08:19.231 DEBUG 9356 --- [http-nio-8068-exec-6] o.s.s.w.a.AnonymousAuthenticationFilter  : SecurityContextHolder not populated with anonymous token, as it already contained: 'org.springframework.security.authentication.UsernamePasswordAuthenticationToken@c263e388: Principal: ru.logisticplatform.security.jwt.JwtUser@143b51cb; Credentials: [PROTECTED]; Authenticated: true; Details: null; Granted Authorities: ROLE_CUSTOMER'
2020-08-19 06:08:19.231 DEBUG 9356 --- [http-nio-8068-exec-6] o.s.security.web.FilterChainProxy        : /api/v1/customers/me at position 9 of 11 in additional filter chain; firing Filter: 'SessionManagementFilter'
2020-08-19 06:08:19.231 DEBUG 9356 --- [http-nio-8068-exec-6] s.CompositeSessionAuthenticationStrategy : Delegating to org.springframework.security.web.authentication.session.ChangeSessionIdAuthenticationStrategy@1387bd84
2020-08-19 06:08:19.231 DEBUG 9356 --- [http-nio-8068-exec-6] o.s.security.web.FilterChainProxy        : /api/v1/customers/me at position 10 of 11 in additional filter chain; firing Filter: 'ExceptionTranslationFilter'
2020-08-19 06:08:19.231 DEBUG 9356 --- [http-nio-8068-exec-6] o.s.security.web.FilterChainProxy        : /api/v1/customers/me at position 11 of 11 in additional filter chain; firing Filter: 'FilterSecurityInterceptor'
2020-08-19 06:08:19.231 DEBUG 9356 --- [http-nio-8068-exec-6] o.s.s.w.u.matcher.AntPathRequestMatcher  : Checking match of request : '/api/v1/customers/me'; against '/api/v1/sign/**'
2020-08-19 06:08:19.231 DEBUG 9356 --- [http-nio-8068-exec-6] o.s.s.w.u.matcher.AntPathRequestMatcher  : Checking match of request : '/api/v1/customers/me'; against '/api/v1/admins/**'
2020-08-19 06:08:19.231 DEBUG 9356 --- [http-nio-8068-exec-6] o.s.s.w.u.matcher.AntPathRequestMatcher  : Checking match of request : '/api/v1/customers/me'; against '/api/v1/customers/**'
2020-08-19 06:08:19.232 DEBUG 9356 --- [http-nio-8068-exec-6] o.s.s.w.a.i.FilterSecurityInterceptor    : Secure object: FilterInvocation: URL: /api/v1/customers/me; Attributes: [hasRole('ROLE_CUSTOMER')]
2020-08-19 06:08:19.232 DEBUG 9356 --- [http-nio-8068-exec-6] o.s.s.w.a.i.FilterSecurityInterceptor    : Previously Authenticated: org.springframework.security.authentication.UsernamePasswordAuthenticationToken@c263e388: Principal: ru.logisticplatform.security.jwt.JwtUser@143b51cb; Credentials: [PROTECTED]; Authenticated: true; Details: null; Granted Authorities: ROLE_CUSTOMER
2020-08-19 06:08:19.233 DEBUG 9356 --- [http-nio-8068-exec-6] o.s.s.access.vote.AffirmativeBased       : Voter: org.springframework.security.web.access.expression.WebExpressionVoter@472b854, returned: 1
2020-08-19 06:08:19.233 DEBUG 9356 --- [http-nio-8068-exec-6] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorization successful
2020-08-19 06:08:19.233 DEBUG 9356 --- [http-nio-8068-exec-6] o.s.s.w.a.i.FilterSecurityInterceptor    : RunAsManager did not change Authentication object
2020-08-19 06:08:19.233 DEBUG 9356 --- [http-nio-8068-exec-6] o.s.security.web.FilterChainProxy        : /api/v1/customers/me reached end of additional filter chain; proceeding with original chain
2020-08-19 06:08:25.418  INFO 9356 --- [http-nio-8068-exec-6] r.l.service.user.impl.UserServiceImpl    : IN UserServiceImpl findByUsername - user: User{username='customer3', firstName='firstName3', lastName='lastName3', email='email3@mail.ru', phone='79339797603', password='$2a$10$xDCVWzkV0osns7uDyLOXKeqyzu6FgAFSQkYstDP95o.z61Bn9ghJq', roles=[Role{id: 3, name: ROLE_CUSTOMER}], userStatus=ACTIVE} found by userName: customer3
2020-08-19 06:08:30.532  INFO 9356 --- [http-nio-8068-exec-6] r.l.service.user.impl.UserServiceImpl    : IN UserServiceImpl updateUserStatus - user: User{username='customer3', firstName='firstName3', lastName='lastName3', email='email3@mail.ru', phone='79339797603', password='$2a$10$xDCVWzkV0osns7uDyLOXKeqyzu6FgAFSQkYstDP95o.z61Bn9ghJq', roles=[Role{id: 3, name: ROLE_CUSTOMER}], userStatus=DELETED} successfully set userStatus: DELETED
2020-08-19 06:08:36.236 DEBUG 9356 --- [http-nio-8068-exec-6] o.s.s.w.a.ExceptionTranslationFilter     : Chain processed normally
2020-08-19 06:08:36.236 DEBUG 9356 --- [http-nio-8068-exec-6] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match the requestMatcher org.springframework.security.web.header.writers.HstsHeaderWriter$SecureRequestMatcher@419b8609
2020-08-19 06:08:36.237 DEBUG 9356 --- [http-nio-8068-exec-6] s.s.w.c.SecurityContextPersistenceFilter : SecurityContextHolder now cleared, as request processing completed
2020-08-19 06:09:31.720 DEBUG 9356 --- [http-nio-8068-exec-10] o.s.security.web.FilterChainProxy        : /api/v1/contractors/me at position 1 of 11 in additional filter chain; firing Filter: 'WebAsyncManagerIntegrationFilter'
2020-08-19 06:09:31.720 DEBUG 9356 --- [http-nio-8068-exec-10] o.s.security.web.FilterChainProxy        : /api/v1/contractors/me at position 2 of 11 in additional filter chain; firing Filter: 'SecurityContextPersistenceFilter'
2020-08-19 06:09:31.720 DEBUG 9356 --- [http-nio-8068-exec-10] o.s.security.web.FilterChainProxy        : /api/v1/contractors/me at position 3 of 11 in additional filter chain; firing Filter: 'HeaderWriterFilter'
2020-08-19 06:09:31.720 DEBUG 9356 --- [http-nio-8068-exec-10] o.s.security.web.FilterChainProxy        : /api/v1/contractors/me at position 4 of 11 in additional filter chain; firing Filter: 'LogoutFilter'
2020-08-19 06:09:31.720 DEBUG 9356 --- [http-nio-8068-exec-10] o.s.s.web.util.matcher.OrRequestMatcher  : Trying to match using Ant [pattern='/logout', GET]
2020-08-19 06:09:31.720 DEBUG 9356 --- [http-nio-8068-exec-10] o.s.s.w.u.matcher.AntPathRequestMatcher  : Request 'DELETE /api/v1/contractors/me' doesn't match 'GET /logout'
2020-08-19 06:09:31.720 DEBUG 9356 --- [http-nio-8068-exec-10] o.s.s.web.util.matcher.OrRequestMatcher  : Trying to match using Ant [pattern='/logout', POST]
2020-08-19 06:09:31.720 DEBUG 9356 --- [http-nio-8068-exec-10] o.s.s.w.u.matcher.AntPathRequestMatcher  : Request 'DELETE /api/v1/contractors/me' doesn't match 'POST /logout'
2020-08-19 06:09:31.723 DEBUG 9356 --- [http-nio-8068-exec-10] o.s.s.web.util.matcher.OrRequestMatcher  : Trying to match using Ant [pattern='/logout', PUT]
2020-08-19 06:09:31.723 DEBUG 9356 --- [http-nio-8068-exec-10] o.s.s.w.u.matcher.AntPathRequestMatcher  : Request 'DELETE /api/v1/contractors/me' doesn't match 'PUT /logout'
2020-08-19 06:09:31.723 DEBUG 9356 --- [http-nio-8068-exec-10] o.s.s.web.util.matcher.OrRequestMatcher  : Trying to match using Ant [pattern='/logout', DELETE]
2020-08-19 06:09:31.723 DEBUG 9356 --- [http-nio-8068-exec-10] o.s.s.w.u.matcher.AntPathRequestMatcher  : Checking match of request : '/api/v1/contractors/me'; against '/logout'
2020-08-19 06:09:31.723 DEBUG 9356 --- [http-nio-8068-exec-10] o.s.s.web.util.matcher.OrRequestMatcher  : No matches found
2020-08-19 06:09:31.723 DEBUG 9356 --- [http-nio-8068-exec-10] o.s.security.web.FilterChainProxy        : /api/v1/contractors/me at position 5 of 11 in additional filter chain; firing Filter: 'JwtTokenFilter'
2020-08-19 06:09:31.732  INFO 9356 --- [http-nio-8068-exec-10] r.l.service.user.impl.UserServiceImpl    : IN UserServiceImpl findByUsername - user: User{username='customer3', firstName='firstName3', lastName='lastName3', email='email3@mail.ru', phone='79339797603', password='$2a$10$xDCVWzkV0osns7uDyLOXKeqyzu6FgAFSQkYstDP95o.z61Bn9ghJq', roles=[Role{id: 3, name: ROLE_CUSTOMER}], userStatus=DELETED} found by userName: customer3
2020-08-19 06:09:31.733  INFO 9356 --- [http-nio-8068-exec-10] r.l.security.JwtUserDetailsService       : IN loadUserByUsername - user with username: customer3 successfully loaded
2020-08-19 06:09:31.733 DEBUG 9356 --- [http-nio-8068-exec-10] o.s.security.web.FilterChainProxy        : /api/v1/contractors/me at position 6 of 11 in additional filter chain; firing Filter: 'RequestCacheAwareFilter'
2020-08-19 06:09:31.733 DEBUG 9356 --- [http-nio-8068-exec-10] o.s.security.web.FilterChainProxy        : /api/v1/contractors/me at position 7 of 11 in additional filter chain; firing Filter: 'SecurityContextHolderAwareRequestFilter'
2020-08-19 06:09:31.733 DEBUG 9356 --- [http-nio-8068-exec-10] o.s.security.web.FilterChainProxy        : /api/v1/contractors/me at position 8 of 11 in additional filter chain; firing Filter: 'AnonymousAuthenticationFilter'
2020-08-19 06:09:31.733 DEBUG 9356 --- [http-nio-8068-exec-10] o.s.s.w.a.AnonymousAuthenticationFilter  : SecurityContextHolder not populated with anonymous token, as it already contained: 'org.springframework.security.authentication.UsernamePasswordAuthenticationToken@d13ecd7d: Principal: ru.logisticplatform.security.jwt.JwtUser@7667f3e; Credentials: [PROTECTED]; Authenticated: true; Details: null; Granted Authorities: ROLE_CUSTOMER'
2020-08-19 06:09:31.733 DEBUG 9356 --- [http-nio-8068-exec-10] o.s.security.web.FilterChainProxy        : /api/v1/contractors/me at position 9 of 11 in additional filter chain; firing Filter: 'SessionManagementFilter'
2020-08-19 06:09:31.733 DEBUG 9356 --- [http-nio-8068-exec-10] s.CompositeSessionAuthenticationStrategy : Delegating to org.springframework.security.web.authentication.session.ChangeSessionIdAuthenticationStrategy@1387bd84
2020-08-19 06:09:31.733 DEBUG 9356 --- [http-nio-8068-exec-10] o.s.security.web.FilterChainProxy        : /api/v1/contractors/me at position 10 of 11 in additional filter chain; firing Filter: 'ExceptionTranslationFilter'
2020-08-19 06:09:31.733 DEBUG 9356 --- [http-nio-8068-exec-10] o.s.security.web.FilterChainProxy        : /api/v1/contractors/me at position 11 of 11 in additional filter chain; firing Filter: 'FilterSecurityInterceptor'
2020-08-19 06:09:31.734 DEBUG 9356 --- [http-nio-8068-exec-10] o.s.s.w.u.matcher.AntPathRequestMatcher  : Checking match of request : '/api/v1/contractors/me'; against '/api/v1/sign/**'
2020-08-19 06:09:31.734 DEBUG 9356 --- [http-nio-8068-exec-10] o.s.s.w.u.matcher.AntPathRequestMatcher  : Checking match of request : '/api/v1/contractors/me'; against '/api/v1/admins/**'
2020-08-19 06:09:31.734 DEBUG 9356 --- [http-nio-8068-exec-10] o.s.s.w.u.matcher.AntPathRequestMatcher  : Checking match of request : '/api/v1/contractors/me'; against '/api/v1/customers/**'
2020-08-19 06:09:31.734 DEBUG 9356 --- [http-nio-8068-exec-10] o.s.s.w.a.i.FilterSecurityInterceptor    : Secure object: FilterInvocation: URL: /api/v1/contractors/me; Attributes: [authenticated]
2020-08-19 06:09:31.734 DEBUG 9356 --- [http-nio-8068-exec-10] o.s.s.w.a.i.FilterSecurityInterceptor    : Previously Authenticated: org.springframework.security.authentication.UsernamePasswordAuthenticationToken@d13ecd7d: Principal: ru.logisticplatform.security.jwt.JwtUser@7667f3e; Credentials: [PROTECTED]; Authenticated: true; Details: null; Granted Authorities: ROLE_CUSTOMER
2020-08-19 06:09:31.734 DEBUG 9356 --- [http-nio-8068-exec-10] o.s.s.access.vote.AffirmativeBased       : Voter: org.springframework.security.web.access.expression.WebExpressionVoter@472b854, returned: 1
2020-08-19 06:09:31.734 DEBUG 9356 --- [http-nio-8068-exec-10] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorization successful
2020-08-19 06:09:31.734 DEBUG 9356 --- [http-nio-8068-exec-10] o.s.s.w.a.i.FilterSecurityInterceptor    : RunAsManager did not change Authentication object
2020-08-19 06:09:31.734 DEBUG 9356 --- [http-nio-8068-exec-10] o.s.security.web.FilterChainProxy        : /api/v1/contractors/me reached end of additional filter chain; proceeding with original chain
2020-08-19 06:09:31.741  INFO 9356 --- [http-nio-8068-exec-10] r.l.service.user.impl.UserServiceImpl    : IN UserServiceImpl findByUsername - user: User{username='customer3', firstName='firstName3', lastName='lastName3', email='email3@mail.ru', phone='79339797603', password='$2a$10$xDCVWzkV0osns7uDyLOXKeqyzu6FgAFSQkYstDP95o.z61Bn9ghJq', roles=[Role{id: 3, name: ROLE_CUSTOMER}], userStatus=DELETED} found by userName: customer3
2020-08-19 06:09:31.742 DEBUG 9356 --- [http-nio-8068-exec-10] o.s.s.w.a.ExceptionTranslationFilter     : Chain processed normally
2020-08-19 06:09:31.742 DEBUG 9356 --- [http-nio-8068-exec-10] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match the requestMatcher org.springframework.security.web.header.writers.HstsHeaderWriter$SecureRequestMatcher@419b8609
2020-08-19 06:09:31.742 DEBUG 9356 --- [http-nio-8068-exec-10] s.s.w.c.SecurityContextPersistenceFilter : SecurityContextHolder now cleared, as request processing completed
2020-08-19 06:09:55.576 DEBUG 9356 --- [http-nio-8068-exec-1] o.s.security.web.FilterChainProxy        : /api/v1/sign/in at position 1 of 11 in additional filter chain; firing Filter: 'WebAsyncManagerIntegrationFilter'
2020-08-19 06:09:55.576 DEBUG 9356 --- [http-nio-8068-exec-1] o.s.security.web.FilterChainProxy        : /api/v1/sign/in at position 2 of 11 in additional filter chain; firing Filter: 'SecurityContextPersistenceFilter'
2020-08-19 06:09:55.577 DEBUG 9356 --- [http-nio-8068-exec-1] o.s.security.web.FilterChainProxy        : /api/v1/sign/in at position 3 of 11 in additional filter chain; firing Filter: 'HeaderWriterFilter'
2020-08-19 06:09:55.577 DEBUG 9356 --- [http-nio-8068-exec-1] o.s.security.web.FilterChainProxy        : /api/v1/sign/in at position 4 of 11 in additional filter chain; firing Filter: 'LogoutFilter'
2020-08-19 06:09:55.577 DEBUG 9356 --- [http-nio-8068-exec-1] o.s.s.web.util.matcher.OrRequestMatcher  : Trying to match using Ant [pattern='/logout', GET]
2020-08-19 06:09:55.577 DEBUG 9356 --- [http-nio-8068-exec-1] o.s.s.w.u.matcher.AntPathRequestMatcher  : Request 'POST /api/v1/sign/in' doesn't match 'GET /logout'
2020-08-19 06:09:55.577 DEBUG 9356 --- [http-nio-8068-exec-1] o.s.s.web.util.matcher.OrRequestMatcher  : Trying to match using Ant [pattern='/logout', POST]
2020-08-19 06:09:55.577 DEBUG 9356 --- [http-nio-8068-exec-1] o.s.s.w.u.matcher.AntPathRequestMatcher  : Checking match of request : '/api/v1/sign/in'; against '/logout'
2020-08-19 06:09:55.577 DEBUG 9356 --- [http-nio-8068-exec-1] o.s.s.web.util.matcher.OrRequestMatcher  : Trying to match using Ant [pattern='/logout', PUT]
2020-08-19 06:09:55.577 DEBUG 9356 --- [http-nio-8068-exec-1] o.s.s.w.u.matcher.AntPathRequestMatcher  : Request 'POST /api/v1/sign/in' doesn't match 'PUT /logout'
2020-08-19 06:09:55.577 DEBUG 9356 --- [http-nio-8068-exec-1] o.s.s.web.util.matcher.OrRequestMatcher  : Trying to match using Ant [pattern='/logout', DELETE]
2020-08-19 06:09:55.577 DEBUG 9356 --- [http-nio-8068-exec-1] o.s.s.w.u.matcher.AntPathRequestMatcher  : Request 'POST /api/v1/sign/in' doesn't match 'DELETE /logout'
2020-08-19 06:09:55.577 DEBUG 9356 --- [http-nio-8068-exec-1] o.s.s.web.util.matcher.OrRequestMatcher  : No matches found
2020-08-19 06:09:55.578 DEBUG 9356 --- [http-nio-8068-exec-1] o.s.security.web.FilterChainProxy        : /api/v1/sign/in at position 5 of 11 in additional filter chain; firing Filter: 'JwtTokenFilter'
2020-08-19 06:09:55.578 DEBUG 9356 --- [http-nio-8068-exec-1] o.s.security.web.FilterChainProxy        : /api/v1/sign/in at position 6 of 11 in additional filter chain; firing Filter: 'RequestCacheAwareFilter'
2020-08-19 06:09:55.578 DEBUG 9356 --- [http-nio-8068-exec-1] o.s.security.web.FilterChainProxy        : /api/v1/sign/in at position 7 of 11 in additional filter chain; firing Filter: 'SecurityContextHolderAwareRequestFilter'
2020-08-19 06:09:55.578 DEBUG 9356 --- [http-nio-8068-exec-1] o.s.security.web.FilterChainProxy        : /api/v1/sign/in at position 8 of 11 in additional filter chain; firing Filter: 'AnonymousAuthenticationFilter'
2020-08-19 06:09:55.578 DEBUG 9356 --- [http-nio-8068-exec-1] o.s.s.w.a.AnonymousAuthenticationFilter  : Populated SecurityContextHolder with anonymous token: 'org.springframework.security.authentication.AnonymousAuthenticationToken@62842ca2: Principal: anonymousUser; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_ANONYMOUS'
2020-08-19 06:09:55.578 DEBUG 9356 --- [http-nio-8068-exec-1] o.s.security.web.FilterChainProxy        : /api/v1/sign/in at position 9 of 11 in additional filter chain; firing Filter: 'SessionManagementFilter'
2020-08-19 06:09:55.578 DEBUG 9356 --- [http-nio-8068-exec-1] o.s.security.web.FilterChainProxy        : /api/v1/sign/in at position 10 of 11 in additional filter chain; firing Filter: 'ExceptionTranslationFilter'
2020-08-19 06:09:55.578 DEBUG 9356 --- [http-nio-8068-exec-1] o.s.security.web.FilterChainProxy        : /api/v1/sign/in at position 11 of 11 in additional filter chain; firing Filter: 'FilterSecurityInterceptor'
2020-08-19 06:09:55.578 DEBUG 9356 --- [http-nio-8068-exec-1] o.s.s.w.u.matcher.AntPathRequestMatcher  : Checking match of request : '/api/v1/sign/in'; against '/api/v1/sign/**'
2020-08-19 06:09:55.578 DEBUG 9356 --- [http-nio-8068-exec-1] o.s.s.w.a.i.FilterSecurityInterceptor    : Secure object: FilterInvocation: URL: /api/v1/sign/in; Attributes: [permitAll]
2020-08-19 06:09:55.579 DEBUG 9356 --- [http-nio-8068-exec-1] o.s.s.w.a.i.FilterSecurityInterceptor    : Previously Authenticated: org.springframework.security.authentication.AnonymousAuthenticationToken@62842ca2: Principal: anonymousUser; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_ANONYMOUS
2020-08-19 06:09:55.579 DEBUG 9356 --- [http-nio-8068-exec-1] o.s.s.access.vote.AffirmativeBased       : Voter: org.springframework.security.web.access.expression.WebExpressionVoter@472b854, returned: 1
2020-08-19 06:09:55.579 DEBUG 9356 --- [http-nio-8068-exec-1] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorization successful
2020-08-19 06:09:55.579 DEBUG 9356 --- [http-nio-8068-exec-1] o.s.s.w.a.i.FilterSecurityInterceptor    : RunAsManager did not change Authentication object
2020-08-19 06:09:55.579 DEBUG 9356 --- [http-nio-8068-exec-1] o.s.security.web.FilterChainProxy        : /api/v1/sign/in reached end of additional filter chain; proceeding with original chain
2020-08-19 06:09:55.581 DEBUG 9356 --- [http-nio-8068-exec-1] o.s.s.authentication.ProviderManager     : Authentication attempt using org.springframework.security.authentication.dao.DaoAuthenticationProvider
2020-08-19 06:09:55.586  INFO 9356 --- [http-nio-8068-exec-1] r.l.service.user.impl.UserServiceImpl    : IN UserServiceImpl findByUsername - user: User{username='contractor2', firstName='firstName2', lastName='lastName2', email='email2@mail.ru', phone='79229797602', password='$2a$10$Uzl41xR.OUV7m1pFV0zRuO85fGWOWZNK2TY36aDr1gn5rn3uNZGU.', roles=[Role{id: 2, name: ROLE_CONTRACTOR}], userStatus=ACTIVE} found by userName: contractor2
2020-08-19 06:09:55.587  INFO 9356 --- [http-nio-8068-exec-1] r.l.security.JwtUserDetailsService       : IN loadUserByUsername - user with username: contractor2 successfully loaded
2020-08-19 06:09:55.718  INFO 9356 --- [http-nio-8068-exec-1] r.l.service.user.impl.UserServiceImpl    : IN UserServiceImpl findByUsername - user: User{username='contractor2', firstName='firstName2', lastName='lastName2', email='email2@mail.ru', phone='79229797602', password='$2a$10$Uzl41xR.OUV7m1pFV0zRuO85fGWOWZNK2TY36aDr1gn5rn3uNZGU.', roles=[Role{id: 2, name: ROLE_CONTRACTOR}], userStatus=ACTIVE} found by userName: contractor2
2020-08-19 06:09:55.720 DEBUG 9356 --- [http-nio-8068-exec-1] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match the requestMatcher org.springframework.security.web.header.writers.HstsHeaderWriter$SecureRequestMatcher@419b8609
2020-08-19 06:09:55.721 DEBUG 9356 --- [http-nio-8068-exec-1] o.s.s.w.a.ExceptionTranslationFilter     : Chain processed normally
2020-08-19 06:09:55.721 DEBUG 9356 --- [http-nio-8068-exec-1] s.s.w.c.SecurityContextPersistenceFilter : SecurityContextHolder now cleared, as request processing completed
2020-08-19 06:10:03.225 DEBUG 9356 --- [http-nio-8068-exec-2] o.s.security.web.FilterChainProxy        : /api/v1/contractors/me at position 1 of 11 in additional filter chain; firing Filter: 'WebAsyncManagerIntegrationFilter'
2020-08-19 06:10:03.225 DEBUG 9356 --- [http-nio-8068-exec-2] o.s.security.web.FilterChainProxy        : /api/v1/contractors/me at position 2 of 11 in additional filter chain; firing Filter: 'SecurityContextPersistenceFilter'
2020-08-19 06:10:03.225 DEBUG 9356 --- [http-nio-8068-exec-2] o.s.security.web.FilterChainProxy        : /api/v1/contractors/me at position 3 of 11 in additional filter chain; firing Filter: 'HeaderWriterFilter'
2020-08-19 06:10:03.225 DEBUG 9356 --- [http-nio-8068-exec-2] o.s.security.web.FilterChainProxy        : /api/v1/contractors/me at position 4 of 11 in additional filter chain; firing Filter: 'LogoutFilter'
2020-08-19 06:10:03.225 DEBUG 9356 --- [http-nio-8068-exec-2] o.s.s.web.util.matcher.OrRequestMatcher  : Trying to match using Ant [pattern='/logout', GET]
2020-08-19 06:10:03.225 DEBUG 9356 --- [http-nio-8068-exec-2] o.s.s.w.u.matcher.AntPathRequestMatcher  : Request 'DELETE /api/v1/contractors/me' doesn't match 'GET /logout'
2020-08-19 06:10:03.225 DEBUG 9356 --- [http-nio-8068-exec-2] o.s.s.web.util.matcher.OrRequestMatcher  : Trying to match using Ant [pattern='/logout', POST]
2020-08-19 06:10:03.226 DEBUG 9356 --- [http-nio-8068-exec-2] o.s.s.w.u.matcher.AntPathRequestMatcher  : Request 'DELETE /api/v1/contractors/me' doesn't match 'POST /logout'
2020-08-19 06:10:03.226 DEBUG 9356 --- [http-nio-8068-exec-2] o.s.s.web.util.matcher.OrRequestMatcher  : Trying to match using Ant [pattern='/logout', PUT]
2020-08-19 06:10:03.226 DEBUG 9356 --- [http-nio-8068-exec-2] o.s.s.w.u.matcher.AntPathRequestMatcher  : Request 'DELETE /api/v1/contractors/me' doesn't match 'PUT /logout'
2020-08-19 06:10:03.226 DEBUG 9356 --- [http-nio-8068-exec-2] o.s.s.web.util.matcher.OrRequestMatcher  : Trying to match using Ant [pattern='/logout', DELETE]
2020-08-19 06:10:03.226 DEBUG 9356 --- [http-nio-8068-exec-2] o.s.s.w.u.matcher.AntPathRequestMatcher  : Checking match of request : '/api/v1/contractors/me'; against '/logout'
2020-08-19 06:10:03.230 DEBUG 9356 --- [http-nio-8068-exec-2] o.s.s.web.util.matcher.OrRequestMatcher  : No matches found
2020-08-19 06:10:03.230 DEBUG 9356 --- [http-nio-8068-exec-2] o.s.security.web.FilterChainProxy        : /api/v1/contractors/me at position 5 of 11 in additional filter chain; firing Filter: 'JwtTokenFilter'
2020-08-19 06:10:03.241  INFO 9356 --- [http-nio-8068-exec-2] r.l.service.user.impl.UserServiceImpl    : IN UserServiceImpl findByUsername - user: User{username='customer3', firstName='firstName3', lastName='lastName3', email='email3@mail.ru', phone='79339797603', password='$2a$10$xDCVWzkV0osns7uDyLOXKeqyzu6FgAFSQkYstDP95o.z61Bn9ghJq', roles=[Role{id: 3, name: ROLE_CUSTOMER}], userStatus=DELETED} found by userName: customer3
2020-08-19 06:10:03.241  INFO 9356 --- [http-nio-8068-exec-2] r.l.security.JwtUserDetailsService       : IN loadUserByUsername - user with username: customer3 successfully loaded
2020-08-19 06:10:03.241 DEBUG 9356 --- [http-nio-8068-exec-2] o.s.security.web.FilterChainProxy        : /api/v1/contractors/me at position 6 of 11 in additional filter chain; firing Filter: 'RequestCacheAwareFilter'
2020-08-19 06:10:03.241 DEBUG 9356 --- [http-nio-8068-exec-2] o.s.security.web.FilterChainProxy        : /api/v1/contractors/me at position 7 of 11 in additional filter chain; firing Filter: 'SecurityContextHolderAwareRequestFilter'
2020-08-19 06:10:03.242 DEBUG 9356 --- [http-nio-8068-exec-2] o.s.security.web.FilterChainProxy        : /api/v1/contractors/me at position 8 of 11 in additional filter chain; firing Filter: 'AnonymousAuthenticationFilter'
2020-08-19 06:10:03.242 DEBUG 9356 --- [http-nio-8068-exec-2] o.s.s.w.a.AnonymousAuthenticationFilter  : SecurityContextHolder not populated with anonymous token, as it already contained: 'org.springframework.security.authentication.UsernamePasswordAuthenticationToken@eba825bb: Principal: ru.logisticplatform.security.jwt.JwtUser@3df097f8; Credentials: [PROTECTED]; Authenticated: true; Details: null; Granted Authorities: ROLE_CUSTOMER'
2020-08-19 06:10:03.242 DEBUG 9356 --- [http-nio-8068-exec-2] o.s.security.web.FilterChainProxy        : /api/v1/contractors/me at position 9 of 11 in additional filter chain; firing Filter: 'SessionManagementFilter'
2020-08-19 06:10:03.242 DEBUG 9356 --- [http-nio-8068-exec-2] s.CompositeSessionAuthenticationStrategy : Delegating to org.springframework.security.web.authentication.session.ChangeSessionIdAuthenticationStrategy@1387bd84
2020-08-19 06:10:03.242 DEBUG 9356 --- [http-nio-8068-exec-2] o.s.security.web.FilterChainProxy        : /api/v1/contractors/me at position 10 of 11 in additional filter chain; firing Filter: 'ExceptionTranslationFilter'
2020-08-19 06:10:03.242 DEBUG 9356 --- [http-nio-8068-exec-2] o.s.security.web.FilterChainProxy        : /api/v1/contractors/me at position 11 of 11 in additional filter chain; firing Filter: 'FilterSecurityInterceptor'
2020-08-19 06:10:03.242 DEBUG 9356 --- [http-nio-8068-exec-2] o.s.s.w.u.matcher.AntPathRequestMatcher  : Checking match of request : '/api/v1/contractors/me'; against '/api/v1/sign/**'
2020-08-19 06:10:03.242 DEBUG 9356 --- [http-nio-8068-exec-2] o.s.s.w.u.matcher.AntPathRequestMatcher  : Checking match of request : '/api/v1/contractors/me'; against '/api/v1/admins/**'
2020-08-19 06:10:03.242 DEBUG 9356 --- [http-nio-8068-exec-2] o.s.s.w.u.matcher.AntPathRequestMatcher  : Checking match of request : '/api/v1/contractors/me'; against '/api/v1/customers/**'
2020-08-19 06:10:03.242 DEBUG 9356 --- [http-nio-8068-exec-2] o.s.s.w.a.i.FilterSecurityInterceptor    : Secure object: FilterInvocation: URL: /api/v1/contractors/me; Attributes: [authenticated]
2020-08-19 06:10:03.242 DEBUG 9356 --- [http-nio-8068-exec-2] o.s.s.w.a.i.FilterSecurityInterceptor    : Previously Authenticated: org.springframework.security.authentication.UsernamePasswordAuthenticationToken@eba825bb: Principal: ru.logisticplatform.security.jwt.JwtUser@3df097f8; Credentials: [PROTECTED]; Authenticated: true; Details: null; Granted Authorities: ROLE_CUSTOMER
2020-08-19 06:10:03.243 DEBUG 9356 --- [http-nio-8068-exec-2] o.s.s.access.vote.AffirmativeBased       : Voter: org.springframework.security.web.access.expression.WebExpressionVoter@472b854, returned: 1
2020-08-19 06:10:03.243 DEBUG 9356 --- [http-nio-8068-exec-2] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorization successful
2020-08-19 06:10:03.243 DEBUG 9356 --- [http-nio-8068-exec-2] o.s.s.w.a.i.FilterSecurityInterceptor    : RunAsManager did not change Authentication object
2020-08-19 06:10:03.243 DEBUG 9356 --- [http-nio-8068-exec-2] o.s.security.web.FilterChainProxy        : /api/v1/contractors/me reached end of additional filter chain; proceeding with original chain
2020-08-19 06:10:03.249  INFO 9356 --- [http-nio-8068-exec-2] r.l.service.user.impl.UserServiceImpl    : IN UserServiceImpl findByUsername - user: User{username='customer3', firstName='firstName3', lastName='lastName3', email='email3@mail.ru', phone='79339797603', password='$2a$10$xDCVWzkV0osns7uDyLOXKeqyzu6FgAFSQkYstDP95o.z61Bn9ghJq', roles=[Role{id: 3, name: ROLE_CUSTOMER}], userStatus=DELETED} found by userName: customer3
2020-08-19 06:10:03.250 DEBUG 9356 --- [http-nio-8068-exec-2] o.s.s.w.a.ExceptionTranslationFilter     : Chain processed normally
2020-08-19 06:10:03.250 DEBUG 9356 --- [http-nio-8068-exec-2] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match the requestMatcher org.springframework.security.web.header.writers.HstsHeaderWriter$SecureRequestMatcher@419b8609
2020-08-19 06:10:03.250 DEBUG 9356 --- [http-nio-8068-exec-2] s.s.w.c.SecurityContextPersistenceFilter : SecurityContextHolder now cleared, as request processing completed
2020-08-19 06:10:13.003 DEBUG 9356 --- [http-nio-8068-exec-3] o.s.security.web.FilterChainProxy        : /api/v1/contractors/me at position 1 of 11 in additional filter chain; firing Filter: 'WebAsyncManagerIntegrationFilter'
2020-08-19 06:10:13.004 DEBUG 9356 --- [http-nio-8068-exec-3] o.s.security.web.FilterChainProxy        : /api/v1/contractors/me at position 2 of 11 in additional filter chain; firing Filter: 'SecurityContextPersistenceFilter'
2020-08-19 06:10:13.004 DEBUG 9356 --- [http-nio-8068-exec-3] o.s.security.web.FilterChainProxy        : /api/v1/contractors/me at position 3 of 11 in additional filter chain; firing Filter: 'HeaderWriterFilter'
2020-08-19 06:10:13.004 DEBUG 9356 --- [http-nio-8068-exec-3] o.s.security.web.FilterChainProxy        : /api/v1/contractors/me at position 4 of 11 in additional filter chain; firing Filter: 'LogoutFilter'
2020-08-19 06:10:13.004 DEBUG 9356 --- [http-nio-8068-exec-3] o.s.s.web.util.matcher.OrRequestMatcher  : Trying to match using Ant [pattern='/logout', GET]
2020-08-19 06:10:13.004 DEBUG 9356 --- [http-nio-8068-exec-3] o.s.s.w.u.matcher.AntPathRequestMatcher  : Request 'DELETE /api/v1/contractors/me' doesn't match 'GET /logout'
2020-08-19 06:10:13.004 DEBUG 9356 --- [http-nio-8068-exec-3] o.s.s.web.util.matcher.OrRequestMatcher  : Trying to match using Ant [pattern='/logout', POST]
2020-08-19 06:10:13.005 DEBUG 9356 --- [http-nio-8068-exec-3] o.s.s.w.u.matcher.AntPathRequestMatcher  : Request 'DELETE /api/v1/contractors/me' doesn't match 'POST /logout'
2020-08-19 06:10:13.005 DEBUG 9356 --- [http-nio-8068-exec-3] o.s.s.web.util.matcher.OrRequestMatcher  : Trying to match using Ant [pattern='/logout', PUT]
2020-08-19 06:10:13.005 DEBUG 9356 --- [http-nio-8068-exec-3] o.s.s.w.u.matcher.AntPathRequestMatcher  : Request 'DELETE /api/v1/contractors/me' doesn't match 'PUT /logout'
2020-08-19 06:10:13.005 DEBUG 9356 --- [http-nio-8068-exec-3] o.s.s.web.util.matcher.OrRequestMatcher  : Trying to match using Ant [pattern='/logout', DELETE]
2020-08-19 06:10:13.005 DEBUG 9356 --- [http-nio-8068-exec-3] o.s.s.w.u.matcher.AntPathRequestMatcher  : Checking match of request : '/api/v1/contractors/me'; against '/logout'
2020-08-19 06:10:13.005 DEBUG 9356 --- [http-nio-8068-exec-3] o.s.s.web.util.matcher.OrRequestMatcher  : No matches found
2020-08-19 06:10:13.005 DEBUG 9356 --- [http-nio-8068-exec-3] o.s.security.web.FilterChainProxy        : /api/v1/contractors/me at position 5 of 11 in additional filter chain; firing Filter: 'JwtTokenFilter'
2020-08-19 06:10:13.016  INFO 9356 --- [http-nio-8068-exec-3] r.l.service.user.impl.UserServiceImpl    : IN UserServiceImpl findByUsername - user: User{username='contractor2', firstName='firstName2', lastName='lastName2', email='email2@mail.ru', phone='79229797602', password='$2a$10$Uzl41xR.OUV7m1pFV0zRuO85fGWOWZNK2TY36aDr1gn5rn3uNZGU.', roles=[Role{id: 2, name: ROLE_CONTRACTOR}], userStatus=ACTIVE} found by userName: contractor2
2020-08-19 06:10:13.016  INFO 9356 --- [http-nio-8068-exec-3] r.l.security.JwtUserDetailsService       : IN loadUserByUsername - user with username: contractor2 successfully loaded
2020-08-19 06:10:13.017 DEBUG 9356 --- [http-nio-8068-exec-3] o.s.security.web.FilterChainProxy        : /api/v1/contractors/me at position 6 of 11 in additional filter chain; firing Filter: 'RequestCacheAwareFilter'
2020-08-19 06:10:13.017 DEBUG 9356 --- [http-nio-8068-exec-3] o.s.security.web.FilterChainProxy        : /api/v1/contractors/me at position 7 of 11 in additional filter chain; firing Filter: 'SecurityContextHolderAwareRequestFilter'
2020-08-19 06:10:13.017 DEBUG 9356 --- [http-nio-8068-exec-3] o.s.security.web.FilterChainProxy        : /api/v1/contractors/me at position 8 of 11 in additional filter chain; firing Filter: 'AnonymousAuthenticationFilter'
2020-08-19 06:10:13.017 DEBUG 9356 --- [http-nio-8068-exec-3] o.s.s.w.a.AnonymousAuthenticationFilter  : SecurityContextHolder not populated with anonymous token, as it already contained: 'org.springframework.security.authentication.UsernamePasswordAuthenticationToken@23d26880: Principal: ru.logisticplatform.security.jwt.JwtUser@3c53b29a; Credentials: [PROTECTED]; Authenticated: true; Details: null; Granted Authorities: ROLE_CONTRACTOR'
2020-08-19 06:10:13.017 DEBUG 9356 --- [http-nio-8068-exec-3] o.s.security.web.FilterChainProxy        : /api/v1/contractors/me at position 9 of 11 in additional filter chain; firing Filter: 'SessionManagementFilter'
2020-08-19 06:10:13.017 DEBUG 9356 --- [http-nio-8068-exec-3] s.CompositeSessionAuthenticationStrategy : Delegating to org.springframework.security.web.authentication.session.ChangeSessionIdAuthenticationStrategy@1387bd84
2020-08-19 06:10:13.017 DEBUG 9356 --- [http-nio-8068-exec-3] o.s.security.web.FilterChainProxy        : /api/v1/contractors/me at position 10 of 11 in additional filter chain; firing Filter: 'ExceptionTranslationFilter'
2020-08-19 06:10:13.017 DEBUG 9356 --- [http-nio-8068-exec-3] o.s.security.web.FilterChainProxy        : /api/v1/contractors/me at position 11 of 11 in additional filter chain; firing Filter: 'FilterSecurityInterceptor'
2020-08-19 06:10:13.017 DEBUG 9356 --- [http-nio-8068-exec-3] o.s.s.w.u.matcher.AntPathRequestMatcher  : Checking match of request : '/api/v1/contractors/me'; against '/api/v1/sign/**'
2020-08-19 06:10:13.017 DEBUG 9356 --- [http-nio-8068-exec-3] o.s.s.w.u.matcher.AntPathRequestMatcher  : Checking match of request : '/api/v1/contractors/me'; against '/api/v1/admins/**'
2020-08-19 06:10:13.017 DEBUG 9356 --- [http-nio-8068-exec-3] o.s.s.w.u.matcher.AntPathRequestMatcher  : Checking match of request : '/api/v1/contractors/me'; against '/api/v1/customers/**'
2020-08-19 06:10:13.018 DEBUG 9356 --- [http-nio-8068-exec-3] o.s.s.w.a.i.FilterSecurityInterceptor    : Secure object: FilterInvocation: URL: /api/v1/contractors/me; Attributes: [authenticated]
2020-08-19 06:10:13.018 DEBUG 9356 --- [http-nio-8068-exec-3] o.s.s.w.a.i.FilterSecurityInterceptor    : Previously Authenticated: org.springframework.security.authentication.UsernamePasswordAuthenticationToken@23d26880: Principal: ru.logisticplatform.security.jwt.JwtUser@3c53b29a; Credentials: [PROTECTED]; Authenticated: true; Details: null; Granted Authorities: ROLE_CONTRACTOR
2020-08-19 06:10:13.018 DEBUG 9356 --- [http-nio-8068-exec-3] o.s.s.access.vote.AffirmativeBased       : Voter: org.springframework.security.web.access.expression.WebExpressionVoter@472b854, returned: 1
2020-08-19 06:10:13.019 DEBUG 9356 --- [http-nio-8068-exec-3] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorization successful
2020-08-19 06:10:13.019 DEBUG 9356 --- [http-nio-8068-exec-3] o.s.s.w.a.i.FilterSecurityInterceptor    : RunAsManager did not change Authentication object
2020-08-19 06:10:13.019 DEBUG 9356 --- [http-nio-8068-exec-3] o.s.security.web.FilterChainProxy        : /api/v1/contractors/me reached end of additional filter chain; proceeding with original chain
2020-08-19 06:10:13.025  INFO 9356 --- [http-nio-8068-exec-3] r.l.service.user.impl.UserServiceImpl    : IN UserServiceImpl findByUsername - user: User{username='contractor2', firstName='firstName2', lastName='lastName2', email='email2@mail.ru', phone='79229797602', password='$2a$10$Uzl41xR.OUV7m1pFV0zRuO85fGWOWZNK2TY36aDr1gn5rn3uNZGU.', roles=[Role{id: 2, name: ROLE_CONTRACTOR}], userStatus=ACTIVE} found by userName: contractor2
2020-08-19 06:10:13.104  INFO 9356 --- [http-nio-8068-exec-3] r.l.service.user.impl.UserServiceImpl    : IN UserServiceImpl updateUserStatus - user: User{username='contractor2', firstName='firstName2', lastName='lastName2', email='email2@mail.ru', phone='79229797602', password='$2a$10$Uzl41xR.OUV7m1pFV0zRuO85fGWOWZNK2TY36aDr1gn5rn3uNZGU.', roles=[Role{id: 2, name: ROLE_CONTRACTOR}], userStatus=DELETED} successfully set userStatus: DELETED
2020-08-19 06:10:13.105 DEBUG 9356 --- [http-nio-8068-exec-3] o.s.s.w.a.ExceptionTranslationFilter     : Chain processed normally
2020-08-19 06:10:13.105 DEBUG 9356 --- [http-nio-8068-exec-3] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match the requestMatcher org.springframework.security.web.header.writers.HstsHeaderWriter$SecureRequestMatcher@419b8609
2020-08-19 06:10:13.105 DEBUG 9356 --- [http-nio-8068-exec-3] s.s.w.c.SecurityContextPersistenceFilter : SecurityContextHolder now cleared, as request processing completed
2020-08-19 06:10:23.284 DEBUG 9356 --- [http-nio-8068-exec-4] o.s.security.web.FilterChainProxy        : /api/v1/contractors/me at position 1 of 11 in additional filter chain; firing Filter: 'WebAsyncManagerIntegrationFilter'
2020-08-19 06:10:23.284 DEBUG 9356 --- [http-nio-8068-exec-4] o.s.security.web.FilterChainProxy        : /api/v1/contractors/me at position 2 of 11 in additional filter chain; firing Filter: 'SecurityContextPersistenceFilter'
2020-08-19 06:10:23.284 DEBUG 9356 --- [http-nio-8068-exec-4] o.s.security.web.FilterChainProxy        : /api/v1/contractors/me at position 3 of 11 in additional filter chain; firing Filter: 'HeaderWriterFilter'
2020-08-19 06:10:23.284 DEBUG 9356 --- [http-nio-8068-exec-4] o.s.security.web.FilterChainProxy        : /api/v1/contractors/me at position 4 of 11 in additional filter chain; firing Filter: 'LogoutFilter'
2020-08-19 06:10:23.284 DEBUG 9356 --- [http-nio-8068-exec-4] o.s.s.web.util.matcher.OrRequestMatcher  : Trying to match using Ant [pattern='/logout', GET]
2020-08-19 06:10:23.284 DEBUG 9356 --- [http-nio-8068-exec-4] o.s.s.w.u.matcher.AntPathRequestMatcher  : Request 'DELETE /api/v1/contractors/me' doesn't match 'GET /logout'
2020-08-19 06:10:23.284 DEBUG 9356 --- [http-nio-8068-exec-4] o.s.s.web.util.matcher.OrRequestMatcher  : Trying to match using Ant [pattern='/logout', POST]
2020-08-19 06:10:23.284 DEBUG 9356 --- [http-nio-8068-exec-4] o.s.s.w.u.matcher.AntPathRequestMatcher  : Request 'DELETE /api/v1/contractors/me' doesn't match 'POST /logout'
2020-08-19 06:10:23.285 DEBUG 9356 --- [http-nio-8068-exec-4] o.s.s.web.util.matcher.OrRequestMatcher  : Trying to match using Ant [pattern='/logout', PUT]
2020-08-19 06:10:23.285 DEBUG 9356 --- [http-nio-8068-exec-4] o.s.s.w.u.matcher.AntPathRequestMatcher  : Request 'DELETE /api/v1/contractors/me' doesn't match 'PUT /logout'
2020-08-19 06:10:23.285 DEBUG 9356 --- [http-nio-8068-exec-4] o.s.s.web.util.matcher.OrRequestMatcher  : Trying to match using Ant [pattern='/logout', DELETE]
2020-08-19 06:10:23.285 DEBUG 9356 --- [http-nio-8068-exec-4] o.s.s.w.u.matcher.AntPathRequestMatcher  : Checking match of request : '/api/v1/contractors/me'; against '/logout'
2020-08-19 06:10:23.285 DEBUG 9356 --- [http-nio-8068-exec-4] o.s.s.web.util.matcher.OrRequestMatcher  : No matches found
2020-08-19 06:10:23.285 DEBUG 9356 --- [http-nio-8068-exec-4] o.s.security.web.FilterChainProxy        : /api/v1/contractors/me at position 5 of 11 in additional filter chain; firing Filter: 'JwtTokenFilter'
2020-08-19 06:10:23.292  INFO 9356 --- [http-nio-8068-exec-4] r.l.service.user.impl.UserServiceImpl    : IN UserServiceImpl findByUsername - user: User{username='contractor2', firstName='firstName2', lastName='lastName2', email='email2@mail.ru', phone='79229797602', password='$2a$10$Uzl41xR.OUV7m1pFV0zRuO85fGWOWZNK2TY36aDr1gn5rn3uNZGU.', roles=[Role{id: 2, name: ROLE_CONTRACTOR}], userStatus=DELETED} found by userName: contractor2
2020-08-19 06:10:23.293  INFO 9356 --- [http-nio-8068-exec-4] r.l.security.JwtUserDetailsService       : IN loadUserByUsername - user with username: contractor2 successfully loaded
2020-08-19 06:10:23.293 DEBUG 9356 --- [http-nio-8068-exec-4] o.s.security.web.FilterChainProxy        : /api/v1/contractors/me at position 6 of 11 in additional filter chain; firing Filter: 'RequestCacheAwareFilter'
2020-08-19 06:10:23.293 DEBUG 9356 --- [http-nio-8068-exec-4] o.s.security.web.FilterChainProxy        : /api/v1/contractors/me at position 7 of 11 in additional filter chain; firing Filter: 'SecurityContextHolderAwareRequestFilter'
2020-08-19 06:10:23.293 DEBUG 9356 --- [http-nio-8068-exec-4] o.s.security.web.FilterChainProxy        : /api/v1/contractors/me at position 8 of 11 in additional filter chain; firing Filter: 'AnonymousAuthenticationFilter'
2020-08-19 06:10:23.293 DEBUG 9356 --- [http-nio-8068-exec-4] o.s.s.w.a.AnonymousAuthenticationFilter  : SecurityContextHolder not populated with anonymous token, as it already contained: 'org.springframework.security.authentication.UsernamePasswordAuthenticationToken@2574fea5: Principal: ru.logisticplatform.security.jwt.JwtUser@3af524bf; Credentials: [PROTECTED]; Authenticated: true; Details: null; Granted Authorities: ROLE_CONTRACTOR'
2020-08-19 06:10:23.293 DEBUG 9356 --- [http-nio-8068-exec-4] o.s.security.web.FilterChainProxy        : /api/v1/contractors/me at position 9 of 11 in additional filter chain; firing Filter: 'SessionManagementFilter'
2020-08-19 06:10:23.293 DEBUG 9356 --- [http-nio-8068-exec-4] s.CompositeSessionAuthenticationStrategy : Delegating to org.springframework.security.web.authentication.session.ChangeSessionIdAuthenticationStrategy@1387bd84
2020-08-19 06:10:23.293 DEBUG 9356 --- [http-nio-8068-exec-4] o.s.security.web.FilterChainProxy        : /api/v1/contractors/me at position 10 of 11 in additional filter chain; firing Filter: 'ExceptionTranslationFilter'
2020-08-19 06:10:23.293 DEBUG 9356 --- [http-nio-8068-exec-4] o.s.security.web.FilterChainProxy        : /api/v1/contractors/me at position 11 of 11 in additional filter chain; firing Filter: 'FilterSecurityInterceptor'
2020-08-19 06:10:23.293 DEBUG 9356 --- [http-nio-8068-exec-4] o.s.s.w.u.matcher.AntPathRequestMatcher  : Checking match of request : '/api/v1/contractors/me'; against '/api/v1/sign/**'
2020-08-19 06:10:23.293 DEBUG 9356 --- [http-nio-8068-exec-4] o.s.s.w.u.matcher.AntPathRequestMatcher  : Checking match of request : '/api/v1/contractors/me'; against '/api/v1/admins/**'
2020-08-19 06:10:23.293 DEBUG 9356 --- [http-nio-8068-exec-4] o.s.s.w.u.matcher.AntPathRequestMatcher  : Checking match of request : '/api/v1/contractors/me'; against '/api/v1/customers/**'
2020-08-19 06:10:23.293 DEBUG 9356 --- [http-nio-8068-exec-4] o.s.s.w.a.i.FilterSecurityInterceptor    : Secure object: FilterInvocation: URL: /api/v1/contractors/me; Attributes: [authenticated]
2020-08-19 06:10:23.293 DEBUG 9356 --- [http-nio-8068-exec-4] o.s.s.w.a.i.FilterSecurityInterceptor    : Previously Authenticated: org.springframework.security.authentication.UsernamePasswordAuthenticationToken@2574fea5: Principal: ru.logisticplatform.security.jwt.JwtUser@3af524bf; Credentials: [PROTECTED]; Authenticated: true; Details: null; Granted Authorities: ROLE_CONTRACTOR
2020-08-19 06:10:23.294 DEBUG 9356 --- [http-nio-8068-exec-4] o.s.s.access.vote.AffirmativeBased       : Voter: org.springframework.security.web.access.expression.WebExpressionVoter@472b854, returned: 1
2020-08-19 06:10:23.294 DEBUG 9356 --- [http-nio-8068-exec-4] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorization successful
2020-08-19 06:10:23.294 DEBUG 9356 --- [http-nio-8068-exec-4] o.s.s.w.a.i.FilterSecurityInterceptor    : RunAsManager did not change Authentication object
2020-08-19 06:10:23.294 DEBUG 9356 --- [http-nio-8068-exec-4] o.s.security.web.FilterChainProxy        : /api/v1/contractors/me reached end of additional filter chain; proceeding with original chain
2020-08-19 06:10:23.300  INFO 9356 --- [http-nio-8068-exec-4] r.l.service.user.impl.UserServiceImpl    : IN UserServiceImpl findByUsername - user: User{username='contractor2', firstName='firstName2', lastName='lastName2', email='email2@mail.ru', phone='79229797602', password='$2a$10$Uzl41xR.OUV7m1pFV0zRuO85fGWOWZNK2TY36aDr1gn5rn3uNZGU.', roles=[Role{id: 2, name: ROLE_CONTRACTOR}], userStatus=DELETED} found by userName: contractor2
2020-08-19 06:10:23.301 DEBUG 9356 --- [http-nio-8068-exec-4] o.s.s.w.a.ExceptionTranslationFilter     : Chain processed normally
2020-08-19 06:10:23.301 DEBUG 9356 --- [http-nio-8068-exec-4] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match the requestMatcher org.springframework.security.web.header.writers.HstsHeaderWriter$SecureRequestMatcher@419b8609
2020-08-19 06:10:23.301 DEBUG 9356 --- [http-nio-8068-exec-4] s.s.w.c.SecurityContextPersistenceFilter : SecurityContextHolder now cleared, as request processing completed
2020-08-19 06:11:08.059  INFO 9356 --- [SpringContextShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2020-08-19 06:11:08.062  INFO 9356 --- [SpringContextShutdownHook] o.s.s.concurrent.ThreadPoolTaskExecutor  : Shutting down ExecutorService 'applicationTaskExecutor'
2020-08-19 06:11:08.063  INFO 9356 --- [SpringContextShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-2 - Shutdown initiated...
2020-08-19 06:11:08.074  INFO 9356 --- [SpringContextShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-2 - Shutdown completed.
2020-08-19 21:08:45.187  INFO 3268 --- [main] r.l.LogisticPlatformApplication          : Starting LogisticPlatformApplication on DESKTOP-KQ9S95L with PID 3268 (G:\JAVA\avalon\VKR\_logisticplatform\logisticplatform\target\classes started by x in G:\JAVA\avalon\VKR\_logisticplatform\logisticplatform)
2020-08-19 21:08:45.192  INFO 3268 --- [main] r.l.LogisticPlatformApplication          : No active profile set, falling back to default profiles: default
2020-08-19 21:08:47.353  INFO 3268 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFERRED mode.
2020-08-19 21:08:47.492  INFO 3268 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 129ms. Found 9 JPA repository interfaces.
2020-08-19 21:08:48.201  INFO 3268 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8068 (http)
2020-08-19 21:08:48.214  INFO 3268 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2020-08-19 21:08:48.214  INFO 3268 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.36]
2020-08-19 21:08:48.440  INFO 3268 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2020-08-19 21:08:48.440  INFO 3268 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 3171 ms
2020-08-19 21:08:48.675  INFO 3268 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2020-08-19 21:08:49.622  INFO 3268 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2020-08-19 21:08:51.641  INFO 3268 --- [main] liquibase.executor.jvm.JdbcExecutor      : SELECT COUNT(*) FROM logisticplatform.DATABASECHANGELOGLOCK
2020-08-19 21:08:51.650  INFO 3268 --- [main] liquibase.executor.jvm.JdbcExecutor      : SELECT COUNT(*) FROM logisticplatform.DATABASECHANGELOGLOCK
2020-08-19 21:08:51.655  INFO 3268 --- [main] liquibase.executor.jvm.JdbcExecutor      : SELECT `LOCKED` FROM logisticplatform.DATABASECHANGELOGLOCK WHERE ID=1
2020-08-19 21:08:51.740  INFO 3268 --- [main] l.lockservice.StandardLockService        : Successfully acquired change log lock
2020-08-19 21:08:54.867  INFO 3268 --- [main] liquibase.executor.jvm.JdbcExecutor      : SELECT MD5SUM FROM logisticplatform.DATABASECHANGELOG WHERE MD5SUM IS NOT NULL LIMIT 1
2020-08-19 21:08:54.868  INFO 3268 --- [main] liquibase.executor.jvm.JdbcExecutor      : SELECT COUNT(*) FROM logisticplatform.DATABASECHANGELOG
2020-08-19 21:08:54.870  INFO 3268 --- [main] l.c.StandardChangeLogHistoryService      : Reading from logisticplatform.DATABASECHANGELOG
2020-08-19 21:08:54.871  INFO 3268 --- [main] liquibase.executor.jvm.JdbcExecutor      : SELECT * FROM logisticplatform.DATABASECHANGELOG ORDER BY DATEEXECUTED ASC, ORDEREXECUTED ASC
2020-08-19 21:08:55.088  INFO 3268 --- [main] l.lockservice.StandardLockService        : Successfully released change log lock
2020-08-19 21:08:55.090  INFO 3268 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2020-08-19 21:08:55.102  INFO 3268 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2020-08-19 21:08:55.249  INFO 3268 --- [main] o.s.s.concurrent.ThreadPoolTaskExecutor  : Initializing ExecutorService 'applicationTaskExecutor'
2020-08-19 21:08:55.260  INFO 3268 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-2 - Starting...
2020-08-19 21:08:55.260  WARN 3268 --- [main] com.zaxxer.hikari.util.DriverDataSource  : Registered driver with driverClassName=com.mysql.jdbc.Driver was not found, trying direct instantiation.
2020-08-19 21:08:55.279  INFO 3268 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-2 - Start completed.
2020-08-19 21:08:55.347  INFO 3268 --- [task-1] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2020-08-19 21:08:55.403  WARN 3268 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2020-08-19 21:08:55.410  INFO 3268 --- [task-1] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.4.17.Final
2020-08-19 21:08:55.631  INFO 3268 --- [task-1] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.0.Final}
2020-08-19 21:08:55.831  INFO 3268 --- [task-1] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2020-08-19 21:08:56.086 DEBUG 3268 --- [main] eGlobalAuthenticationAutowiredConfigurer : Eagerly initializing {org.springframework.boot.autoconfigure.security.servlet.WebSecurityEnablerConfiguration=org.springframework.boot.autoconfigure.security.servlet.WebSecurityEnablerConfiguration@72b10258}
2020-08-19 21:08:56.182 DEBUG 3268 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression 'permitAll', for Ant [pattern='/api/v1/sign/**']
2020-08-19 21:08:56.184 DEBUG 3268 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression 'hasRole('ROLE_ADMIN')', for Ant [pattern='/api/v1/admins/**']
2020-08-19 21:08:56.185 DEBUG 3268 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression 'hasRole('ROLE_CUSTOMER')', for Ant [pattern='/api/v1/customers/**']
2020-08-19 21:08:56.186 DEBUG 3268 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression 'authenticated', for any request
2020-08-19 21:08:56.194 DEBUG 3268 --- [main] o.s.s.w.a.i.FilterSecurityInterceptor    : Validated configuration attributes
2020-08-19 21:08:56.195 DEBUG 3268 --- [main] o.s.s.w.a.i.FilterSecurityInterceptor    : Validated configuration attributes
2020-08-19 21:08:56.199  INFO 3268 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: any request, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@6f7c9755, org.springframework.security.web.context.SecurityContextPersistenceFilter@608eb42e, org.springframework.security.web.header.HeaderWriterFilter@3134b261, org.springframework.security.web.authentication.logout.LogoutFilter@622ba721, ru.logisticplatform.security.jwt.JwtTokenFilter@45abbd24, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@30eb55c9, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@663622b1, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@1e32037d, org.springframework.security.web.session.SessionManagementFilter@516b84d1, org.springframework.security.web.access.ExceptionTranslationFilter@1805ca5c, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@34eb5d01]
2020-08-19 21:08:56.542  INFO 3268 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8068 (http) with context path ''
2020-08-19 21:08:56.546  INFO 3268 --- [main] DeferredRepositoryInitializationListener : Triggering deferred initialization of Spring Data repositoriesâ€¦
2020-08-19 21:08:57.212  INFO 3268 --- [task-1] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2020-08-19 21:08:57.223  INFO 3268 --- [task-1] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2020-08-19 21:08:57.873  INFO 3268 --- [main] DeferredRepositoryInitializationListener : Spring Data repositories initialized!
2020-08-19 21:08:57.897  INFO 3268 --- [main] r.l.LogisticPlatformApplication          : Started LogisticPlatformApplication in 13.796 seconds (JVM running for 15.172)
2020-08-19 21:11:30.433  INFO 6784 --- [main] r.l.LogisticPlatformApplication          : Starting LogisticPlatformApplication on DESKTOP-KQ9S95L with PID 6784 (G:\JAVA\avalon\VKR\_logisticplatform\logisticplatform\target\classes started by x in G:\JAVA\avalon\VKR\_logisticplatform\logisticplatform)
2020-08-19 21:11:30.438  INFO 6784 --- [main] r.l.LogisticPlatformApplication          : No active profile set, falling back to default profiles: default
2020-08-19 21:11:32.187  INFO 6784 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFERRED mode.
2020-08-19 21:11:32.403  INFO 6784 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 197ms. Found 9 JPA repository interfaces.
2020-08-19 21:11:33.340  INFO 6784 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8068 (http)
2020-08-19 21:11:33.352  INFO 6784 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2020-08-19 21:11:33.352  INFO 6784 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.36]
2020-08-19 21:11:33.522  INFO 6784 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2020-08-19 21:11:33.523  INFO 6784 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 3022 ms
2020-08-19 21:11:33.721  INFO 6784 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2020-08-19 21:11:34.243  INFO 6784 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2020-08-19 21:11:35.955  INFO 6784 --- [main] liquibase.executor.jvm.JdbcExecutor      : SELECT COUNT(*) FROM logisticplatform.DATABASECHANGELOGLOCK
2020-08-19 21:11:35.963  INFO 6784 --- [main] liquibase.executor.jvm.JdbcExecutor      : SELECT COUNT(*) FROM logisticplatform.DATABASECHANGELOGLOCK
2020-08-19 21:11:35.966  INFO 6784 --- [main] liquibase.executor.jvm.JdbcExecutor      : SELECT `LOCKED` FROM logisticplatform.DATABASECHANGELOGLOCK WHERE ID=1
2020-08-19 21:11:36.036  INFO 6784 --- [main] l.lockservice.StandardLockService        : Successfully acquired change log lock
2020-08-19 21:11:38.952  INFO 6784 --- [main] liquibase.executor.jvm.JdbcExecutor      : SELECT MD5SUM FROM logisticplatform.DATABASECHANGELOG WHERE MD5SUM IS NOT NULL LIMIT 1
2020-08-19 21:11:38.953  INFO 6784 --- [main] liquibase.executor.jvm.JdbcExecutor      : SELECT COUNT(*) FROM logisticplatform.DATABASECHANGELOG
2020-08-19 21:11:38.955  INFO 6784 --- [main] l.c.StandardChangeLogHistoryService      : Reading from logisticplatform.DATABASECHANGELOG
2020-08-19 21:11:38.955  INFO 6784 --- [main] liquibase.executor.jvm.JdbcExecutor      : SELECT * FROM logisticplatform.DATABASECHANGELOG ORDER BY DATEEXECUTED ASC, ORDEREXECUTED ASC
2020-08-19 21:11:39.136  INFO 6784 --- [main] l.lockservice.StandardLockService        : Successfully released change log lock
2020-08-19 21:11:39.137  INFO 6784 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2020-08-19 21:11:39.156  INFO 6784 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2020-08-19 21:11:39.334  INFO 6784 --- [main] o.s.s.concurrent.ThreadPoolTaskExecutor  : Initializing ExecutorService 'applicationTaskExecutor'
2020-08-19 21:11:39.352  INFO 6784 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-2 - Starting...
2020-08-19 21:11:39.352  WARN 6784 --- [main] com.zaxxer.hikari.util.DriverDataSource  : Registered driver with driverClassName=com.mysql.jdbc.Driver was not found, trying direct instantiation.
2020-08-19 21:11:39.377  INFO 6784 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-2 - Start completed.
2020-08-19 21:11:39.457  INFO 6784 --- [task-1] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2020-08-19 21:11:39.581  WARN 6784 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2020-08-19 21:11:39.589  INFO 6784 --- [task-1] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.4.17.Final
2020-08-19 21:11:39.850  INFO 6784 --- [task-1] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.0.Final}
2020-08-19 21:11:40.016  INFO 6784 --- [task-1] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2020-08-19 21:11:40.185 DEBUG 6784 --- [main] eGlobalAuthenticationAutowiredConfigurer : Eagerly initializing {org.springframework.boot.autoconfigure.security.servlet.WebSecurityEnablerConfiguration=org.springframework.boot.autoconfigure.security.servlet.WebSecurityEnablerConfiguration@18d14de3}
2020-08-19 21:11:40.293 DEBUG 6784 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression 'permitAll', for Ant [pattern='/api/v1/sign/**']
2020-08-19 21:11:40.296 DEBUG 6784 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression 'hasRole('ROLE_ADMIN')', for Ant [pattern='/api/v1/admins/**']
2020-08-19 21:11:40.297 DEBUG 6784 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression 'hasRole('ROLE_CUSTOMER')', for Ant [pattern='/api/v1/customers/**']
2020-08-19 21:11:40.297 DEBUG 6784 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression 'authenticated', for any request
2020-08-19 21:11:40.304 DEBUG 6784 --- [main] o.s.s.w.a.i.FilterSecurityInterceptor    : Validated configuration attributes
2020-08-19 21:11:40.305 DEBUG 6784 --- [main] o.s.s.w.a.i.FilterSecurityInterceptor    : Validated configuration attributes
2020-08-19 21:11:40.308  INFO 6784 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: any request, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@1892865f, org.springframework.security.web.context.SecurityContextPersistenceFilter@2e667e95, org.springframework.security.web.header.HeaderWriterFilter@30eee098, org.springframework.security.web.authentication.logout.LogoutFilter@46a9c368, ru.logisticplatform.security.jwt.JwtTokenFilter@460df441, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@66b62ebd, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@6e54bef6, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@761f1a28, org.springframework.security.web.session.SessionManagementFilter@68dbe225, org.springframework.security.web.access.ExceptionTranslationFilter@3d763ae5, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@74901d7]
2020-08-19 21:11:40.653  INFO 6784 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8068 (http) with context path ''
2020-08-19 21:11:40.656  INFO 6784 --- [main] DeferredRepositoryInitializationListener : Triggering deferred initialization of Spring Data repositoriesâ€¦
2020-08-19 21:11:41.319  INFO 6784 --- [task-1] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2020-08-19 21:11:41.331  INFO 6784 --- [task-1] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2020-08-19 21:11:42.141  INFO 6784 --- [main] DeferredRepositoryInitializationListener : Spring Data repositories initialized!
2020-08-19 21:11:42.160  INFO 6784 --- [main] r.l.LogisticPlatformApplication          : Started LogisticPlatformApplication in 12.491 seconds (JVM running for 14.606)
2020-08-19 21:12:16.619  INFO 6784 --- [http-nio-8068-exec-2] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2020-08-19 21:12:16.619  INFO 6784 --- [http-nio-8068-exec-2] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2020-08-19 21:12:16.628  INFO 6784 --- [http-nio-8068-exec-2] o.s.web.servlet.DispatcherServlet        : Completed initialization in 9 ms
2020-08-19 21:12:16.644 DEBUG 6784 --- [http-nio-8068-exec-2] o.s.security.web.FilterChainProxy        : /api/v1/sign/in at position 1 of 11 in additional filter chain; firing Filter: 'WebAsyncManagerIntegrationFilter'
2020-08-19 21:12:16.646 DEBUG 6784 --- [http-nio-8068-exec-2] o.s.security.web.FilterChainProxy        : /api/v1/sign/in at position 2 of 11 in additional filter chain; firing Filter: 'SecurityContextPersistenceFilter'
2020-08-19 21:12:16.648 DEBUG 6784 --- [http-nio-8068-exec-2] o.s.security.web.FilterChainProxy        : /api/v1/sign/in at position 3 of 11 in additional filter chain; firing Filter: 'HeaderWriterFilter'
2020-08-19 21:12:16.651 DEBUG 6784 --- [http-nio-8068-exec-2] o.s.security.web.FilterChainProxy        : /api/v1/sign/in at position 4 of 11 in additional filter chain; firing Filter: 'LogoutFilter'
2020-08-19 21:12:16.651 DEBUG 6784 --- [http-nio-8068-exec-2] o.s.s.web.util.matcher.OrRequestMatcher  : Trying to match using Ant [pattern='/logout', GET]
2020-08-19 21:12:16.651 DEBUG 6784 --- [http-nio-8068-exec-2] o.s.s.w.u.matcher.AntPathRequestMatcher  : Request 'POST /api/v1/sign/in' doesn't match 'GET /logout'
2020-08-19 21:12:16.651 DEBUG 6784 --- [http-nio-8068-exec-2] o.s.s.web.util.matcher.OrRequestMatcher  : Trying to match using Ant [pattern='/logout', POST]
2020-08-19 21:12:16.651 DEBUG 6784 --- [http-nio-8068-exec-2] o.s.s.w.u.matcher.AntPathRequestMatcher  : Checking match of request : '/api/v1/sign/in'; against '/logout'
2020-08-19 21:12:16.652 DEBUG 6784 --- [http-nio-8068-exec-2] o.s.s.web.util.matcher.OrRequestMatcher  : Trying to match using Ant [pattern='/logout', PUT]
2020-08-19 21:12:16.652 DEBUG 6784 --- [http-nio-8068-exec-2] o.s.s.w.u.matcher.AntPathRequestMatcher  : Request 'POST /api/v1/sign/in' doesn't match 'PUT /logout'
2020-08-19 21:12:16.652 DEBUG 6784 --- [http-nio-8068-exec-2] o.s.s.web.util.matcher.OrRequestMatcher  : Trying to match using Ant [pattern='/logout', DELETE]
2020-08-19 21:12:16.652 DEBUG 6784 --- [http-nio-8068-exec-2] o.s.s.w.u.matcher.AntPathRequestMatcher  : Request 'POST /api/v1/sign/in' doesn't match 'DELETE /logout'
2020-08-19 21:12:16.652 DEBUG 6784 --- [http-nio-8068-exec-2] o.s.s.web.util.matcher.OrRequestMatcher  : No matches found
2020-08-19 21:12:16.652 DEBUG 6784 --- [http-nio-8068-exec-2] o.s.security.web.FilterChainProxy        : /api/v1/sign/in at position 5 of 11 in additional filter chain; firing Filter: 'JwtTokenFilter'
2020-08-19 21:12:16.653 DEBUG 6784 --- [http-nio-8068-exec-2] o.s.security.web.FilterChainProxy        : /api/v1/sign/in at position 6 of 11 in additional filter chain; firing Filter: 'RequestCacheAwareFilter'
2020-08-19 21:12:16.653 DEBUG 6784 --- [http-nio-8068-exec-2] o.s.security.web.FilterChainProxy        : /api/v1/sign/in at position 7 of 11 in additional filter chain; firing Filter: 'SecurityContextHolderAwareRequestFilter'
2020-08-19 21:12:16.655 DEBUG 6784 --- [http-nio-8068-exec-2] o.s.security.web.FilterChainProxy        : /api/v1/sign/in at position 8 of 11 in additional filter chain; firing Filter: 'AnonymousAuthenticationFilter'
2020-08-19 21:12:16.656 DEBUG 6784 --- [http-nio-8068-exec-2] o.s.s.w.a.AnonymousAuthenticationFilter  : Populated SecurityContextHolder with anonymous token: 'org.springframework.security.authentication.AnonymousAuthenticationToken@f90f5ce3: Principal: anonymousUser; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_ANONYMOUS'
2020-08-19 21:12:16.657 DEBUG 6784 --- [http-nio-8068-exec-2] o.s.security.web.FilterChainProxy        : /api/v1/sign/in at position 9 of 11 in additional filter chain; firing Filter: 'SessionManagementFilter'
2020-08-19 21:12:16.657 DEBUG 6784 --- [http-nio-8068-exec-2] o.s.security.web.FilterChainProxy        : /api/v1/sign/in at position 10 of 11 in additional filter chain; firing Filter: 'ExceptionTranslationFilter'
2020-08-19 21:12:16.657 DEBUG 6784 --- [http-nio-8068-exec-2] o.s.security.web.FilterChainProxy        : /api/v1/sign/in at position 11 of 11 in additional filter chain; firing Filter: 'FilterSecurityInterceptor'
2020-08-19 21:12:16.658 DEBUG 6784 --- [http-nio-8068-exec-2] o.s.s.w.u.matcher.AntPathRequestMatcher  : Checking match of request : '/api/v1/sign/in'; against '/api/v1/sign/**'
2020-08-19 21:12:16.658 DEBUG 6784 --- [http-nio-8068-exec-2] o.s.s.w.a.i.FilterSecurityInterceptor    : Secure object: FilterInvocation: URL: /api/v1/sign/in; Attributes: [permitAll]
2020-08-19 21:12:16.658 DEBUG 6784 --- [http-nio-8068-exec-2] o.s.s.w.a.i.FilterSecurityInterceptor    : Previously Authenticated: org.springframework.security.authentication.AnonymousAuthenticationToken@f90f5ce3: Principal: anonymousUser; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_ANONYMOUS
2020-08-19 21:12:16.670 DEBUG 6784 --- [http-nio-8068-exec-2] o.s.s.access.vote.AffirmativeBased       : Voter: org.springframework.security.web.access.expression.WebExpressionVoter@6ce7c426, returned: 1
2020-08-19 21:12:16.670 DEBUG 6784 --- [http-nio-8068-exec-2] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorization successful
2020-08-19 21:12:16.670 DEBUG 6784 --- [http-nio-8068-exec-2] o.s.s.w.a.i.FilterSecurityInterceptor    : RunAsManager did not change Authentication object
2020-08-19 21:12:16.671 DEBUG 6784 --- [http-nio-8068-exec-2] o.s.security.web.FilterChainProxy        : /api/v1/sign/in reached end of additional filter chain; proceeding with original chain
2020-08-19 21:12:16.808 DEBUG 6784 --- [http-nio-8068-exec-2] o.s.s.authentication.ProviderManager     : Authentication attempt using org.springframework.security.authentication.dao.DaoAuthenticationProvider
2020-08-19 21:12:17.145  INFO 6784 --- [http-nio-8068-exec-2] r.l.service.user.impl.UserServiceImpl    : IN UserServiceImpl findByUsername - user: User{username='contractor2', firstName='firstName2', lastName='lastName2', email='email2@mail.ru', phone='79229797602', password='$2a$10$Uzl41xR.OUV7m1pFV0zRuO85fGWOWZNK2TY36aDr1gn5rn3uNZGU.', roles=[Role{id: 2, name: ROLE_CONTRACTOR}], userStatus=ACTIVE} found by userName: contractor2
2020-08-19 21:12:17.147  INFO 6784 --- [http-nio-8068-exec-2] r.l.security.JwtUserDetailsService       : IN loadUserByUsername - user with username: contractor2 successfully loaded
2020-08-19 21:12:17.287  INFO 6784 --- [http-nio-8068-exec-2] r.l.service.user.impl.UserServiceImpl    : IN UserServiceImpl findByUsername - user: User{username='contractor2', firstName='firstName2', lastName='lastName2', email='email2@mail.ru', phone='79229797602', password='$2a$10$Uzl41xR.OUV7m1pFV0zRuO85fGWOWZNK2TY36aDr1gn5rn3uNZGU.', roles=[Role{id: 2, name: ROLE_CONTRACTOR}], userStatus=ACTIVE} found by userName: contractor2
2020-08-19 21:12:17.410 DEBUG 6784 --- [http-nio-8068-exec-2] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match the requestMatcher org.springframework.security.web.header.writers.HstsHeaderWriter$SecureRequestMatcher@154a4e33
2020-08-19 21:12:17.419 DEBUG 6784 --- [http-nio-8068-exec-2] o.s.s.w.a.ExceptionTranslationFilter     : Chain processed normally
2020-08-19 21:12:17.420 DEBUG 6784 --- [http-nio-8068-exec-2] s.s.w.c.SecurityContextPersistenceFilter : SecurityContextHolder now cleared, as request processing completed
2020-08-19 21:13:01.941 DEBUG 6784 --- [http-nio-8068-exec-3] o.s.security.web.FilterChainProxy        : /api/v1/contractors/customers/customer3 at position 1 of 11 in additional filter chain; firing Filter: 'WebAsyncManagerIntegrationFilter'
2020-08-19 21:13:01.941 DEBUG 6784 --- [http-nio-8068-exec-3] o.s.security.web.FilterChainProxy        : /api/v1/contractors/customers/customer3 at position 2 of 11 in additional filter chain; firing Filter: 'SecurityContextPersistenceFilter'
2020-08-19 21:13:01.941 DEBUG 6784 --- [http-nio-8068-exec-3] o.s.security.web.FilterChainProxy        : /api/v1/contractors/customers/customer3 at position 3 of 11 in additional filter chain; firing Filter: 'HeaderWriterFilter'
2020-08-19 21:13:01.942 DEBUG 6784 --- [http-nio-8068-exec-3] o.s.security.web.FilterChainProxy        : /api/v1/contractors/customers/customer3 at position 4 of 11 in additional filter chain; firing Filter: 'LogoutFilter'
2020-08-19 21:13:01.942 DEBUG 6784 --- [http-nio-8068-exec-3] o.s.s.web.util.matcher.OrRequestMatcher  : Trying to match using Ant [pattern='/logout', GET]
2020-08-19 21:13:01.942 DEBUG 6784 --- [http-nio-8068-exec-3] o.s.s.w.u.matcher.AntPathRequestMatcher  : Checking match of request : '/api/v1/contractors/customers/customer3'; against '/logout'
2020-08-19 21:13:01.942 DEBUG 6784 --- [http-nio-8068-exec-3] o.s.s.web.util.matcher.OrRequestMatcher  : Trying to match using Ant [pattern='/logout', POST]
2020-08-19 21:13:01.942 DEBUG 6784 --- [http-nio-8068-exec-3] o.s.s.w.u.matcher.AntPathRequestMatcher  : Request 'GET /api/v1/contractors/customers/customer3' doesn't match 'POST /logout'
2020-08-19 21:13:01.942 DEBUG 6784 --- [http-nio-8068-exec-3] o.s.s.web.util.matcher.OrRequestMatcher  : Trying to match using Ant [pattern='/logout', PUT]
2020-08-19 21:13:01.942 DEBUG 6784 --- [http-nio-8068-exec-3] o.s.s.w.u.matcher.AntPathRequestMatcher  : Request 'GET /api/v1/contractors/customers/customer3' doesn't match 'PUT /logout'
2020-08-19 21:13:01.942 DEBUG 6784 --- [http-nio-8068-exec-3] o.s.s.web.util.matcher.OrRequestMatcher  : Trying to match using Ant [pattern='/logout', DELETE]
2020-08-19 21:13:01.942 DEBUG 6784 --- [http-nio-8068-exec-3] o.s.s.w.u.matcher.AntPathRequestMatcher  : Request 'GET /api/v1/contractors/customers/customer3' doesn't match 'DELETE /logout'
2020-08-19 21:13:01.942 DEBUG 6784 --- [http-nio-8068-exec-3] o.s.s.web.util.matcher.OrRequestMatcher  : No matches found
2020-08-19 21:13:01.943 DEBUG 6784 --- [http-nio-8068-exec-3] o.s.security.web.FilterChainProxy        : /api/v1/contractors/customers/customer3 at position 5 of 11 in additional filter chain; firing Filter: 'JwtTokenFilter'
2020-08-19 21:13:01.994  INFO 6784 --- [http-nio-8068-exec-3] r.l.service.user.impl.UserServiceImpl    : IN UserServiceImpl findByUsername - user: User{username='contractor2', firstName='firstName2', lastName='lastName2', email='email2@mail.ru', phone='79229797602', password='$2a$10$Uzl41xR.OUV7m1pFV0zRuO85fGWOWZNK2TY36aDr1gn5rn3uNZGU.', roles=[Role{id: 2, name: ROLE_CONTRACTOR}], userStatus=ACTIVE} found by userName: contractor2
2020-08-19 21:13:01.994  INFO 6784 --- [http-nio-8068-exec-3] r.l.security.JwtUserDetailsService       : IN loadUserByUsername - user with username: contractor2 successfully loaded
2020-08-19 21:13:01.994 DEBUG 6784 --- [http-nio-8068-exec-3] o.s.security.web.FilterChainProxy        : /api/v1/contractors/customers/customer3 at position 6 of 11 in additional filter chain; firing Filter: 'RequestCacheAwareFilter'
2020-08-19 21:13:01.994 DEBUG 6784 --- [http-nio-8068-exec-3] o.s.security.web.FilterChainProxy        : /api/v1/contractors/customers/customer3 at position 7 of 11 in additional filter chain; firing Filter: 'SecurityContextHolderAwareRequestFilter'
2020-08-19 21:13:01.994 DEBUG 6784 --- [http-nio-8068-exec-3] o.s.security.web.FilterChainProxy        : /api/v1/contractors/customers/customer3 at position 8 of 11 in additional filter chain; firing Filter: 'AnonymousAuthenticationFilter'
2020-08-19 21:13:01.994 DEBUG 6784 --- [http-nio-8068-exec-3] o.s.s.w.a.AnonymousAuthenticationFilter  : SecurityContextHolder not populated with anonymous token, as it already contained: 'org.springframework.security.authentication.UsernamePasswordAuthenticationToken@5059754c: Principal: ru.logisticplatform.security.jwt.JwtUser@4fd8af56; Credentials: [PROTECTED]; Authenticated: true; Details: null; Granted Authorities: ROLE_CONTRACTOR'
2020-08-19 21:13:01.994 DEBUG 6784 --- [http-nio-8068-exec-3] o.s.security.web.FilterChainProxy        : /api/v1/contractors/customers/customer3 at position 9 of 11 in additional filter chain; firing Filter: 'SessionManagementFilter'
2020-08-19 21:13:01.994 DEBUG 6784 --- [http-nio-8068-exec-3] s.CompositeSessionAuthenticationStrategy : Delegating to org.springframework.security.web.authentication.session.ChangeSessionIdAuthenticationStrategy@112a50a1
2020-08-19 21:13:01.995 DEBUG 6784 --- [http-nio-8068-exec-3] o.s.security.web.FilterChainProxy        : /api/v1/contractors/customers/customer3 at position 10 of 11 in additional filter chain; firing Filter: 'ExceptionTranslationFilter'
2020-08-19 21:13:01.995 DEBUG 6784 --- [http-nio-8068-exec-3] o.s.security.web.FilterChainProxy        : /api/v1/contractors/customers/customer3 at position 11 of 11 in additional filter chain; firing Filter: 'FilterSecurityInterceptor'
2020-08-19 21:13:01.995 DEBUG 6784 --- [http-nio-8068-exec-3] o.s.s.w.u.matcher.AntPathRequestMatcher  : Checking match of request : '/api/v1/contractors/customers/customer3'; against '/api/v1/sign/**'
2020-08-19 21:13:01.995 DEBUG 6784 --- [http-nio-8068-exec-3] o.s.s.w.u.matcher.AntPathRequestMatcher  : Checking match of request : '/api/v1/contractors/customers/customer3'; against '/api/v1/admins/**'
2020-08-19 21:13:01.995 DEBUG 6784 --- [http-nio-8068-exec-3] o.s.s.w.u.matcher.AntPathRequestMatcher  : Checking match of request : '/api/v1/contractors/customers/customer3'; against '/api/v1/customers/**'
2020-08-19 21:13:01.995 DEBUG 6784 --- [http-nio-8068-exec-3] o.s.s.w.a.i.FilterSecurityInterceptor    : Secure object: FilterInvocation: URL: /api/v1/contractors/customers/customer3; Attributes: [authenticated]
2020-08-19 21:13:01.995 DEBUG 6784 --- [http-nio-8068-exec-3] o.s.s.w.a.i.FilterSecurityInterceptor    : Previously Authenticated: org.springframework.security.authentication.UsernamePasswordAuthenticationToken@5059754c: Principal: ru.logisticplatform.security.jwt.JwtUser@4fd8af56; Credentials: [PROTECTED]; Authenticated: true; Details: null; Granted Authorities: ROLE_CONTRACTOR
2020-08-19 21:13:01.995 DEBUG 6784 --- [http-nio-8068-exec-3] o.s.s.access.vote.AffirmativeBased       : Voter: org.springframework.security.web.access.expression.WebExpressionVoter@6ce7c426, returned: 1
2020-08-19 21:13:01.996 DEBUG 6784 --- [http-nio-8068-exec-3] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorization successful
2020-08-19 21:13:01.996 DEBUG 6784 --- [http-nio-8068-exec-3] o.s.s.w.a.i.FilterSecurityInterceptor    : RunAsManager did not change Authentication object
2020-08-19 21:13:01.996 DEBUG 6784 --- [http-nio-8068-exec-3] o.s.security.web.FilterChainProxy        : /api/v1/contractors/customers/customer3 reached end of additional filter chain; proceeding with original chain
2020-08-19 21:13:02.006  INFO 6784 --- [http-nio-8068-exec-3] r.l.service.user.impl.UserServiceImpl    : IN UserServiceImpl findByUsername - user: User{username='customer3', firstName='firstName3', lastName='lastName3', email='email3@mail.ru', phone='79339797603', password='$2a$10$xDCVWzkV0osns7uDyLOXKeqyzu6FgAFSQkYstDP95o.z61Bn9ghJq', roles=[Role{id: 3, name: ROLE_CUSTOMER}], userStatus=ACTIVE} found by userName: customer3
2020-08-19 21:13:02.086 DEBUG 6784 --- [http-nio-8068-exec-3] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match the requestMatcher org.springframework.security.web.header.writers.HstsHeaderWriter$SecureRequestMatcher@154a4e33
2020-08-19 21:13:02.088 DEBUG 6784 --- [http-nio-8068-exec-3] o.s.s.w.a.ExceptionTranslationFilter     : Chain processed normally
2020-08-19 21:13:02.088 DEBUG 6784 --- [http-nio-8068-exec-3] s.s.w.c.SecurityContextPersistenceFilter : SecurityContextHolder now cleared, as request processing completed
2020-08-19 21:13:34.694 DEBUG 6784 --- [http-nio-8068-exec-4] o.s.security.web.FilterChainProxy        : /api/v1/contractors/me at position 1 of 11 in additional filter chain; firing Filter: 'WebAsyncManagerIntegrationFilter'
2020-08-19 21:13:34.695 DEBUG 6784 --- [http-nio-8068-exec-4] o.s.security.web.FilterChainProxy        : /api/v1/contractors/me at position 2 of 11 in additional filter chain; firing Filter: 'SecurityContextPersistenceFilter'
2020-08-19 21:13:34.695 DEBUG 6784 --- [http-nio-8068-exec-4] o.s.security.web.FilterChainProxy        : /api/v1/contractors/me at position 3 of 11 in additional filter chain; firing Filter: 'HeaderWriterFilter'
2020-08-19 21:13:34.695 DEBUG 6784 --- [http-nio-8068-exec-4] o.s.security.web.FilterChainProxy        : /api/v1/contractors/me at position 4 of 11 in additional filter chain; firing Filter: 'LogoutFilter'
2020-08-19 21:13:34.695 DEBUG 6784 --- [http-nio-8068-exec-4] o.s.s.web.util.matcher.OrRequestMatcher  : Trying to match using Ant [pattern='/logout', GET]
2020-08-19 21:13:34.695 DEBUG 6784 --- [http-nio-8068-exec-4] o.s.s.w.u.matcher.AntPathRequestMatcher  : Checking match of request : '/api/v1/contractors/me'; against '/logout'
2020-08-19 21:13:34.695 DEBUG 6784 --- [http-nio-8068-exec-4] o.s.s.web.util.matcher.OrRequestMatcher  : Trying to match using Ant [pattern='/logout', POST]
2020-08-19 21:13:34.695 DEBUG 6784 --- [http-nio-8068-exec-4] o.s.s.w.u.matcher.AntPathRequestMatcher  : Request 'GET /api/v1/contractors/me' doesn't match 'POST /logout'
2020-08-19 21:13:34.695 DEBUG 6784 --- [http-nio-8068-exec-4] o.s.s.web.util.matcher.OrRequestMatcher  : Trying to match using Ant [pattern='/logout', PUT]
2020-08-19 21:13:34.695 DEBUG 6784 --- [http-nio-8068-exec-4] o.s.s.w.u.matcher.AntPathRequestMatcher  : Request 'GET /api/v1/contractors/me' doesn't match 'PUT /logout'
2020-08-19 21:13:34.695 DEBUG 6784 --- [http-nio-8068-exec-4] o.s.s.web.util.matcher.OrRequestMatcher  : Trying to match using Ant [pattern='/logout', DELETE]
2020-08-19 21:13:34.695 DEBUG 6784 --- [http-nio-8068-exec-4] o.s.s.w.u.matcher.AntPathRequestMatcher  : Request 'GET /api/v1/contractors/me' doesn't match 'DELETE /logout'
2020-08-19 21:13:34.695 DEBUG 6784 --- [http-nio-8068-exec-4] o.s.s.web.util.matcher.OrRequestMatcher  : No matches found
2020-08-19 21:13:34.695 DEBUG 6784 --- [http-nio-8068-exec-4] o.s.security.web.FilterChainProxy        : /api/v1/contractors/me at position 5 of 11 in additional filter chain; firing Filter: 'JwtTokenFilter'
2020-08-19 21:13:34.703  INFO 6784 --- [http-nio-8068-exec-4] r.l.service.user.impl.UserServiceImpl    : IN UserServiceImpl findByUsername - user: User{username='contractor2', firstName='firstName2', lastName='lastName2', email='email2@mail.ru', phone='79229797602', password='$2a$10$Uzl41xR.OUV7m1pFV0zRuO85fGWOWZNK2TY36aDr1gn5rn3uNZGU.', roles=[Role{id: 2, name: ROLE_CONTRACTOR}], userStatus=ACTIVE} found by userName: contractor2
2020-08-19 21:13:34.703  INFO 6784 --- [http-nio-8068-exec-4] r.l.security.JwtUserDetailsService       : IN loadUserByUsername - user with username: contractor2 successfully loaded
2020-08-19 21:13:34.703 DEBUG 6784 --- [http-nio-8068-exec-4] o.s.security.web.FilterChainProxy        : /api/v1/contractors/me at position 6 of 11 in additional filter chain; firing Filter: 'RequestCacheAwareFilter'
2020-08-19 21:13:34.703 DEBUG 6784 --- [http-nio-8068-exec-4] o.s.security.web.FilterChainProxy        : /api/v1/contractors/me at position 7 of 11 in additional filter chain; firing Filter: 'SecurityContextHolderAwareRequestFilter'
2020-08-19 21:13:34.703 DEBUG 6784 --- [http-nio-8068-exec-4] o.s.security.web.FilterChainProxy        : /api/v1/contractors/me at position 8 of 11 in additional filter chain; firing Filter: 'AnonymousAuthenticationFilter'
2020-08-19 21:13:34.704 DEBUG 6784 --- [http-nio-8068-exec-4] o.s.s.w.a.AnonymousAuthenticationFilter  : SecurityContextHolder not populated with anonymous token, as it already contained: 'org.springframework.security.authentication.UsernamePasswordAuthenticationToken@489ca1d3: Principal: ru.logisticplatform.security.jwt.JwtUser@571d7bc9; Credentials: [PROTECTED]; Authenticated: true; Details: null; Granted Authorities: ROLE_CONTRACTOR'
2020-08-19 21:13:34.704 DEBUG 6784 --- [http-nio-8068-exec-4] o.s.security.web.FilterChainProxy        : /api/v1/contractors/me at position 9 of 11 in additional filter chain; firing Filter: 'SessionManagementFilter'
2020-08-19 21:13:34.704 DEBUG 6784 --- [http-nio-8068-exec-4] s.CompositeSessionAuthenticationStrategy : Delegating to org.springframework.security.web.authentication.session.ChangeSessionIdAuthenticationStrategy@112a50a1
2020-08-19 21:13:34.704 DEBUG 6784 --- [http-nio-8068-exec-4] o.s.security.web.FilterChainProxy        : /api/v1/contractors/me at position 10 of 11 in additional filter chain; firing Filter: 'ExceptionTranslationFilter'
2020-08-19 21:13:34.704 DEBUG 6784 --- [http-nio-8068-exec-4] o.s.security.web.FilterChainProxy        : /api/v1/contractors/me at position 11 of 11 in additional filter chain; firing Filter: 'FilterSecurityInterceptor'
2020-08-19 21:13:34.704 DEBUG 6784 --- [http-nio-8068-exec-4] o.s.s.w.u.matcher.AntPathRequestMatcher  : Checking match of request : '/api/v1/contractors/me'; against '/api/v1/sign/**'
2020-08-19 21:13:34.704 DEBUG 6784 --- [http-nio-8068-exec-4] o.s.s.w.u.matcher.AntPathRequestMatcher  : Checking match of request : '/api/v1/contractors/me'; against '/api/v1/admins/**'
2020-08-19 21:13:34.704 DEBUG 6784 --- [http-nio-8068-exec-4] o.s.s.w.u.matcher.AntPathRequestMatcher  : Checking match of request : '/api/v1/contractors/me'; against '/api/v1/customers/**'
2020-08-19 21:13:34.704 DEBUG 6784 --- [http-nio-8068-exec-4] o.s.s.w.a.i.FilterSecurityInterceptor    : Secure object: FilterInvocation: URL: /api/v1/contractors/me; Attributes: [authenticated]
2020-08-19 21:13:34.704 DEBUG 6784 --- [http-nio-8068-exec-4] o.s.s.w.a.i.FilterSecurityInterceptor    : Previously Authenticated: org.springframework.security.authentication.UsernamePasswordAuthenticationToken@489ca1d3: Principal: ru.logisticplatform.security.jwt.JwtUser@571d7bc9; Credentials: [PROTECTED]; Authenticated: true; Details: null; Granted Authorities: ROLE_CONTRACTOR
2020-08-19 21:13:34.705 DEBUG 6784 --- [http-nio-8068-exec-4] o.s.s.access.vote.AffirmativeBased       : Voter: org.springframework.security.web.access.expression.WebExpressionVoter@6ce7c426, returned: 1
2020-08-19 21:13:34.705 DEBUG 6784 --- [http-nio-8068-exec-4] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorization successful
2020-08-19 21:13:34.705 DEBUG 6784 --- [http-nio-8068-exec-4] o.s.s.w.a.i.FilterSecurityInterceptor    : RunAsManager did not change Authentication object
2020-08-19 21:13:34.705 DEBUG 6784 --- [http-nio-8068-exec-4] o.s.security.web.FilterChainProxy        : /api/v1/contractors/me reached end of additional filter chain; proceeding with original chain
2020-08-19 21:13:34.713  INFO 6784 --- [http-nio-8068-exec-4] r.l.service.user.impl.UserServiceImpl    : IN UserServiceImpl findByUsername - user: User{username='contractor2', firstName='firstName2', lastName='lastName2', email='email2@mail.ru', phone='79229797602', password='$2a$10$Uzl41xR.OUV7m1pFV0zRuO85fGWOWZNK2TY36aDr1gn5rn3uNZGU.', roles=[Role{id: 2, name: ROLE_CONTRACTOR}], userStatus=ACTIVE} found by userName: contractor2
2020-08-19 21:13:34.715 DEBUG 6784 --- [http-nio-8068-exec-4] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match the requestMatcher org.springframework.security.web.header.writers.HstsHeaderWriter$SecureRequestMatcher@154a4e33
2020-08-19 21:13:34.717 DEBUG 6784 --- [http-nio-8068-exec-4] o.s.s.w.a.ExceptionTranslationFilter     : Chain processed normally
2020-08-19 21:13:34.717 DEBUG 6784 --- [http-nio-8068-exec-4] s.s.w.c.SecurityContextPersistenceFilter : SecurityContextHolder now cleared, as request processing completed
2020-08-19 21:13:48.653 DEBUG 6784 --- [http-nio-8068-exec-5] o.s.security.web.FilterChainProxy        : /api/v1/sign/in at position 1 of 11 in additional filter chain; firing Filter: 'WebAsyncManagerIntegrationFilter'
2020-08-19 21:13:48.653 DEBUG 6784 --- [http-nio-8068-exec-5] o.s.security.web.FilterChainProxy        : /api/v1/sign/in at position 2 of 11 in additional filter chain; firing Filter: 'SecurityContextPersistenceFilter'
2020-08-19 21:13:48.653 DEBUG 6784 --- [http-nio-8068-exec-5] o.s.security.web.FilterChainProxy        : /api/v1/sign/in at position 3 of 11 in additional filter chain; firing Filter: 'HeaderWriterFilter'
2020-08-19 21:13:48.653 DEBUG 6784 --- [http-nio-8068-exec-5] o.s.security.web.FilterChainProxy        : /api/v1/sign/in at position 4 of 11 in additional filter chain; firing Filter: 'LogoutFilter'
2020-08-19 21:13:48.653 DEBUG 6784 --- [http-nio-8068-exec-5] o.s.s.web.util.matcher.OrRequestMatcher  : Trying to match using Ant [pattern='/logout', GET]
2020-08-19 21:13:48.653 DEBUG 6784 --- [http-nio-8068-exec-5] o.s.s.w.u.matcher.AntPathRequestMatcher  : Request 'POST /api/v1/sign/in' doesn't match 'GET /logout'
2020-08-19 21:13:48.653 DEBUG 6784 --- [http-nio-8068-exec-5] o.s.s.web.util.matcher.OrRequestMatcher  : Trying to match using Ant [pattern='/logout', POST]
2020-08-19 21:13:48.653 DEBUG 6784 --- [http-nio-8068-exec-5] o.s.s.w.u.matcher.AntPathRequestMatcher  : Checking match of request : '/api/v1/sign/in'; against '/logout'
2020-08-19 21:13:48.653 DEBUG 6784 --- [http-nio-8068-exec-5] o.s.s.web.util.matcher.OrRequestMatcher  : Trying to match using Ant [pattern='/logout', PUT]
2020-08-19 21:13:48.654 DEBUG 6784 --- [http-nio-8068-exec-5] o.s.s.w.u.matcher.AntPathRequestMatcher  : Request 'POST /api/v1/sign/in' doesn't match 'PUT /logout'
2020-08-19 21:13:48.654 DEBUG 6784 --- [http-nio-8068-exec-5] o.s.s.web.util.matcher.OrRequestMatcher  : Trying to match using Ant [pattern='/logout', DELETE]
2020-08-19 21:13:48.654 DEBUG 6784 --- [http-nio-8068-exec-5] o.s.s.w.u.matcher.AntPathRequestMatcher  : Request 'POST /api/v1/sign/in' doesn't match 'DELETE /logout'
2020-08-19 21:13:48.654 DEBUG 6784 --- [http-nio-8068-exec-5] o.s.s.web.util.matcher.OrRequestMatcher  : No matches found
2020-08-19 21:13:48.654 DEBUG 6784 --- [http-nio-8068-exec-5] o.s.security.web.FilterChainProxy        : /api/v1/sign/in at position 5 of 11 in additional filter chain; firing Filter: 'JwtTokenFilter'
2020-08-19 21:13:48.654 DEBUG 6784 --- [http-nio-8068-exec-5] o.s.security.web.FilterChainProxy        : /api/v1/sign/in at position 6 of 11 in additional filter chain; firing Filter: 'RequestCacheAwareFilter'
2020-08-19 21:13:48.654 DEBUG 6784 --- [http-nio-8068-exec-5] o.s.security.web.FilterChainProxy        : /api/v1/sign/in at position 7 of 11 in additional filter chain; firing Filter: 'SecurityContextHolderAwareRequestFilter'
2020-08-19 21:13:48.654 DEBUG 6784 --- [http-nio-8068-exec-5] o.s.security.web.FilterChainProxy        : /api/v1/sign/in at position 8 of 11 in additional filter chain; firing Filter: 'AnonymousAuthenticationFilter'
2020-08-19 21:13:48.654 DEBUG 6784 --- [http-nio-8068-exec-5] o.s.s.w.a.AnonymousAuthenticationFilter  : Populated SecurityContextHolder with anonymous token: 'org.springframework.security.authentication.AnonymousAuthenticationToken@f90f5ce3: Principal: anonymousUser; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_ANONYMOUS'
2020-08-19 21:13:48.654 DEBUG 6784 --- [http-nio-8068-exec-5] o.s.security.web.FilterChainProxy        : /api/v1/sign/in at position 9 of 11 in additional filter chain; firing Filter: 'SessionManagementFilter'
2020-08-19 21:13:48.654 DEBUG 6784 --- [http-nio-8068-exec-5] o.s.security.web.FilterChainProxy        : /api/v1/sign/in at position 10 of 11 in additional filter chain; firing Filter: 'ExceptionTranslationFilter'
2020-08-19 21:13:48.654 DEBUG 6784 --- [http-nio-8068-exec-5] o.s.security.web.FilterChainProxy        : /api/v1/sign/in at position 11 of 11 in additional filter chain; firing Filter: 'FilterSecurityInterceptor'
2020-08-19 21:13:48.654 DEBUG 6784 --- [http-nio-8068-exec-5] o.s.s.w.u.matcher.AntPathRequestMatcher  : Checking match of request : '/api/v1/sign/in'; against '/api/v1/sign/**'
2020-08-19 21:13:48.655 DEBUG 6784 --- [http-nio-8068-exec-5] o.s.s.w.a.i.FilterSecurityInterceptor    : Secure object: FilterInvocation: URL: /api/v1/sign/in; Attributes: [permitAll]
2020-08-19 21:13:48.655 DEBUG 6784 --- [http-nio-8068-exec-5] o.s.s.w.a.i.FilterSecurityInterceptor    : Previously Authenticated: org.springframework.security.authentication.AnonymousAuthenticationToken@f90f5ce3: Principal: anonymousUser; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_ANONYMOUS
2020-08-19 21:13:48.655 DEBUG 6784 --- [http-nio-8068-exec-5] o.s.s.access.vote.AffirmativeBased       : Voter: org.springframework.security.web.access.expression.WebExpressionVoter@6ce7c426, returned: 1
2020-08-19 21:13:48.655 DEBUG 6784 --- [http-nio-8068-exec-5] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorization successful
2020-08-19 21:13:48.655 DEBUG 6784 --- [http-nio-8068-exec-5] o.s.s.w.a.i.FilterSecurityInterceptor    : RunAsManager did not change Authentication object
2020-08-19 21:13:48.655 DEBUG 6784 --- [http-nio-8068-exec-5] o.s.security.web.FilterChainProxy        : /api/v1/sign/in reached end of additional filter chain; proceeding with original chain
2020-08-19 21:13:48.657 DEBUG 6784 --- [http-nio-8068-exec-5] o.s.s.authentication.ProviderManager     : Authentication attempt using org.springframework.security.authentication.dao.DaoAuthenticationProvider
2020-08-19 21:13:48.662  INFO 6784 --- [http-nio-8068-exec-5] r.l.service.user.impl.UserServiceImpl    : IN UserServiceImpl findByUsername - user: User{username='customer3', firstName='firstName3', lastName='lastName3', email='email3@mail.ru', phone='79339797603', password='$2a$10$xDCVWzkV0osns7uDyLOXKeqyzu6FgAFSQkYstDP95o.z61Bn9ghJq', roles=[Role{id: 3, name: ROLE_CUSTOMER}], userStatus=ACTIVE} found by userName: customer3
2020-08-19 21:13:48.662  INFO 6784 --- [http-nio-8068-exec-5] r.l.security.JwtUserDetailsService       : IN loadUserByUsername - user with username: customer3 successfully loaded
2020-08-19 21:13:48.788  INFO 6784 --- [http-nio-8068-exec-5] r.l.service.user.impl.UserServiceImpl    : IN UserServiceImpl findByUsername - user: User{username='customer3', firstName='firstName3', lastName='lastName3', email='email3@mail.ru', phone='79339797603', password='$2a$10$xDCVWzkV0osns7uDyLOXKeqyzu6FgAFSQkYstDP95o.z61Bn9ghJq', roles=[Role{id: 3, name: ROLE_CUSTOMER}], userStatus=ACTIVE} found by userName: customer3
2020-08-19 21:13:48.790 DEBUG 6784 --- [http-nio-8068-exec-5] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match the requestMatcher org.springframework.security.web.header.writers.HstsHeaderWriter$SecureRequestMatcher@154a4e33
2020-08-19 21:13:48.791 DEBUG 6784 --- [http-nio-8068-exec-5] o.s.s.w.a.ExceptionTranslationFilter     : Chain processed normally
2020-08-19 21:13:48.791 DEBUG 6784 --- [http-nio-8068-exec-5] s.s.w.c.SecurityContextPersistenceFilter : SecurityContextHolder now cleared, as request processing completed
2020-08-19 21:14:04.987 DEBUG 6784 --- [http-nio-8068-exec-6] o.s.security.web.FilterChainProxy        : /api/v1/contractors/customers/customer3 at position 1 of 11 in additional filter chain; firing Filter: 'WebAsyncManagerIntegrationFilter'
2020-08-19 21:14:04.987 DEBUG 6784 --- [http-nio-8068-exec-6] o.s.security.web.FilterChainProxy        : /api/v1/contractors/customers/customer3 at position 2 of 11 in additional filter chain; firing Filter: 'SecurityContextPersistenceFilter'
2020-08-19 21:14:04.987 DEBUG 6784 --- [http-nio-8068-exec-6] o.s.security.web.FilterChainProxy        : /api/v1/contractors/customers/customer3 at position 3 of 11 in additional filter chain; firing Filter: 'HeaderWriterFilter'
2020-08-19 21:14:04.987 DEBUG 6784 --- [http-nio-8068-exec-6] o.s.security.web.FilterChainProxy        : /api/v1/contractors/customers/customer3 at position 4 of 11 in additional filter chain; firing Filter: 'LogoutFilter'
2020-08-19 21:14:04.987 DEBUG 6784 --- [http-nio-8068-exec-6] o.s.s.web.util.matcher.OrRequestMatcher  : Trying to match using Ant [pattern='/logout', GET]
2020-08-19 21:14:04.988 DEBUG 6784 --- [http-nio-8068-exec-6] o.s.s.w.u.matcher.AntPathRequestMatcher  : Checking match of request : '/api/v1/contractors/customers/customer3'; against '/logout'
2020-08-19 21:14:04.988 DEBUG 6784 --- [http-nio-8068-exec-6] o.s.s.web.util.matcher.OrRequestMatcher  : Trying to match using Ant [pattern='/logout', POST]
2020-08-19 21:14:04.988 DEBUG 6784 --- [http-nio-8068-exec-6] o.s.s.w.u.matcher.AntPathRequestMatcher  : Request 'GET /api/v1/contractors/customers/customer3' doesn't match 'POST /logout'
2020-08-19 21:14:04.988 DEBUG 6784 --- [http-nio-8068-exec-6] o.s.s.web.util.matcher.OrRequestMatcher  : Trying to match using Ant [pattern='/logout', PUT]
2020-08-19 21:14:04.988 DEBUG 6784 --- [http-nio-8068-exec-6] o.s.s.w.u.matcher.AntPathRequestMatcher  : Request 'GET /api/v1/contractors/customers/customer3' doesn't match 'PUT /logout'
2020-08-19 21:14:04.988 DEBUG 6784 --- [http-nio-8068-exec-6] o.s.s.web.util.matcher.OrRequestMatcher  : Trying to match using Ant [pattern='/logout', DELETE]
2020-08-19 21:14:04.988 DEBUG 6784 --- [http-nio-8068-exec-6] o.s.s.w.u.matcher.AntPathRequestMatcher  : Request 'GET /api/v1/contractors/customers/customer3' doesn't match 'DELETE /logout'
2020-08-19 21:14:04.988 DEBUG 6784 --- [http-nio-8068-exec-6] o.s.s.web.util.matcher.OrRequestMatcher  : No matches found
2020-08-19 21:14:04.988 DEBUG 6784 --- [http-nio-8068-exec-6] o.s.security.web.FilterChainProxy        : /api/v1/contractors/customers/customer3 at position 5 of 11 in additional filter chain; firing Filter: 'JwtTokenFilter'
2020-08-19 21:14:04.996  INFO 6784 --- [http-nio-8068-exec-6] r.l.service.user.impl.UserServiceImpl    : IN UserServiceImpl findByUsername - user: User{username='customer3', firstName='firstName3', lastName='lastName3', email='email3@mail.ru', phone='79339797603', password='$2a$10$xDCVWzkV0osns7uDyLOXKeqyzu6FgAFSQkYstDP95o.z61Bn9ghJq', roles=[Role{id: 3, name: ROLE_CUSTOMER}], userStatus=ACTIVE} found by userName: customer3
2020-08-19 21:14:04.996  INFO 6784 --- [http-nio-8068-exec-6] r.l.security.JwtUserDetailsService       : IN loadUserByUsername - user with username: customer3 successfully loaded
2020-08-19 21:14:04.996 DEBUG 6784 --- [http-nio-8068-exec-6] o.s.security.web.FilterChainProxy        : /api/v1/contractors/customers/customer3 at position 6 of 11 in additional filter chain; firing Filter: 'RequestCacheAwareFilter'
2020-08-19 21:14:04.996 DEBUG 6784 --- [http-nio-8068-exec-6] o.s.security.web.FilterChainProxy        : /api/v1/contractors/customers/customer3 at position 7 of 11 in additional filter chain; firing Filter: 'SecurityContextHolderAwareRequestFilter'
2020-08-19 21:14:04.996 DEBUG 6784 --- [http-nio-8068-exec-6] o.s.security.web.FilterChainProxy        : /api/v1/contractors/customers/customer3 at position 8 of 11 in additional filter chain; firing Filter: 'AnonymousAuthenticationFilter'
2020-08-19 21:14:04.997 DEBUG 6784 --- [http-nio-8068-exec-6] o.s.s.w.a.AnonymousAuthenticationFilter  : SecurityContextHolder not populated with anonymous token, as it already contained: 'org.springframework.security.authentication.UsernamePasswordAuthenticationToken@8fabbb6d: Principal: ru.logisticplatform.security.jwt.JwtUser@59f3092e; Credentials: [PROTECTED]; Authenticated: true; Details: null; Granted Authorities: ROLE_CUSTOMER'
2020-08-19 21:14:04.997 DEBUG 6784 --- [http-nio-8068-exec-6] o.s.security.web.FilterChainProxy        : /api/v1/contractors/customers/customer3 at position 9 of 11 in additional filter chain; firing Filter: 'SessionManagementFilter'
2020-08-19 21:14:04.997 DEBUG 6784 --- [http-nio-8068-exec-6] s.CompositeSessionAuthenticationStrategy : Delegating to org.springframework.security.web.authentication.session.ChangeSessionIdAuthenticationStrategy@112a50a1
2020-08-19 21:14:04.997 DEBUG 6784 --- [http-nio-8068-exec-6] o.s.security.web.FilterChainProxy        : /api/v1/contractors/customers/customer3 at position 10 of 11 in additional filter chain; firing Filter: 'ExceptionTranslationFilter'
2020-08-19 21:14:04.997 DEBUG 6784 --- [http-nio-8068-exec-6] o.s.security.web.FilterChainProxy        : /api/v1/contractors/customers/customer3 at position 11 of 11 in additional filter chain; firing Filter: 'FilterSecurityInterceptor'
2020-08-19 21:14:04.997 DEBUG 6784 --- [http-nio-8068-exec-6] o.s.s.w.u.matcher.AntPathRequestMatcher  : Checking match of request : '/api/v1/contractors/customers/customer3'; against '/api/v1/sign/**'
2020-08-19 21:14:04.997 DEBUG 6784 --- [http-nio-8068-exec-6] o.s.s.w.u.matcher.AntPathRequestMatcher  : Checking match of request : '/api/v1/contractors/customers/customer3'; against '/api/v1/admins/**'
2020-08-19 21:14:04.997 DEBUG 6784 --- [http-nio-8068-exec-6] o.s.s.w.u.matcher.AntPathRequestMatcher  : Checking match of request : '/api/v1/contractors/customers/customer3'; against '/api/v1/customers/**'
2020-08-19 21:14:04.997 DEBUG 6784 --- [http-nio-8068-exec-6] o.s.s.w.a.i.FilterSecurityInterceptor    : Secure object: FilterInvocation: URL: /api/v1/contractors/customers/customer3; Attributes: [authenticated]
2020-08-19 21:14:04.998 DEBUG 6784 --- [http-nio-8068-exec-6] o.s.s.w.a.i.FilterSecurityInterceptor    : Previously Authenticated: org.springframework.security.authentication.UsernamePasswordAuthenticationToken@8fabbb6d: Principal: ru.logisticplatform.security.jwt.JwtUser@59f3092e; Credentials: [PROTECTED]; Authenticated: true; Details: null; Granted Authorities: ROLE_CUSTOMER
2020-08-19 21:14:04.998 DEBUG 6784 --- [http-nio-8068-exec-6] o.s.s.access.vote.AffirmativeBased       : Voter: org.springframework.security.web.access.expression.WebExpressionVoter@6ce7c426, returned: 1
2020-08-19 21:14:04.998 DEBUG 6784 --- [http-nio-8068-exec-6] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorization successful
2020-08-19 21:14:04.998 DEBUG 6784 --- [http-nio-8068-exec-6] o.s.s.w.a.i.FilterSecurityInterceptor    : RunAsManager did not change Authentication object
2020-08-19 21:14:04.998 DEBUG 6784 --- [http-nio-8068-exec-6] o.s.security.web.FilterChainProxy        : /api/v1/contractors/customers/customer3 reached end of additional filter chain; proceeding with original chain
2020-08-19 21:14:05.005  INFO 6784 --- [http-nio-8068-exec-6] r.l.service.user.impl.UserServiceImpl    : IN UserServiceImpl findByUsername - user: User{username='customer3', firstName='firstName3', lastName='lastName3', email='email3@mail.ru', phone='79339797603', password='$2a$10$xDCVWzkV0osns7uDyLOXKeqyzu6FgAFSQkYstDP95o.z61Bn9ghJq', roles=[Role{id: 3, name: ROLE_CUSTOMER}], userStatus=ACTIVE} found by userName: customer3
2020-08-19 21:14:05.006 DEBUG 6784 --- [http-nio-8068-exec-6] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match the requestMatcher org.springframework.security.web.header.writers.HstsHeaderWriter$SecureRequestMatcher@154a4e33
2020-08-19 21:14:05.008 DEBUG 6784 --- [http-nio-8068-exec-6] o.s.s.w.a.ExceptionTranslationFilter     : Chain processed normally
2020-08-19 21:14:05.008 DEBUG 6784 --- [http-nio-8068-exec-6] s.s.w.c.SecurityContextPersistenceFilter : SecurityContextHolder now cleared, as request processing completed
2020-08-19 21:14:10.719  INFO 6784 --- [SpringContextShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2020-08-19 21:14:10.722  INFO 6784 --- [SpringContextShutdownHook] o.s.s.concurrent.ThreadPoolTaskExecutor  : Shutting down ExecutorService 'applicationTaskExecutor'
2020-08-19 21:14:10.723  INFO 6784 --- [SpringContextShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-2 - Shutdown initiated...
2020-08-19 21:14:10.727  INFO 6784 --- [SpringContextShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-2 - Shutdown completed.
2020-08-19 21:15:26.169  INFO 14456 --- [main] r.l.LogisticPlatformApplication          : Starting LogisticPlatformApplication on DESKTOP-KQ9S95L with PID 14456 (G:\JAVA\avalon\VKR\_logisticplatform\logisticplatform\target\classes started by x in G:\JAVA\avalon\VKR\_logisticplatform\logisticplatform)
2020-08-19 21:15:26.173  INFO 14456 --- [main] r.l.LogisticPlatformApplication          : No active profile set, falling back to default profiles: default
2020-08-19 21:15:27.177  INFO 14456 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFERRED mode.
2020-08-19 21:15:27.330  INFO 14456 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 140ms. Found 9 JPA repository interfaces.
2020-08-19 21:15:28.068  INFO 14456 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8068 (http)
2020-08-19 21:15:28.087  INFO 14456 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2020-08-19 21:15:28.088  INFO 14456 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.36]
2020-08-19 21:15:28.331  INFO 14456 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2020-08-19 21:15:28.331  INFO 14456 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 2099 ms
2020-08-19 21:15:28.481  INFO 14456 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2020-08-19 21:15:29.258  INFO 14456 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2020-08-19 21:15:30.931  INFO 14456 --- [main] liquibase.executor.jvm.JdbcExecutor      : SELECT COUNT(*) FROM logisticplatform.DATABASECHANGELOGLOCK
2020-08-19 21:15:30.939  INFO 14456 --- [main] liquibase.executor.jvm.JdbcExecutor      : SELECT COUNT(*) FROM logisticplatform.DATABASECHANGELOGLOCK
2020-08-19 21:15:30.942  INFO 14456 --- [main] liquibase.executor.jvm.JdbcExecutor      : SELECT `LOCKED` FROM logisticplatform.DATABASECHANGELOGLOCK WHERE ID=1
2020-08-19 21:15:31.014  INFO 14456 --- [main] l.lockservice.StandardLockService        : Successfully acquired change log lock
2020-08-19 21:15:34.098  INFO 14456 --- [main] liquibase.executor.jvm.JdbcExecutor      : SELECT MD5SUM FROM logisticplatform.DATABASECHANGELOG WHERE MD5SUM IS NOT NULL LIMIT 1
2020-08-19 21:15:34.100  INFO 14456 --- [main] liquibase.executor.jvm.JdbcExecutor      : SELECT COUNT(*) FROM logisticplatform.DATABASECHANGELOG
2020-08-19 21:15:34.101  INFO 14456 --- [main] l.c.StandardChangeLogHistoryService      : Reading from logisticplatform.DATABASECHANGELOG
2020-08-19 21:15:34.101  INFO 14456 --- [main] liquibase.executor.jvm.JdbcExecutor      : SELECT * FROM logisticplatform.DATABASECHANGELOG ORDER BY DATEEXECUTED ASC, ORDEREXECUTED ASC
2020-08-19 21:15:34.247  INFO 14456 --- [main] l.lockservice.StandardLockService        : Successfully released change log lock
2020-08-19 21:15:34.249  INFO 14456 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2020-08-19 21:15:34.266  INFO 14456 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2020-08-19 21:15:34.391  INFO 14456 --- [main] o.s.s.concurrent.ThreadPoolTaskExecutor  : Initializing ExecutorService 'applicationTaskExecutor'
2020-08-19 21:15:34.402  INFO 14456 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-2 - Starting...
2020-08-19 21:15:34.403  WARN 14456 --- [main] com.zaxxer.hikari.util.DriverDataSource  : Registered driver with driverClassName=com.mysql.jdbc.Driver was not found, trying direct instantiation.
2020-08-19 21:15:34.424  INFO 14456 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-2 - Start completed.
2020-08-19 21:15:34.517  INFO 14456 --- [task-1] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2020-08-19 21:15:34.578  WARN 14456 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2020-08-19 21:15:34.586  INFO 14456 --- [task-1] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.4.17.Final
2020-08-19 21:15:34.788  INFO 14456 --- [task-1] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.0.Final}
2020-08-19 21:15:34.972  INFO 14456 --- [task-1] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2020-08-19 21:15:35.195 DEBUG 14456 --- [main] eGlobalAuthenticationAutowiredConfigurer : Eagerly initializing {org.springframework.boot.autoconfigure.security.servlet.WebSecurityEnablerConfiguration=org.springframework.boot.autoconfigure.security.servlet.WebSecurityEnablerConfiguration@669469c9}
2020-08-19 21:15:35.321 DEBUG 14456 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression 'permitAll', for Ant [pattern='/api/v1/sign/**']
2020-08-19 21:15:35.324 DEBUG 14456 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression 'hasRole('ROLE_ADMIN')', for Ant [pattern='/api/v1/admins/**']
2020-08-19 21:15:35.326 DEBUG 14456 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression 'hasRole('ROLE_CONTRACTOR')', for Ant [pattern='/api/v1/customers/**']
2020-08-19 21:15:35.326 DEBUG 14456 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression 'authenticated', for any request
2020-08-19 21:15:35.333 DEBUG 14456 --- [main] o.s.s.w.a.i.FilterSecurityInterceptor    : Validated configuration attributes
2020-08-19 21:15:35.334 DEBUG 14456 --- [main] o.s.s.w.a.i.FilterSecurityInterceptor    : Validated configuration attributes
2020-08-19 21:15:35.337  INFO 14456 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: any request, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@5cb6b81b, org.springframework.security.web.context.SecurityContextPersistenceFilter@396ec737, org.springframework.security.web.header.HeaderWriterFilter@46a9c368, org.springframework.security.web.authentication.logout.LogoutFilter@66b62332, ru.logisticplatform.security.jwt.JwtTokenFilter@2a15bbf3, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@1bed61d2, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@2ecf4b3e, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@46c19350, org.springframework.security.web.session.SessionManagementFilter@433db56d, org.springframework.security.web.access.ExceptionTranslationFilter@3555d804, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@4518497e]
2020-08-19 21:15:35.712  INFO 14456 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8068 (http) with context path ''
2020-08-19 21:15:35.716  INFO 14456 --- [main] DeferredRepositoryInitializationListener : Triggering deferred initialization of Spring Data repositoriesâ€¦
2020-08-19 21:15:36.385  INFO 14456 --- [task-1] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2020-08-19 21:15:36.405  INFO 14456 --- [task-1] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2020-08-19 21:15:37.459  INFO 14456 --- [main] DeferredRepositoryInitializationListener : Spring Data repositories initialized!
2020-08-19 21:15:37.476  INFO 14456 --- [main] r.l.LogisticPlatformApplication          : Started LogisticPlatformApplication in 12.186 seconds (JVM running for 13.403)
2020-08-19 21:15:39.464  INFO 14456 --- [SpringContextShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2020-08-19 21:15:39.466  INFO 14456 --- [SpringContextShutdownHook] o.s.s.concurrent.ThreadPoolTaskExecutor  : Shutting down ExecutorService 'applicationTaskExecutor'
2020-08-19 21:15:39.467  INFO 14456 --- [SpringContextShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-2 - Shutdown initiated...
2020-08-19 21:15:39.477  INFO 14456 --- [SpringContextShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-2 - Shutdown completed.
2020-08-19 21:15:48.915  INFO 9784 --- [main] r.l.LogisticPlatformApplication          : Starting LogisticPlatformApplication on DESKTOP-KQ9S95L with PID 9784 (G:\JAVA\avalon\VKR\_logisticplatform\logisticplatform\target\classes started by x in G:\JAVA\avalon\VKR\_logisticplatform\logisticplatform)
2020-08-19 21:15:48.919  INFO 9784 --- [main] r.l.LogisticPlatformApplication          : No active profile set, falling back to default profiles: default
2020-08-19 21:15:49.933  INFO 9784 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFERRED mode.
2020-08-19 21:15:50.083  INFO 9784 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 138ms. Found 9 JPA repository interfaces.
2020-08-19 21:15:50.868  INFO 9784 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8068 (http)
2020-08-19 21:15:50.881  INFO 9784 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2020-08-19 21:15:50.882  INFO 9784 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.36]
2020-08-19 21:15:51.069  INFO 9784 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2020-08-19 21:15:51.070  INFO 9784 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 2089 ms
2020-08-19 21:15:51.223  INFO 9784 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2020-08-19 21:15:51.719  INFO 9784 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2020-08-19 21:15:53.521  INFO 9784 --- [main] liquibase.executor.jvm.JdbcExecutor      : SELECT COUNT(*) FROM logisticplatform.DATABASECHANGELOGLOCK
2020-08-19 21:15:53.528  INFO 9784 --- [main] liquibase.executor.jvm.JdbcExecutor      : SELECT COUNT(*) FROM logisticplatform.DATABASECHANGELOGLOCK
2020-08-19 21:15:53.531  INFO 9784 --- [main] liquibase.executor.jvm.JdbcExecutor      : SELECT `LOCKED` FROM logisticplatform.DATABASECHANGELOGLOCK WHERE ID=1
2020-08-19 21:15:53.605  INFO 9784 --- [main] l.lockservice.StandardLockService        : Successfully acquired change log lock
2020-08-19 21:15:56.832  INFO 9784 --- [main] liquibase.executor.jvm.JdbcExecutor      : SELECT MD5SUM FROM logisticplatform.DATABASECHANGELOG WHERE MD5SUM IS NOT NULL LIMIT 1
2020-08-19 21:15:56.833  INFO 9784 --- [main] liquibase.executor.jvm.JdbcExecutor      : SELECT COUNT(*) FROM logisticplatform.DATABASECHANGELOG
2020-08-19 21:15:56.835  INFO 9784 --- [main] l.c.StandardChangeLogHistoryService      : Reading from logisticplatform.DATABASECHANGELOG
2020-08-19 21:15:56.835  INFO 9784 --- [main] liquibase.executor.jvm.JdbcExecutor      : SELECT * FROM logisticplatform.DATABASECHANGELOG ORDER BY DATEEXECUTED ASC, ORDEREXECUTED ASC
2020-08-19 21:15:56.963  INFO 9784 --- [main] l.lockservice.StandardLockService        : Successfully released change log lock
2020-08-19 21:15:56.964  INFO 9784 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2020-08-19 21:15:56.974  INFO 9784 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2020-08-19 21:15:57.126  INFO 9784 --- [main] o.s.s.concurrent.ThreadPoolTaskExecutor  : Initializing ExecutorService 'applicationTaskExecutor'
2020-08-19 21:15:57.136  INFO 9784 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-2 - Starting...
2020-08-19 21:15:57.136  WARN 9784 --- [main] com.zaxxer.hikari.util.DriverDataSource  : Registered driver with driverClassName=com.mysql.jdbc.Driver was not found, trying direct instantiation.
2020-08-19 21:15:57.156  INFO 9784 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-2 - Start completed.
2020-08-19 21:15:57.225  INFO 9784 --- [task-1] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2020-08-19 21:15:57.296  WARN 9784 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2020-08-19 21:15:57.309  INFO 9784 --- [task-1] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.4.17.Final
2020-08-19 21:15:57.523  INFO 9784 --- [task-1] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.0.Final}
2020-08-19 21:15:57.693  INFO 9784 --- [task-1] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2020-08-19 21:15:57.865 DEBUG 9784 --- [main] eGlobalAuthenticationAutowiredConfigurer : Eagerly initializing {org.springframework.boot.autoconfigure.security.servlet.WebSecurityEnablerConfiguration=org.springframework.boot.autoconfigure.security.servlet.WebSecurityEnablerConfiguration@30a4a111}
2020-08-19 21:15:57.970 DEBUG 9784 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression 'permitAll', for Ant [pattern='/api/v1/sign/**']
2020-08-19 21:15:57.973 DEBUG 9784 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression 'hasRole('ROLE_ADMIN')', for Ant [pattern='/api/v1/admins/**']
2020-08-19 21:15:57.974 DEBUG 9784 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression 'hasRole('ROLE_CUSTOMER')', for Ant [pattern='/api/v1/customers/**']
2020-08-19 21:15:57.975 DEBUG 9784 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression 'hasRole('ROLE_CONTRACTOR')', for Ant [pattern='/api/v1/contractors/**']
2020-08-19 21:15:57.975 DEBUG 9784 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression 'authenticated', for any request
2020-08-19 21:15:58.204 DEBUG 9784 --- [main] o.s.s.w.a.i.FilterSecurityInterceptor    : Validated configuration attributes
2020-08-19 21:15:58.205 DEBUG 9784 --- [main] o.s.s.w.a.i.FilterSecurityInterceptor    : Validated configuration attributes
2020-08-19 21:15:58.209  INFO 9784 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: any request, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@6dc7b7f, org.springframework.security.web.context.SecurityContextPersistenceFilter@5192b301, org.springframework.security.web.header.HeaderWriterFilter@694c0ed1, org.springframework.security.web.authentication.logout.LogoutFilter@30a5a58d, ru.logisticplatform.security.jwt.JwtTokenFilter@4425b6ed, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@2a0881f1, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@54fffa5a, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@702432cc, org.springframework.security.web.session.SessionManagementFilter@da4c5cb, org.springframework.security.web.access.ExceptionTranslationFilter@7fb46c10, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@296949c8]
2020-08-19 21:15:58.283  INFO 9784 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8068 (http) with context path ''
2020-08-19 21:15:58.286  INFO 9784 --- [main] DeferredRepositoryInitializationListener : Triggering deferred initialization of Spring Data repositoriesâ€¦
2020-08-19 21:15:58.984  INFO 9784 --- [task-1] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2020-08-19 21:15:58.996  INFO 9784 --- [task-1] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2020-08-19 21:15:59.634  INFO 9784 --- [main] DeferredRepositoryInitializationListener : Spring Data repositories initialized!
2020-08-19 21:15:59.652  INFO 9784 --- [main] r.l.LogisticPlatformApplication          : Started LogisticPlatformApplication in 11.609 seconds (JVM running for 12.706)
2020-08-19 21:16:06.506  INFO 9784 --- [http-nio-8068-exec-2] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2020-08-19 21:16:06.506  INFO 9784 --- [http-nio-8068-exec-2] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2020-08-19 21:16:06.514  INFO 9784 --- [http-nio-8068-exec-2] o.s.web.servlet.DispatcherServlet        : Completed initialization in 8 ms
2020-08-19 21:16:06.528 DEBUG 9784 --- [http-nio-8068-exec-2] o.s.security.web.FilterChainProxy        : /api/v1/contractors/customers/customer3 at position 1 of 11 in additional filter chain; firing Filter: 'WebAsyncManagerIntegrationFilter'
2020-08-19 21:16:06.529 DEBUG 9784 --- [http-nio-8068-exec-2] o.s.security.web.FilterChainProxy        : /api/v1/contractors/customers/customer3 at position 2 of 11 in additional filter chain; firing Filter: 'SecurityContextPersistenceFilter'
2020-08-19 21:16:06.532 DEBUG 9784 --- [http-nio-8068-exec-2] o.s.security.web.FilterChainProxy        : /api/v1/contractors/customers/customer3 at position 3 of 11 in additional filter chain; firing Filter: 'HeaderWriterFilter'
2020-08-19 21:16:06.534 DEBUG 9784 --- [http-nio-8068-exec-2] o.s.security.web.FilterChainProxy        : /api/v1/contractors/customers/customer3 at position 4 of 11 in additional filter chain; firing Filter: 'LogoutFilter'
2020-08-19 21:16:06.534 DEBUG 9784 --- [http-nio-8068-exec-2] o.s.s.web.util.matcher.OrRequestMatcher  : Trying to match using Ant [pattern='/logout', GET]
2020-08-19 21:16:06.535 DEBUG 9784 --- [http-nio-8068-exec-2] o.s.s.w.u.matcher.AntPathRequestMatcher  : Checking match of request : '/api/v1/contractors/customers/customer3'; against '/logout'
2020-08-19 21:16:06.535 DEBUG 9784 --- [http-nio-8068-exec-2] o.s.s.web.util.matcher.OrRequestMatcher  : Trying to match using Ant [pattern='/logout', POST]
2020-08-19 21:16:06.535 DEBUG 9784 --- [http-nio-8068-exec-2] o.s.s.w.u.matcher.AntPathRequestMatcher  : Request 'GET /api/v1/contractors/customers/customer3' doesn't match 'POST /logout'
2020-08-19 21:16:06.535 DEBUG 9784 --- [http-nio-8068-exec-2] o.s.s.web.util.matcher.OrRequestMatcher  : Trying to match using Ant [pattern='/logout', PUT]
2020-08-19 21:16:06.535 DEBUG 9784 --- [http-nio-8068-exec-2] o.s.s.w.u.matcher.AntPathRequestMatcher  : Request 'GET /api/v1/contractors/customers/customer3' doesn't match 'PUT /logout'
2020-08-19 21:16:06.536 DEBUG 9784 --- [http-nio-8068-exec-2] o.s.s.web.util.matcher.OrRequestMatcher  : Trying to match using Ant [pattern='/logout', DELETE]
2020-08-19 21:16:06.536 DEBUG 9784 --- [http-nio-8068-exec-2] o.s.s.w.u.matcher.AntPathRequestMatcher  : Request 'GET /api/v1/contractors/customers/customer3' doesn't match 'DELETE /logout'
2020-08-19 21:16:06.536 DEBUG 9784 --- [http-nio-8068-exec-2] o.s.s.web.util.matcher.OrRequestMatcher  : No matches found
2020-08-19 21:16:06.536 DEBUG 9784 --- [http-nio-8068-exec-2] o.s.security.web.FilterChainProxy        : /api/v1/contractors/customers/customer3 at position 5 of 11 in additional filter chain; firing Filter: 'JwtTokenFilter'
2020-08-19 21:16:06.931  INFO 9784 --- [http-nio-8068-exec-2] r.l.service.user.impl.UserServiceImpl    : IN UserServiceImpl findByUsername - user: User{username='customer3', firstName='firstName3', lastName='lastName3', email='email3@mail.ru', phone='79339797603', password='$2a$10$xDCVWzkV0osns7uDyLOXKeqyzu6FgAFSQkYstDP95o.z61Bn9ghJq', roles=[Role{id: 3, name: ROLE_CUSTOMER}], userStatus=ACTIVE} found by userName: customer3
2020-08-19 21:16:06.934  INFO 9784 --- [http-nio-8068-exec-2] r.l.security.JwtUserDetailsService       : IN loadUserByUsername - user with username: customer3 successfully loaded
2020-08-19 21:16:06.936 DEBUG 9784 --- [http-nio-8068-exec-2] o.s.security.web.FilterChainProxy        : /api/v1/contractors/customers/customer3 at position 6 of 11 in additional filter chain; firing Filter: 'RequestCacheAwareFilter'
2020-08-19 21:16:06.936 DEBUG 9784 --- [http-nio-8068-exec-2] o.s.security.web.FilterChainProxy        : /api/v1/contractors/customers/customer3 at position 7 of 11 in additional filter chain; firing Filter: 'SecurityContextHolderAwareRequestFilter'
2020-08-19 21:16:06.938 DEBUG 9784 --- [http-nio-8068-exec-2] o.s.security.web.FilterChainProxy        : /api/v1/contractors/customers/customer3 at position 8 of 11 in additional filter chain; firing Filter: 'AnonymousAuthenticationFilter'
2020-08-19 21:16:06.939 DEBUG 9784 --- [http-nio-8068-exec-2] o.s.s.w.a.AnonymousAuthenticationFilter  : SecurityContextHolder not populated with anonymous token, as it already contained: 'org.springframework.security.authentication.UsernamePasswordAuthenticationToken@bcc6a28a: Principal: ru.logisticplatform.security.jwt.JwtUser@6a9e10c9; Credentials: [PROTECTED]; Authenticated: true; Details: null; Granted Authorities: ROLE_CUSTOMER'
2020-08-19 21:16:06.939 DEBUG 9784 --- [http-nio-8068-exec-2] o.s.security.web.FilterChainProxy        : /api/v1/contractors/customers/customer3 at position 9 of 11 in additional filter chain; firing Filter: 'SessionManagementFilter'
2020-08-19 21:16:06.940 DEBUG 9784 --- [http-nio-8068-exec-2] s.CompositeSessionAuthenticationStrategy : Delegating to org.springframework.security.web.authentication.session.ChangeSessionIdAuthenticationStrategy@1d126f07
2020-08-19 21:16:06.940 DEBUG 9784 --- [http-nio-8068-exec-2] o.s.security.web.FilterChainProxy        : /api/v1/contractors/customers/customer3 at position 10 of 11 in additional filter chain; firing Filter: 'ExceptionTranslationFilter'
2020-08-19 21:16:06.940 DEBUG 9784 --- [http-nio-8068-exec-2] o.s.security.web.FilterChainProxy        : /api/v1/contractors/customers/customer3 at position 11 of 11 in additional filter chain; firing Filter: 'FilterSecurityInterceptor'
2020-08-19 21:16:06.941 DEBUG 9784 --- [http-nio-8068-exec-2] o.s.s.w.u.matcher.AntPathRequestMatcher  : Checking match of request : '/api/v1/contractors/customers/customer3'; against '/api/v1/sign/**'
2020-08-19 21:16:06.941 DEBUG 9784 --- [http-nio-8068-exec-2] o.s.s.w.u.matcher.AntPathRequestMatcher  : Checking match of request : '/api/v1/contractors/customers/customer3'; against '/api/v1/admins/**'
2020-08-19 21:16:06.941 DEBUG 9784 --- [http-nio-8068-exec-2] o.s.s.w.u.matcher.AntPathRequestMatcher  : Checking match of request : '/api/v1/contractors/customers/customer3'; against '/api/v1/customers/**'
2020-08-19 21:16:06.941 DEBUG 9784 --- [http-nio-8068-exec-2] o.s.s.w.u.matcher.AntPathRequestMatcher  : Checking match of request : '/api/v1/contractors/customers/customer3'; against '/api/v1/contractors/**'
2020-08-19 21:16:06.942 DEBUG 9784 --- [http-nio-8068-exec-2] o.s.s.w.a.i.FilterSecurityInterceptor    : Secure object: FilterInvocation: URL: /api/v1/contractors/customers/customer3; Attributes: [hasRole('ROLE_CONTRACTOR')]
2020-08-19 21:16:06.942 DEBUG 9784 --- [http-nio-8068-exec-2] o.s.s.w.a.i.FilterSecurityInterceptor    : Previously Authenticated: org.springframework.security.authentication.UsernamePasswordAuthenticationToken@bcc6a28a: Principal: ru.logisticplatform.security.jwt.JwtUser@6a9e10c9; Credentials: [PROTECTED]; Authenticated: true; Details: null; Granted Authorities: ROLE_CUSTOMER
2020-08-19 21:16:06.949 DEBUG 9784 --- [http-nio-8068-exec-2] o.s.s.access.vote.AffirmativeBased       : Voter: org.springframework.security.web.access.expression.WebExpressionVoter@5f77abec, returned: -1
2020-08-19 21:16:06.963 DEBUG 9784 --- [http-nio-8068-exec-2] o.s.s.w.a.ExceptionTranslationFilter     : Access is denied (user is not anonymous); delegating to AccessDeniedHandler

org.springframework.security.access.AccessDeniedException: Access is denied
	at org.springframework.security.access.vote.AffirmativeBased.decide(AffirmativeBased.java:84) ~[spring-security-core-5.3.3.RELEASE.jar:5.3.3.RELEASE]
	at org.springframework.security.access.intercept.AbstractSecurityInterceptor.beforeInvocation(AbstractSecurityInterceptor.java:233) ~[spring-security-core-5.3.3.RELEASE.jar:5.3.3.RELEASE]
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:123) ~[spring-security-web-5.3.3.RELEASE.jar:5.3.3.RELEASE]
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:90) ~[spring-security-web-5.3.3.RELEASE.jar:5.3.3.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) [spring-security-web-5.3.3.RELEASE.jar:5.3.3.RELEASE]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:118) ~[spring-security-web-5.3.3.RELEASE.jar:5.3.3.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) [spring-security-web-5.3.3.RELEASE.jar:5.3.3.RELEASE]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:137) [spring-security-web-5.3.3.RELEASE.jar:5.3.3.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) [spring-security-web-5.3.3.RELEASE.jar:5.3.3.RELEASE]
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:111) [spring-security-web-5.3.3.RELEASE.jar:5.3.3.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) [spring-security-web-5.3.3.RELEASE.jar:5.3.3.RELEASE]
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:158) [spring-security-web-5.3.3.RELEASE.jar:5.3.3.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) [spring-security-web-5.3.3.RELEASE.jar:5.3.3.RELEASE]
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) [spring-security-web-5.3.3.RELEASE.jar:5.3.3.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) [spring-security-web-5.3.3.RELEASE.jar:5.3.3.RELEASE]
	at ru.logisticplatform.security.jwt.JwtTokenFilter.doFilter(JwtTokenFilter.java:34) [classes/:na]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) [spring-security-web-5.3.3.RELEASE.jar:5.3.3.RELEASE]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:116) [spring-security-web-5.3.3.RELEASE.jar:5.3.3.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) [spring-security-web-5.3.3.RELEASE.jar:5.3.3.RELEASE]
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:92) [spring-security-web-5.3.3.RELEASE.jar:5.3.3.RELEASE]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:77) [spring-security-web-5.3.3.RELEASE.jar:5.3.3.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) [spring-web-5.2.7.RELEASE.jar:5.2.7.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) [spring-security-web-5.3.3.RELEASE.jar:5.3.3.RELEASE]
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:105) [spring-security-web-5.3.3.RELEASE.jar:5.3.3.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) [spring-security-web-5.3.3.RELEASE.jar:5.3.3.RELEASE]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:56) [spring-security-web-5.3.3.RELEASE.jar:5.3.3.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) [spring-web-5.2.7.RELEASE.jar:5.2.7.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) [spring-security-web-5.3.3.RELEASE.jar:5.3.3.RELEASE]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:215) [spring-security-web-5.3.3.RELEASE.jar:5.3.3.RELEASE]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:178) [spring-security-web-5.3.3.RELEASE.jar:5.3.3.RELEASE]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:358) [spring-web-5.2.7.RELEASE.jar:5.2.7.RELEASE]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:271) [spring-web-5.2.7.RELEASE.jar:5.2.7.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-9.0.36.jar:9.0.36]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-9.0.36.jar:9.0.36]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) [spring-web-5.2.7.RELEASE.jar:5.2.7.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) [spring-web-5.2.7.RELEASE.jar:5.2.7.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-9.0.36.jar:9.0.36]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-9.0.36.jar:9.0.36]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) [spring-web-5.2.7.RELEASE.jar:5.2.7.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) [spring-web-5.2.7.RELEASE.jar:5.2.7.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-9.0.36.jar:9.0.36]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-9.0.36.jar:9.0.36]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) [spring-web-5.2.7.RELEASE.jar:5.2.7.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) [spring-web-5.2.7.RELEASE.jar:5.2.7.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-9.0.36.jar:9.0.36]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-9.0.36.jar:9.0.36]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:202) [tomcat-embed-core-9.0.36.jar:9.0.36]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96) [tomcat-embed-core-9.0.36.jar:9.0.36]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541) [tomcat-embed-core-9.0.36.jar:9.0.36]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:139) [tomcat-embed-core-9.0.36.jar:9.0.36]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92) [tomcat-embed-core-9.0.36.jar:9.0.36]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) [tomcat-embed-core-9.0.36.jar:9.0.36]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343) [tomcat-embed-core-9.0.36.jar:9.0.36]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:373) [tomcat-embed-core-9.0.36.jar:9.0.36]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65) [tomcat-embed-core-9.0.36.jar:9.0.36]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:868) [tomcat-embed-core-9.0.36.jar:9.0.36]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1590) [tomcat-embed-core-9.0.36.jar:9.0.36]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) [tomcat-embed-core-9.0.36.jar:9.0.36]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142) [na:1.8.0_111]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617) [na:1.8.0_111]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) [tomcat-embed-core-9.0.36.jar:9.0.36]
	at java.lang.Thread.run(Thread.java:745) [na:1.8.0_111]

2020-08-19 21:16:06.965 DEBUG 9784 --- [http-nio-8068-exec-2] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match the requestMatcher org.springframework.security.web.header.writers.HstsHeaderWriter$SecureRequestMatcher@3590fde3
2020-08-19 21:16:06.966 DEBUG 9784 --- [http-nio-8068-exec-2] s.s.w.c.SecurityContextPersistenceFilter : SecurityContextHolder now cleared, as request processing completed
2020-08-19 21:16:06.973 DEBUG 9784 --- [http-nio-8068-exec-2] o.s.security.web.FilterChainProxy        : /error at position 1 of 11 in additional filter chain; firing Filter: 'WebAsyncManagerIntegrationFilter'
2020-08-19 21:16:06.974 DEBUG 9784 --- [http-nio-8068-exec-2] o.s.security.web.FilterChainProxy        : /error at position 2 of 11 in additional filter chain; firing Filter: 'SecurityContextPersistenceFilter'
2020-08-19 21:16:06.974 DEBUG 9784 --- [http-nio-8068-exec-2] o.s.security.web.FilterChainProxy        : /error at position 3 of 11 in additional filter chain; firing Filter: 'HeaderWriterFilter'
2020-08-19 21:16:06.974 DEBUG 9784 --- [http-nio-8068-exec-2] o.s.security.web.FilterChainProxy        : /error at position 4 of 11 in additional filter chain; firing Filter: 'LogoutFilter'
2020-08-19 21:16:06.974 DEBUG 9784 --- [http-nio-8068-exec-2] o.s.s.web.util.matcher.OrRequestMatcher  : Trying to match using Ant [pattern='/logout', GET]
2020-08-19 21:16:06.974 DEBUG 9784 --- [http-nio-8068-exec-2] o.s.s.w.u.matcher.AntPathRequestMatcher  : Checking match of request : '/error'; against '/logout'
2020-08-19 21:16:06.974 DEBUG 9784 --- [http-nio-8068-exec-2] o.s.s.web.util.matcher.OrRequestMatcher  : Trying to match using Ant [pattern='/logout', POST]
2020-08-19 21:16:06.975 DEBUG 9784 --- [http-nio-8068-exec-2] o.s.s.w.u.matcher.AntPathRequestMatcher  : Request 'GET /error' doesn't match 'POST /logout'
2020-08-19 21:16:06.975 DEBUG 9784 --- [http-nio-8068-exec-2] o.s.s.web.util.matcher.OrRequestMatcher  : Trying to match using Ant [pattern='/logout', PUT]
2020-08-19 21:16:06.975 DEBUG 9784 --- [http-nio-8068-exec-2] o.s.s.w.u.matcher.AntPathRequestMatcher  : Request 'GET /error' doesn't match 'PUT /logout'
2020-08-19 21:16:06.975 DEBUG 9784 --- [http-nio-8068-exec-2] o.s.s.web.util.matcher.OrRequestMatcher  : Trying to match using Ant [pattern='/logout', DELETE]
2020-08-19 21:16:06.975 DEBUG 9784 --- [http-nio-8068-exec-2] o.s.s.w.u.matcher.AntPathRequestMatcher  : Request 'GET /error' doesn't match 'DELETE /logout'
2020-08-19 21:16:06.975 DEBUG 9784 --- [http-nio-8068-exec-2] o.s.s.web.util.matcher.OrRequestMatcher  : No matches found
2020-08-19 21:16:06.976 DEBUG 9784 --- [http-nio-8068-exec-2] o.s.security.web.FilterChainProxy        : /error at position 5 of 11 in additional filter chain; firing Filter: 'JwtTokenFilter'
2020-08-19 21:16:06.983  INFO 9784 --- [http-nio-8068-exec-2] r.l.service.user.impl.UserServiceImpl    : IN UserServiceImpl findByUsername - user: User{username='customer3', firstName='firstName3', lastName='lastName3', email='email3@mail.ru', phone='79339797603', password='$2a$10$xDCVWzkV0osns7uDyLOXKeqyzu6FgAFSQkYstDP95o.z61Bn9ghJq', roles=[Role{id: 3, name: ROLE_CUSTOMER}], userStatus=ACTIVE} found by userName: customer3
2020-08-19 21:16:06.983  INFO 9784 --- [http-nio-8068-exec-2] r.l.security.JwtUserDetailsService       : IN loadUserByUsername - user with username: customer3 successfully loaded
2020-08-19 21:16:06.983 DEBUG 9784 --- [http-nio-8068-exec-2] o.s.security.web.FilterChainProxy        : /error at position 6 of 11 in additional filter chain; firing Filter: 'RequestCacheAwareFilter'
2020-08-19 21:16:06.984 DEBUG 9784 --- [http-nio-8068-exec-2] o.s.security.web.FilterChainProxy        : /error at position 7 of 11 in additional filter chain; firing Filter: 'SecurityContextHolderAwareRequestFilter'
2020-08-19 21:16:06.984 DEBUG 9784 --- [http-nio-8068-exec-2] o.s.security.web.FilterChainProxy        : /error at position 8 of 11 in additional filter chain; firing Filter: 'AnonymousAuthenticationFilter'
2020-08-19 21:16:06.984 DEBUG 9784 --- [http-nio-8068-exec-2] o.s.s.w.a.AnonymousAuthenticationFilter  : SecurityContextHolder not populated with anonymous token, as it already contained: 'org.springframework.security.authentication.UsernamePasswordAuthenticationToken@e2582e6f: Principal: ru.logisticplatform.security.jwt.JwtUser@34009c2c; Credentials: [PROTECTED]; Authenticated: true; Details: null; Granted Authorities: ROLE_CUSTOMER'
2020-08-19 21:16:06.984 DEBUG 9784 --- [http-nio-8068-exec-2] o.s.security.web.FilterChainProxy        : /error at position 9 of 11 in additional filter chain; firing Filter: 'SessionManagementFilter'
2020-08-19 21:16:06.984 DEBUG 9784 --- [http-nio-8068-exec-2] o.s.security.web.FilterChainProxy        : /error at position 10 of 11 in additional filter chain; firing Filter: 'ExceptionTranslationFilter'
2020-08-19 21:16:06.984 DEBUG 9784 --- [http-nio-8068-exec-2] o.s.security.web.FilterChainProxy        : /error at position 11 of 11 in additional filter chain; firing Filter: 'FilterSecurityInterceptor'
2020-08-19 21:16:06.984 DEBUG 9784 --- [http-nio-8068-exec-2] o.s.security.web.FilterChainProxy        : /error reached end of additional filter chain; proceeding with original chain
2020-08-19 21:16:07.101 DEBUG 9784 --- [http-nio-8068-exec-2] o.s.s.w.a.ExceptionTranslationFilter     : Chain processed normally
2020-08-19 21:16:07.102 DEBUG 9784 --- [http-nio-8068-exec-2] s.s.w.c.SecurityContextPersistenceFilter : SecurityContextHolder now cleared, as request processing completed
2020-08-19 21:16:09.370 DEBUG 9784 --- [http-nio-8068-exec-3] o.s.security.web.FilterChainProxy        : /api/v1/contractors/customers/customer3 at position 1 of 11 in additional filter chain; firing Filter: 'WebAsyncManagerIntegrationFilter'
2020-08-19 21:16:09.370 DEBUG 9784 --- [http-nio-8068-exec-3] o.s.security.web.FilterChainProxy        : /api/v1/contractors/customers/customer3 at position 2 of 11 in additional filter chain; firing Filter: 'SecurityContextPersistenceFilter'
2020-08-19 21:16:09.370 DEBUG 9784 --- [http-nio-8068-exec-3] o.s.security.web.FilterChainProxy        : /api/v1/contractors/customers/customer3 at position 3 of 11 in additional filter chain; firing Filter: 'HeaderWriterFilter'
2020-08-19 21:16:09.370 DEBUG 9784 --- [http-nio-8068-exec-3] o.s.security.web.FilterChainProxy        : /api/v1/contractors/customers/customer3 at position 4 of 11 in additional filter chain; firing Filter: 'LogoutFilter'
2020-08-19 21:16:09.370 DEBUG 9784 --- [http-nio-8068-exec-3] o.s.s.web.util.matcher.OrRequestMatcher  : Trying to match using Ant [pattern='/logout', GET]
2020-08-19 21:16:09.371 DEBUG 9784 --- [http-nio-8068-exec-3] o.s.s.w.u.matcher.AntPathRequestMatcher  : Checking match of request : '/api/v1/contractors/customers/customer3'; against '/logout'
2020-08-19 21:16:09.371 DEBUG 9784 --- [http-nio-8068-exec-3] o.s.s.web.util.matcher.OrRequestMatcher  : Trying to match using Ant [pattern='/logout', POST]
2020-08-19 21:16:09.371 DEBUG 9784 --- [http-nio-8068-exec-3] o.s.s.w.u.matcher.AntPathRequestMatcher  : Request 'GET /api/v1/contractors/customers/customer3' doesn't match 'POST /logout'
2020-08-19 21:16:09.371 DEBUG 9784 --- [http-nio-8068-exec-3] o.s.s.web.util.matcher.OrRequestMatcher  : Trying to match using Ant [pattern='/logout', PUT]
2020-08-19 21:16:09.371 DEBUG 9784 --- [http-nio-8068-exec-3] o.s.s.w.u.matcher.AntPathRequestMatcher  : Request 'GET /api/v1/contractors/customers/customer3' doesn't match 'PUT /logout'
2020-08-19 21:16:09.371 DEBUG 9784 --- [http-nio-8068-exec-3] o.s.s.web.util.matcher.OrRequestMatcher  : Trying to match using Ant [pattern='/logout', DELETE]
2020-08-19 21:16:09.371 DEBUG 9784 --- [http-nio-8068-exec-3] o.s.s.w.u.matcher.AntPathRequestMatcher  : Request 'GET /api/v1/contractors/customers/customer3' doesn't match 'DELETE /logout'
2020-08-19 21:16:09.371 DEBUG 9784 --- [http-nio-8068-exec-3] o.s.s.web.util.matcher.OrRequestMatcher  : No matches found
2020-08-19 21:16:09.371 DEBUG 9784 --- [http-nio-8068-exec-3] o.s.security.web.FilterChainProxy        : /api/v1/contractors/customers/customer3 at position 5 of 11 in additional filter chain; firing Filter: 'JwtTokenFilter'
2020-08-19 21:16:09.378  INFO 9784 --- [http-nio-8068-exec-3] r.l.service.user.impl.UserServiceImpl    : IN UserServiceImpl findByUsername - user: User{username='customer3', firstName='firstName3', lastName='lastName3', email='email3@mail.ru', phone='79339797603', password='$2a$10$xDCVWzkV0osns7uDyLOXKeqyzu6FgAFSQkYstDP95o.z61Bn9ghJq', roles=[Role{id: 3, name: ROLE_CUSTOMER}], userStatus=ACTIVE} found by userName: customer3
2020-08-19 21:16:09.378  INFO 9784 --- [http-nio-8068-exec-3] r.l.security.JwtUserDetailsService       : IN loadUserByUsername - user with username: customer3 successfully loaded
2020-08-19 21:16:09.378 DEBUG 9784 --- [http-nio-8068-exec-3] o.s.security.web.FilterChainProxy        : /api/v1/contractors/customers/customer3 at position 6 of 11 in additional filter chain; firing Filter: 'RequestCacheAwareFilter'
2020-08-19 21:16:09.379 DEBUG 9784 --- [http-nio-8068-exec-3] o.s.security.web.FilterChainProxy        : /api/v1/contractors/customers/customer3 at position 7 of 11 in additional filter chain; firing Filter: 'SecurityContextHolderAwareRequestFilter'
2020-08-19 21:16:09.379 DEBUG 9784 --- [http-nio-8068-exec-3] o.s.security.web.FilterChainProxy        : /api/v1/contractors/customers/customer3 at position 8 of 11 in additional filter chain; firing Filter: 'AnonymousAuthenticationFilter'
2020-08-19 21:16:09.379 DEBUG 9784 --- [http-nio-8068-exec-3] o.s.s.w.a.AnonymousAuthenticationFilter  : SecurityContextHolder not populated with anonymous token, as it already contained: 'org.springframework.security.authentication.UsernamePasswordAuthenticationToken@d177cd93: Principal: ru.logisticplatform.security.jwt.JwtUser@72f7fd0; Credentials: [PROTECTED]; Authenticated: true; Details: null; Granted Authorities: ROLE_CUSTOMER'
2020-08-19 21:16:09.379 DEBUG 9784 --- [http-nio-8068-exec-3] o.s.security.web.FilterChainProxy        : /api/v1/contractors/customers/customer3 at position 9 of 11 in additional filter chain; firing Filter: 'SessionManagementFilter'
2020-08-19 21:16:09.379 DEBUG 9784 --- [http-nio-8068-exec-3] s.CompositeSessionAuthenticationStrategy : Delegating to org.springframework.security.web.authentication.session.ChangeSessionIdAuthenticationStrategy@1d126f07
2020-08-19 21:16:09.379 DEBUG 9784 --- [http-nio-8068-exec-3] o.s.security.web.FilterChainProxy        : /api/v1/contractors/customers/customer3 at position 10 of 11 in additional filter chain; firing Filter: 'ExceptionTranslationFilter'
2020-08-19 21:16:09.379 DEBUG 9784 --- [http-nio-8068-exec-3] o.s.security.web.FilterChainProxy        : /api/v1/contractors/customers/customer3 at position 11 of 11 in additional filter chain; firing Filter: 'FilterSecurityInterceptor'
2020-08-19 21:16:09.380 DEBUG 9784 --- [http-nio-8068-exec-3] o.s.s.w.u.matcher.AntPathRequestMatcher  : Checking match of request : '/api/v1/contractors/customers/customer3'; against '/api/v1/sign/**'
2020-08-19 21:16:09.380 DEBUG 9784 --- [http-nio-8068-exec-3] o.s.s.w.u.matcher.AntPathRequestMatcher  : Checking match of request : '/api/v1/contractors/customers/customer3'; against '/api/v1/admins/**'
2020-08-19 21:16:09.380 DEBUG 9784 --- [http-nio-8068-exec-3] o.s.s.w.u.matcher.AntPathRequestMatcher  : Checking match of request : '/api/v1/contractors/customers/customer3'; against '/api/v1/customers/**'
2020-08-19 21:16:09.380 DEBUG 9784 --- [http-nio-8068-exec-3] o.s.s.w.u.matcher.AntPathRequestMatcher  : Checking match of request : '/api/v1/contractors/customers/customer3'; against '/api/v1/contractors/**'
2020-08-19 21:16:09.380 DEBUG 9784 --- [http-nio-8068-exec-3] o.s.s.w.a.i.FilterSecurityInterceptor    : Secure object: FilterInvocation: URL: /api/v1/contractors/customers/customer3; Attributes: [hasRole('ROLE_CONTRACTOR')]
2020-08-19 21:16:09.380 DEBUG 9784 --- [http-nio-8068-exec-3] o.s.s.w.a.i.FilterSecurityInterceptor    : Previously Authenticated: org.springframework.security.authentication.UsernamePasswordAuthenticationToken@d177cd93: Principal: ru.logisticplatform.security.jwt.JwtUser@72f7fd0; Credentials: [PROTECTED]; Authenticated: true; Details: null; Granted Authorities: ROLE_CUSTOMER
2020-08-19 21:16:09.381 DEBUG 9784 --- [http-nio-8068-exec-3] o.s.s.access.vote.AffirmativeBased       : Voter: org.springframework.security.web.access.expression.WebExpressionVoter@5f77abec, returned: -1
2020-08-19 21:16:09.383 DEBUG 9784 --- [http-nio-8068-exec-3] o.s.s.w.a.ExceptionTranslationFilter     : Access is denied (user is not anonymous); delegating to AccessDeniedHandler

org.springframework.security.access.AccessDeniedException: Access is denied
	at org.springframework.security.access.vote.AffirmativeBased.decide(AffirmativeBased.java:84) ~[spring-security-core-5.3.3.RELEASE.jar:5.3.3.RELEASE]
	at org.springframework.security.access.intercept.AbstractSecurityInterceptor.beforeInvocation(AbstractSecurityInterceptor.java:233) ~[spring-security-core-5.3.3.RELEASE.jar:5.3.3.RELEASE]
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:123) ~[spring-security-web-5.3.3.RELEASE.jar:5.3.3.RELEASE]
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:90) ~[spring-security-web-5.3.3.RELEASE.jar:5.3.3.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) [spring-security-web-5.3.3.RELEASE.jar:5.3.3.RELEASE]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:118) ~[spring-security-web-5.3.3.RELEASE.jar:5.3.3.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) [spring-security-web-5.3.3.RELEASE.jar:5.3.3.RELEASE]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:137) [spring-security-web-5.3.3.RELEASE.jar:5.3.3.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) [spring-security-web-5.3.3.RELEASE.jar:5.3.3.RELEASE]
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:111) [spring-security-web-5.3.3.RELEASE.jar:5.3.3.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) [spring-security-web-5.3.3.RELEASE.jar:5.3.3.RELEASE]
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:158) [spring-security-web-5.3.3.RELEASE.jar:5.3.3.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) [spring-security-web-5.3.3.RELEASE.jar:5.3.3.RELEASE]
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) [spring-security-web-5.3.3.RELEASE.jar:5.3.3.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) [spring-security-web-5.3.3.RELEASE.jar:5.3.3.RELEASE]
	at ru.logisticplatform.security.jwt.JwtTokenFilter.doFilter(JwtTokenFilter.java:34) [classes/:na]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) [spring-security-web-5.3.3.RELEASE.jar:5.3.3.RELEASE]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:116) [spring-security-web-5.3.3.RELEASE.jar:5.3.3.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) [spring-security-web-5.3.3.RELEASE.jar:5.3.3.RELEASE]
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:92) [spring-security-web-5.3.3.RELEASE.jar:5.3.3.RELEASE]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:77) [spring-security-web-5.3.3.RELEASE.jar:5.3.3.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) [spring-web-5.2.7.RELEASE.jar:5.2.7.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) [spring-security-web-5.3.3.RELEASE.jar:5.3.3.RELEASE]
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:105) [spring-security-web-5.3.3.RELEASE.jar:5.3.3.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) [spring-security-web-5.3.3.RELEASE.jar:5.3.3.RELEASE]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:56) [spring-security-web-5.3.3.RELEASE.jar:5.3.3.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) [spring-web-5.2.7.RELEASE.jar:5.2.7.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) [spring-security-web-5.3.3.RELEASE.jar:5.3.3.RELEASE]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:215) [spring-security-web-5.3.3.RELEASE.jar:5.3.3.RELEASE]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:178) [spring-security-web-5.3.3.RELEASE.jar:5.3.3.RELEASE]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:358) [spring-web-5.2.7.RELEASE.jar:5.2.7.RELEASE]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:271) [spring-web-5.2.7.RELEASE.jar:5.2.7.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-9.0.36.jar:9.0.36]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-9.0.36.jar:9.0.36]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) [spring-web-5.2.7.RELEASE.jar:5.2.7.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) [spring-web-5.2.7.RELEASE.jar:5.2.7.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-9.0.36.jar:9.0.36]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-9.0.36.jar:9.0.36]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) [spring-web-5.2.7.RELEASE.jar:5.2.7.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) [spring-web-5.2.7.RELEASE.jar:5.2.7.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-9.0.36.jar:9.0.36]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-9.0.36.jar:9.0.36]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) [spring-web-5.2.7.RELEASE.jar:5.2.7.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) [spring-web-5.2.7.RELEASE.jar:5.2.7.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-9.0.36.jar:9.0.36]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-9.0.36.jar:9.0.36]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:202) [tomcat-embed-core-9.0.36.jar:9.0.36]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96) [tomcat-embed-core-9.0.36.jar:9.0.36]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541) [tomcat-embed-core-9.0.36.jar:9.0.36]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:139) [tomcat-embed-core-9.0.36.jar:9.0.36]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92) [tomcat-embed-core-9.0.36.jar:9.0.36]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) [tomcat-embed-core-9.0.36.jar:9.0.36]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343) [tomcat-embed-core-9.0.36.jar:9.0.36]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:373) [tomcat-embed-core-9.0.36.jar:9.0.36]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65) [tomcat-embed-core-9.0.36.jar:9.0.36]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:868) [tomcat-embed-core-9.0.36.jar:9.0.36]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1590) [tomcat-embed-core-9.0.36.jar:9.0.36]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) [tomcat-embed-core-9.0.36.jar:9.0.36]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142) [na:1.8.0_111]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617) [na:1.8.0_111]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) [tomcat-embed-core-9.0.36.jar:9.0.36]
	at java.lang.Thread.run(Thread.java:745) [na:1.8.0_111]

2020-08-19 21:16:09.384 DEBUG 9784 --- [http-nio-8068-exec-3] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match the requestMatcher org.springframework.security.web.header.writers.HstsHeaderWriter$SecureRequestMatcher@3590fde3
2020-08-19 21:16:09.385 DEBUG 9784 --- [http-nio-8068-exec-3] s.s.w.c.SecurityContextPersistenceFilter : SecurityContextHolder now cleared, as request processing completed
2020-08-19 21:16:09.385 DEBUG 9784 --- [http-nio-8068-exec-3] o.s.security.web.FilterChainProxy        : /error at position 1 of 11 in additional filter chain; firing Filter: 'WebAsyncManagerIntegrationFilter'
2020-08-19 21:16:09.385 DEBUG 9784 --- [http-nio-8068-exec-3] o.s.security.web.FilterChainProxy        : /error at position 2 of 11 in additional filter chain; firing Filter: 'SecurityContextPersistenceFilter'
2020-08-19 21:16:09.385 DEBUG 9784 --- [http-nio-8068-exec-3] o.s.security.web.FilterChainProxy        : /error at position 3 of 11 in additional filter chain; firing Filter: 'HeaderWriterFilter'
2020-08-19 21:16:09.385 DEBUG 9784 --- [http-nio-8068-exec-3] o.s.security.web.FilterChainProxy        : /error at position 4 of 11 in additional filter chain; firing Filter: 'LogoutFilter'
2020-08-19 21:16:09.386 DEBUG 9784 --- [http-nio-8068-exec-3] o.s.s.web.util.matcher.OrRequestMatcher  : Trying to match using Ant [pattern='/logout', GET]
2020-08-19 21:16:09.386 DEBUG 9784 --- [http-nio-8068-exec-3] o.s.s.w.u.matcher.AntPathRequestMatcher  : Checking match of request : '/error'; against '/logout'
2020-08-19 21:16:09.386 DEBUG 9784 --- [http-nio-8068-exec-3] o.s.s.web.util.matcher.OrRequestMatcher  : Trying to match using Ant [pattern='/logout', POST]
2020-08-19 21:16:09.386 DEBUG 9784 --- [http-nio-8068-exec-3] o.s.s.w.u.matcher.AntPathRequestMatcher  : Request 'GET /error' doesn't match 'POST /logout'
2020-08-19 21:16:09.386 DEBUG 9784 --- [http-nio-8068-exec-3] o.s.s.web.util.matcher.OrRequestMatcher  : Trying to match using Ant [pattern='/logout', PUT]
2020-08-19 21:16:09.386 DEBUG 9784 --- [http-nio-8068-exec-3] o.s.s.w.u.matcher.AntPathRequestMatcher  : Request 'GET /error' doesn't match 'PUT /logout'
2020-08-19 21:16:09.386 DEBUG 9784 --- [http-nio-8068-exec-3] o.s.s.web.util.matcher.OrRequestMatcher  : Trying to match using Ant [pattern='/logout', DELETE]
2020-08-19 21:16:09.386 DEBUG 9784 --- [http-nio-8068-exec-3] o.s.s.w.u.matcher.AntPathRequestMatcher  : Request 'GET /error' doesn't match 'DELETE /logout'
2020-08-19 21:16:09.386 DEBUG 9784 --- [http-nio-8068-exec-3] o.s.s.web.util.matcher.OrRequestMatcher  : No matches found
2020-08-19 21:16:09.387 DEBUG 9784 --- [http-nio-8068-exec-3] o.s.security.web.FilterChainProxy        : /error at position 5 of 11 in additional filter chain; firing Filter: 'JwtTokenFilter'
2020-08-19 21:16:09.394  INFO 9784 --- [http-nio-8068-exec-3] r.l.service.user.impl.UserServiceImpl    : IN UserServiceImpl findByUsername - user: User{username='customer3', firstName='firstName3', lastName='lastName3', email='email3@mail.ru', phone='79339797603', password='$2a$10$xDCVWzkV0osns7uDyLOXKeqyzu6FgAFSQkYstDP95o.z61Bn9ghJq', roles=[Role{id: 3, name: ROLE_CUSTOMER}], userStatus=ACTIVE} found by userName: customer3
2020-08-19 21:16:09.394  INFO 9784 --- [http-nio-8068-exec-3] r.l.security.JwtUserDetailsService       : IN loadUserByUsername - user with username: customer3 successfully loaded
2020-08-19 21:16:09.394 DEBUG 9784 --- [http-nio-8068-exec-3] o.s.security.web.FilterChainProxy        : /error at position 6 of 11 in additional filter chain; firing Filter: 'RequestCacheAwareFilter'
2020-08-19 21:16:09.394 DEBUG 9784 --- [http-nio-8068-exec-3] o.s.security.web.FilterChainProxy        : /error at position 7 of 11 in additional filter chain; firing Filter: 'SecurityContextHolderAwareRequestFilter'
2020-08-19 21:16:09.394 DEBUG 9784 --- [http-nio-8068-exec-3] o.s.security.web.FilterChainProxy        : /error at position 8 of 11 in additional filter chain; firing Filter: 'AnonymousAuthenticationFilter'
2020-08-19 21:16:09.394 DEBUG 9784 --- [http-nio-8068-exec-3] o.s.s.w.a.AnonymousAuthenticationFilter  : SecurityContextHolder not populated with anonymous token, as it already contained: 'org.springframework.security.authentication.UsernamePasswordAuthenticationToken@dced6306: Principal: ru.logisticplatform.security.jwt.JwtUser@ab5d145; Credentials: [PROTECTED]; Authenticated: true; Details: null; Granted Authorities: ROLE_CUSTOMER'
2020-08-19 21:16:09.394 DEBUG 9784 --- [http-nio-8068-exec-3] o.s.security.web.FilterChainProxy        : /error at position 9 of 11 in additional filter chain; firing Filter: 'SessionManagementFilter'
2020-08-19 21:16:09.394 DEBUG 9784 --- [http-nio-8068-exec-3] o.s.security.web.FilterChainProxy        : /error at position 10 of 11 in additional filter chain; firing Filter: 'ExceptionTranslationFilter'
2020-08-19 21:16:09.395 DEBUG 9784 --- [http-nio-8068-exec-3] o.s.security.web.FilterChainProxy        : /error at position 11 of 11 in additional filter chain; firing Filter: 'FilterSecurityInterceptor'
2020-08-19 21:16:09.395 DEBUG 9784 --- [http-nio-8068-exec-3] o.s.security.web.FilterChainProxy        : /error reached end of additional filter chain; proceeding with original chain
2020-08-19 21:16:09.398 DEBUG 9784 --- [http-nio-8068-exec-3] o.s.s.w.a.ExceptionTranslationFilter     : Chain processed normally
2020-08-19 21:16:09.398 DEBUG 9784 --- [http-nio-8068-exec-3] s.s.w.c.SecurityContextPersistenceFilter : SecurityContextHolder now cleared, as request processing completed
2020-08-19 21:16:25.806 DEBUG 9784 --- [http-nio-8068-exec-4] o.s.security.web.FilterChainProxy        : /api/v1/sign/in at position 1 of 11 in additional filter chain; firing Filter: 'WebAsyncManagerIntegrationFilter'
2020-08-19 21:16:25.806 DEBUG 9784 --- [http-nio-8068-exec-4] o.s.security.web.FilterChainProxy        : /api/v1/sign/in at position 2 of 11 in additional filter chain; firing Filter: 'SecurityContextPersistenceFilter'
2020-08-19 21:16:25.806 DEBUG 9784 --- [http-nio-8068-exec-4] o.s.security.web.FilterChainProxy        : /api/v1/sign/in at position 3 of 11 in additional filter chain; firing Filter: 'HeaderWriterFilter'
2020-08-19 21:16:25.806 DEBUG 9784 --- [http-nio-8068-exec-4] o.s.security.web.FilterChainProxy        : /api/v1/sign/in at position 4 of 11 in additional filter chain; firing Filter: 'LogoutFilter'
2020-08-19 21:16:25.806 DEBUG 9784 --- [http-nio-8068-exec-4] o.s.s.web.util.matcher.OrRequestMatcher  : Trying to match using Ant [pattern='/logout', GET]
2020-08-19 21:16:25.806 DEBUG 9784 --- [http-nio-8068-exec-4] o.s.s.w.u.matcher.AntPathRequestMatcher  : Request 'POST /api/v1/sign/in' doesn't match 'GET /logout'
2020-08-19 21:16:25.806 DEBUG 9784 --- [http-nio-8068-exec-4] o.s.s.web.util.matcher.OrRequestMatcher  : Trying to match using Ant [pattern='/logout', POST]
2020-08-19 21:16:25.807 DEBUG 9784 --- [http-nio-8068-exec-4] o.s.s.w.u.matcher.AntPathRequestMatcher  : Checking match of request : '/api/v1/sign/in'; against '/logout'
2020-08-19 21:16:25.807 DEBUG 9784 --- [http-nio-8068-exec-4] o.s.s.web.util.matcher.OrRequestMatcher  : Trying to match using Ant [pattern='/logout', PUT]
2020-08-19 21:16:25.807 DEBUG 9784 --- [http-nio-8068-exec-4] o.s.s.w.u.matcher.AntPathRequestMatcher  : Request 'POST /api/v1/sign/in' doesn't match 'PUT /logout'
2020-08-19 21:16:25.807 DEBUG 9784 --- [http-nio-8068-exec-4] o.s.s.web.util.matcher.OrRequestMatcher  : Trying to match using Ant [pattern='/logout', DELETE]
2020-08-19 21:16:25.807 DEBUG 9784 --- [http-nio-8068-exec-4] o.s.s.w.u.matcher.AntPathRequestMatcher  : Request 'POST /api/v1/sign/in' doesn't match 'DELETE /logout'
2020-08-19 21:16:25.807 DEBUG 9784 --- [http-nio-8068-exec-4] o.s.s.web.util.matcher.OrRequestMatcher  : No matches found
2020-08-19 21:16:25.807 DEBUG 9784 --- [http-nio-8068-exec-4] o.s.security.web.FilterChainProxy        : /api/v1/sign/in at position 5 of 11 in additional filter chain; firing Filter: 'JwtTokenFilter'
2020-08-19 21:16:25.807 DEBUG 9784 --- [http-nio-8068-exec-4] o.s.security.web.FilterChainProxy        : /api/v1/sign/in at position 6 of 11 in additional filter chain; firing Filter: 'RequestCacheAwareFilter'
2020-08-19 21:16:25.807 DEBUG 9784 --- [http-nio-8068-exec-4] o.s.security.web.FilterChainProxy        : /api/v1/sign/in at position 7 of 11 in additional filter chain; firing Filter: 'SecurityContextHolderAwareRequestFilter'
2020-08-19 21:16:25.807 DEBUG 9784 --- [http-nio-8068-exec-4] o.s.security.web.FilterChainProxy        : /api/v1/sign/in at position 8 of 11 in additional filter chain; firing Filter: 'AnonymousAuthenticationFilter'
2020-08-19 21:16:25.809 DEBUG 9784 --- [http-nio-8068-exec-4] o.s.s.w.a.AnonymousAuthenticationFilter  : Populated SecurityContextHolder with anonymous token: 'org.springframework.security.authentication.AnonymousAuthenticationToken@47b650d5: Principal: anonymousUser; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_ANONYMOUS'
2020-08-19 21:16:25.809 DEBUG 9784 --- [http-nio-8068-exec-4] o.s.security.web.FilterChainProxy        : /api/v1/sign/in at position 9 of 11 in additional filter chain; firing Filter: 'SessionManagementFilter'
2020-08-19 21:16:25.809 DEBUG 9784 --- [http-nio-8068-exec-4] o.s.security.web.FilterChainProxy        : /api/v1/sign/in at position 10 of 11 in additional filter chain; firing Filter: 'ExceptionTranslationFilter'
2020-08-19 21:16:25.809 DEBUG 9784 --- [http-nio-8068-exec-4] o.s.security.web.FilterChainProxy        : /api/v1/sign/in at position 11 of 11 in additional filter chain; firing Filter: 'FilterSecurityInterceptor'
2020-08-19 21:16:25.809 DEBUG 9784 --- [http-nio-8068-exec-4] o.s.s.w.u.matcher.AntPathRequestMatcher  : Checking match of request : '/api/v1/sign/in'; against '/api/v1/sign/**'
2020-08-19 21:16:25.809 DEBUG 9784 --- [http-nio-8068-exec-4] o.s.s.w.a.i.FilterSecurityInterceptor    : Secure object: FilterInvocation: URL: /api/v1/sign/in; Attributes: [permitAll]
2020-08-19 21:16:25.809 DEBUG 9784 --- [http-nio-8068-exec-4] o.s.s.w.a.i.FilterSecurityInterceptor    : Previously Authenticated: org.springframework.security.authentication.AnonymousAuthenticationToken@47b650d5: Principal: anonymousUser; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_ANONYMOUS
2020-08-19 21:16:25.814 DEBUG 9784 --- [http-nio-8068-exec-4] o.s.s.access.vote.AffirmativeBased       : Voter: org.springframework.security.web.access.expression.WebExpressionVoter@5f77abec, returned: 1
2020-08-19 21:16:25.814 DEBUG 9784 --- [http-nio-8068-exec-4] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorization successful
2020-08-19 21:16:25.814 DEBUG 9784 --- [http-nio-8068-exec-4] o.s.s.w.a.i.FilterSecurityInterceptor    : RunAsManager did not change Authentication object
2020-08-19 21:16:25.814 DEBUG 9784 --- [http-nio-8068-exec-4] o.s.security.web.FilterChainProxy        : /api/v1/sign/in reached end of additional filter chain; proceeding with original chain
2020-08-19 21:16:25.853 DEBUG 9784 --- [http-nio-8068-exec-4] o.s.s.authentication.ProviderManager     : Authentication attempt using org.springframework.security.authentication.dao.DaoAuthenticationProvider
2020-08-19 21:16:25.989  INFO 9784 --- [http-nio-8068-exec-4] r.l.service.user.impl.UserServiceImpl    : IN UserServiceImpl findByUsername - user: User{username='contractor2', firstName='firstName2', lastName='lastName2', email='email2@mail.ru', phone='79229797602', password='$2a$10$Uzl41xR.OUV7m1pFV0zRuO85fGWOWZNK2TY36aDr1gn5rn3uNZGU.', roles=[Role{id: 2, name: ROLE_CONTRACTOR}], userStatus=ACTIVE} found by userName: contractor2
2020-08-19 21:16:25.989  INFO 9784 --- [http-nio-8068-exec-4] r.l.security.JwtUserDetailsService       : IN loadUserByUsername - user with username: contractor2 successfully loaded
2020-08-19 21:16:26.135  INFO 9784 --- [http-nio-8068-exec-4] r.l.service.user.impl.UserServiceImpl    : IN UserServiceImpl findByUsername - user: User{username='contractor2', firstName='firstName2', lastName='lastName2', email='email2@mail.ru', phone='79229797602', password='$2a$10$Uzl41xR.OUV7m1pFV0zRuO85fGWOWZNK2TY36aDr1gn5rn3uNZGU.', roles=[Role{id: 2, name: ROLE_CONTRACTOR}], userStatus=ACTIVE} found by userName: contractor2
2020-08-19 21:16:26.158 DEBUG 9784 --- [http-nio-8068-exec-4] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match the requestMatcher org.springframework.security.web.header.writers.HstsHeaderWriter$SecureRequestMatcher@3590fde3
2020-08-19 21:16:26.159 DEBUG 9784 --- [http-nio-8068-exec-4] o.s.s.w.a.ExceptionTranslationFilter     : Chain processed normally
2020-08-19 21:16:26.160 DEBUG 9784 --- [http-nio-8068-exec-4] s.s.w.c.SecurityContextPersistenceFilter : SecurityContextHolder now cleared, as request processing completed
2020-08-19 21:16:47.013 DEBUG 9784 --- [http-nio-8068-exec-5] o.s.security.web.FilterChainProxy        : /api/v1/contractors/me at position 1 of 11 in additional filter chain; firing Filter: 'WebAsyncManagerIntegrationFilter'
2020-08-19 21:16:47.013 DEBUG 9784 --- [http-nio-8068-exec-5] o.s.security.web.FilterChainProxy        : /api/v1/contractors/me at position 2 of 11 in additional filter chain; firing Filter: 'SecurityContextPersistenceFilter'
2020-08-19 21:16:47.013 DEBUG 9784 --- [http-nio-8068-exec-5] o.s.security.web.FilterChainProxy        : /api/v1/contractors/me at position 3 of 11 in additional filter chain; firing Filter: 'HeaderWriterFilter'
2020-08-19 21:16:47.013 DEBUG 9784 --- [http-nio-8068-exec-5] o.s.security.web.FilterChainProxy        : /api/v1/contractors/me at position 4 of 11 in additional filter chain; firing Filter: 'LogoutFilter'
2020-08-19 21:16:47.014 DEBUG 9784 --- [http-nio-8068-exec-5] o.s.s.web.util.matcher.OrRequestMatcher  : Trying to match using Ant [pattern='/logout', GET]
2020-08-19 21:16:47.014 DEBUG 9784 --- [http-nio-8068-exec-5] o.s.s.w.u.matcher.AntPathRequestMatcher  : Checking match of request : '/api/v1/contractors/me'; against '/logout'
2020-08-19 21:16:47.014 DEBUG 9784 --- [http-nio-8068-exec-5] o.s.s.web.util.matcher.OrRequestMatcher  : Trying to match using Ant [pattern='/logout', POST]
2020-08-19 21:16:47.014 DEBUG 9784 --- [http-nio-8068-exec-5] o.s.s.w.u.matcher.AntPathRequestMatcher  : Request 'GET /api/v1/contractors/me' doesn't match 'POST /logout'
2020-08-19 21:16:47.014 DEBUG 9784 --- [http-nio-8068-exec-5] o.s.s.web.util.matcher.OrRequestMatcher  : Trying to match using Ant [pattern='/logout', PUT]
2020-08-19 21:16:47.014 DEBUG 9784 --- [http-nio-8068-exec-5] o.s.s.w.u.matcher.AntPathRequestMatcher  : Request 'GET /api/v1/contractors/me' doesn't match 'PUT /logout'
2020-08-19 21:16:47.014 DEBUG 9784 --- [http-nio-8068-exec-5] o.s.s.web.util.matcher.OrRequestMatcher  : Trying to match using Ant [pattern='/logout', DELETE]
2020-08-19 21:16:47.014 DEBUG 9784 --- [http-nio-8068-exec-5] o.s.s.w.u.matcher.AntPathRequestMatcher  : Request 'GET /api/v1/contractors/me' doesn't match 'DELETE /logout'
2020-08-19 21:16:47.014 DEBUG 9784 --- [http-nio-8068-exec-5] o.s.s.web.util.matcher.OrRequestMatcher  : No matches found
2020-08-19 21:16:47.014 DEBUG 9784 --- [http-nio-8068-exec-5] o.s.security.web.FilterChainProxy        : /api/v1/contractors/me at position 5 of 11 in additional filter chain; firing Filter: 'JwtTokenFilter'
2020-08-19 21:16:47.022  INFO 9784 --- [http-nio-8068-exec-5] r.l.service.user.impl.UserServiceImpl    : IN UserServiceImpl findByUsername - user: User{username='contractor2', firstName='firstName2', lastName='lastName2', email='email2@mail.ru', phone='79229797602', password='$2a$10$Uzl41xR.OUV7m1pFV0zRuO85fGWOWZNK2TY36aDr1gn5rn3uNZGU.', roles=[Role{id: 2, name: ROLE_CONTRACTOR}], userStatus=ACTIVE} found by userName: contractor2
2020-08-19 21:16:47.022  INFO 9784 --- [http-nio-8068-exec-5] r.l.security.JwtUserDetailsService       : IN loadUserByUsername - user with username: contractor2 successfully loaded
2020-08-19 21:16:47.022 DEBUG 9784 --- [http-nio-8068-exec-5] o.s.security.web.FilterChainProxy        : /api/v1/contractors/me at position 6 of 11 in additional filter chain; firing Filter: 'RequestCacheAwareFilter'
2020-08-19 21:16:47.022 DEBUG 9784 --- [http-nio-8068-exec-5] o.s.security.web.FilterChainProxy        : /api/v1/contractors/me at position 7 of 11 in additional filter chain; firing Filter: 'SecurityContextHolderAwareRequestFilter'
2020-08-19 21:16:47.022 DEBUG 9784 --- [http-nio-8068-exec-5] o.s.security.web.FilterChainProxy        : /api/v1/contractors/me at position 8 of 11 in additional filter chain; firing Filter: 'AnonymousAuthenticationFilter'
2020-08-19 21:16:47.022 DEBUG 9784 --- [http-nio-8068-exec-5] o.s.s.w.a.AnonymousAuthenticationFilter  : SecurityContextHolder not populated with anonymous token, as it already contained: 'org.springframework.security.authentication.UsernamePasswordAuthenticationToken@564eee19: Principal: ru.logisticplatform.security.jwt.JwtUser@49cf3403; Credentials: [PROTECTED]; Authenticated: true; Details: null; Granted Authorities: ROLE_CONTRACTOR'
2020-08-19 21:16:47.022 DEBUG 9784 --- [http-nio-8068-exec-5] o.s.security.web.FilterChainProxy        : /api/v1/contractors/me at position 9 of 11 in additional filter chain; firing Filter: 'SessionManagementFilter'
2020-08-19 21:16:47.022 DEBUG 9784 --- [http-nio-8068-exec-5] s.CompositeSessionAuthenticationStrategy : Delegating to org.springframework.security.web.authentication.session.ChangeSessionIdAuthenticationStrategy@1d126f07
2020-08-19 21:16:47.023 DEBUG 9784 --- [http-nio-8068-exec-5] o.s.security.web.FilterChainProxy        : /api/v1/contractors/me at position 10 of 11 in additional filter chain; firing Filter: 'ExceptionTranslationFilter'
2020-08-19 21:16:47.023 DEBUG 9784 --- [http-nio-8068-exec-5] o.s.security.web.FilterChainProxy        : /api/v1/contractors/me at position 11 of 11 in additional filter chain; firing Filter: 'FilterSecurityInterceptor'
2020-08-19 21:16:47.023 DEBUG 9784 --- [http-nio-8068-exec-5] o.s.s.w.u.matcher.AntPathRequestMatcher  : Checking match of request : '/api/v1/contractors/me'; against '/api/v1/sign/**'
2020-08-19 21:16:47.023 DEBUG 9784 --- [http-nio-8068-exec-5] o.s.s.w.u.matcher.AntPathRequestMatcher  : Checking match of request : '/api/v1/contractors/me'; against '/api/v1/admins/**'
2020-08-19 21:16:47.023 DEBUG 9784 --- [http-nio-8068-exec-5] o.s.s.w.u.matcher.AntPathRequestMatcher  : Checking match of request : '/api/v1/contractors/me'; against '/api/v1/customers/**'
2020-08-19 21:16:47.023 DEBUG 9784 --- [http-nio-8068-exec-5] o.s.s.w.u.matcher.AntPathRequestMatcher  : Checking match of request : '/api/v1/contractors/me'; against '/api/v1/contractors/**'
2020-08-19 21:16:47.023 DEBUG 9784 --- [http-nio-8068-exec-5] o.s.s.w.a.i.FilterSecurityInterceptor    : Secure object: FilterInvocation: URL: /api/v1/contractors/me; Attributes: [hasRole('ROLE_CONTRACTOR')]
2020-08-19 21:16:47.023 DEBUG 9784 --- [http-nio-8068-exec-5] o.s.s.w.a.i.FilterSecurityInterceptor    : Previously Authenticated: org.springframework.security.authentication.UsernamePasswordAuthenticationToken@564eee19: Principal: ru.logisticplatform.security.jwt.JwtUser@49cf3403; Credentials: [PROTECTED]; Authenticated: true; Details: null; Granted Authorities: ROLE_CONTRACTOR
2020-08-19 21:16:47.023 DEBUG 9784 --- [http-nio-8068-exec-5] o.s.s.access.vote.AffirmativeBased       : Voter: org.springframework.security.web.access.expression.WebExpressionVoter@5f77abec, returned: 1
2020-08-19 21:16:47.024 DEBUG 9784 --- [http-nio-8068-exec-5] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorization successful
2020-08-19 21:16:47.024 DEBUG 9784 --- [http-nio-8068-exec-5] o.s.s.w.a.i.FilterSecurityInterceptor    : RunAsManager did not change Authentication object
2020-08-19 21:16:47.024 DEBUG 9784 --- [http-nio-8068-exec-5] o.s.security.web.FilterChainProxy        : /api/v1/contractors/me reached end of additional filter chain; proceeding with original chain
2020-08-19 21:16:47.029  INFO 9784 --- [http-nio-8068-exec-5] r.l.service.user.impl.UserServiceImpl    : IN UserServiceImpl findByUsername - user: User{username='contractor2', firstName='firstName2', lastName='lastName2', email='email2@mail.ru', phone='79229797602', password='$2a$10$Uzl41xR.OUV7m1pFV0zRuO85fGWOWZNK2TY36aDr1gn5rn3uNZGU.', roles=[Role{id: 2, name: ROLE_CONTRACTOR}], userStatus=ACTIVE} found by userName: contractor2
2020-08-19 21:16:47.109 DEBUG 9784 --- [http-nio-8068-exec-5] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match the requestMatcher org.springframework.security.web.header.writers.HstsHeaderWriter$SecureRequestMatcher@3590fde3
2020-08-19 21:16:47.110 DEBUG 9784 --- [http-nio-8068-exec-5] o.s.s.w.a.ExceptionTranslationFilter     : Chain processed normally
2020-08-19 21:16:47.110 DEBUG 9784 --- [http-nio-8068-exec-5] s.s.w.c.SecurityContextPersistenceFilter : SecurityContextHolder now cleared, as request processing completed
2020-08-19 21:16:51.561 DEBUG 9784 --- [http-nio-8068-exec-6] o.s.security.web.FilterChainProxy        : /api/v1/contractors/me at position 1 of 11 in additional filter chain; firing Filter: 'WebAsyncManagerIntegrationFilter'
2020-08-19 21:16:51.562 DEBUG 9784 --- [http-nio-8068-exec-6] o.s.security.web.FilterChainProxy        : /api/v1/contractors/me at position 2 of 11 in additional filter chain; firing Filter: 'SecurityContextPersistenceFilter'
2020-08-19 21:16:51.562 DEBUG 9784 --- [http-nio-8068-exec-6] o.s.security.web.FilterChainProxy        : /api/v1/contractors/me at position 3 of 11 in additional filter chain; firing Filter: 'HeaderWriterFilter'
2020-08-19 21:16:51.562 DEBUG 9784 --- [http-nio-8068-exec-6] o.s.security.web.FilterChainProxy        : /api/v1/contractors/me at position 4 of 11 in additional filter chain; firing Filter: 'LogoutFilter'
2020-08-19 21:16:51.562 DEBUG 9784 --- [http-nio-8068-exec-6] o.s.s.web.util.matcher.OrRequestMatcher  : Trying to match using Ant [pattern='/logout', GET]
2020-08-19 21:16:51.562 DEBUG 9784 --- [http-nio-8068-exec-6] o.s.s.w.u.matcher.AntPathRequestMatcher  : Checking match of request : '/api/v1/contractors/me'; against '/logout'
2020-08-19 21:16:51.562 DEBUG 9784 --- [http-nio-8068-exec-6] o.s.s.web.util.matcher.OrRequestMatcher  : Trying to match using Ant [pattern='/logout', POST]
2020-08-19 21:16:51.562 DEBUG 9784 --- [http-nio-8068-exec-6] o.s.s.w.u.matcher.AntPathRequestMatcher  : Request 'GET /api/v1/contractors/me' doesn't match 'POST /logout'
2020-08-19 21:16:51.562 DEBUG 9784 --- [http-nio-8068-exec-6] o.s.s.web.util.matcher.OrRequestMatcher  : Trying to match using Ant [pattern='/logout', PUT]
2020-08-19 21:16:51.562 DEBUG 9784 --- [http-nio-8068-exec-6] o.s.s.w.u.matcher.AntPathRequestMatcher  : Request 'GET /api/v1/contractors/me' doesn't match 'PUT /logout'
2020-08-19 21:16:51.562 DEBUG 9784 --- [http-nio-8068-exec-6] o.s.s.web.util.matcher.OrRequestMatcher  : Trying to match using Ant [pattern='/logout', DELETE]
2020-08-19 21:16:51.562 DEBUG 9784 --- [http-nio-8068-exec-6] o.s.s.w.u.matcher.AntPathRequestMatcher  : Request 'GET /api/v1/contractors/me' doesn't match 'DELETE /logout'
2020-08-19 21:16:51.562 DEBUG 9784 --- [http-nio-8068-exec-6] o.s.s.web.util.matcher.OrRequestMatcher  : No matches found
2020-08-19 21:16:51.563 DEBUG 9784 --- [http-nio-8068-exec-6] o.s.security.web.FilterChainProxy        : /api/v1/contractors/me at position 5 of 11 in additional filter chain; firing Filter: 'JwtTokenFilter'
2020-08-19 21:16:51.569  INFO 9784 --- [http-nio-8068-exec-6] r.l.service.user.impl.UserServiceImpl    : IN UserServiceImpl findByUsername - user: User{username='contractor2', firstName='firstName2', lastName='lastName2', email='email2@mail.ru', phone='79229797602', password='$2a$10$Uzl41xR.OUV7m1pFV0zRuO85fGWOWZNK2TY36aDr1gn5rn3uNZGU.', roles=[Role{id: 2, name: ROLE_CONTRACTOR}], userStatus=ACTIVE} found by userName: contractor2
2020-08-19 21:16:51.569  INFO 9784 --- [http-nio-8068-exec-6] r.l.security.JwtUserDetailsService       : IN loadUserByUsername - user with username: contractor2 successfully loaded
2020-08-19 21:16:51.569 DEBUG 9784 --- [http-nio-8068-exec-6] o.s.security.web.FilterChainProxy        : /api/v1/contractors/me at position 6 of 11 in additional filter chain; firing Filter: 'RequestCacheAwareFilter'
2020-08-19 21:16:51.569 DEBUG 9784 --- [http-nio-8068-exec-6] o.s.security.web.FilterChainProxy        : /api/v1/contractors/me at position 7 of 11 in additional filter chain; firing Filter: 'SecurityContextHolderAwareRequestFilter'
2020-08-19 21:16:51.569 DEBUG 9784 --- [http-nio-8068-exec-6] o.s.security.web.FilterChainProxy        : /api/v1/contractors/me at position 8 of 11 in additional filter chain; firing Filter: 'AnonymousAuthenticationFilter'
2020-08-19 21:16:51.569 DEBUG 9784 --- [http-nio-8068-exec-6] o.s.s.w.a.AnonymousAuthenticationFilter  : SecurityContextHolder not populated with anonymous token, as it already contained: 'org.springframework.security.authentication.UsernamePasswordAuthenticationToken@3645b074: Principal: ru.logisticplatform.security.jwt.JwtUser@29c46a6e; Credentials: [PROTECTED]; Authenticated: true; Details: null; Granted Authorities: ROLE_CONTRACTOR'
2020-08-19 21:16:51.570 DEBUG 9784 --- [http-nio-8068-exec-6] o.s.security.web.FilterChainProxy        : /api/v1/contractors/me at position 9 of 11 in additional filter chain; firing Filter: 'SessionManagementFilter'
2020-08-19 21:16:51.570 DEBUG 9784 --- [http-nio-8068-exec-6] s.CompositeSessionAuthenticationStrategy : Delegating to org.springframework.security.web.authentication.session.ChangeSessionIdAuthenticationStrategy@1d126f07
2020-08-19 21:16:51.570 DEBUG 9784 --- [http-nio-8068-exec-6] o.s.security.web.FilterChainProxy        : /api/v1/contractors/me at position 10 of 11 in additional filter chain; firing Filter: 'ExceptionTranslationFilter'
2020-08-19 21:16:51.570 DEBUG 9784 --- [http-nio-8068-exec-6] o.s.security.web.FilterChainProxy        : /api/v1/contractors/me at position 11 of 11 in additional filter chain; firing Filter: 'FilterSecurityInterceptor'
2020-08-19 21:16:51.570 DEBUG 9784 --- [http-nio-8068-exec-6] o.s.s.w.u.matcher.AntPathRequestMatcher  : Checking match of request : '/api/v1/contractors/me'; against '/api/v1/sign/**'
2020-08-19 21:16:51.570 DEBUG 9784 --- [http-nio-8068-exec-6] o.s.s.w.u.matcher.AntPathRequestMatcher  : Checking match of request : '/api/v1/contractors/me'; against '/api/v1/admins/**'
2020-08-19 21:16:51.570 DEBUG 9784 --- [http-nio-8068-exec-6] o.s.s.w.u.matcher.AntPathRequestMatcher  : Checking match of request : '/api/v1/contractors/me'; against '/api/v1/customers/**'
2020-08-19 21:16:51.570 DEBUG 9784 --- [http-nio-8068-exec-6] o.s.s.w.u.matcher.AntPathRequestMatcher  : Checking match of request : '/api/v1/contractors/me'; against '/api/v1/contractors/**'
2020-08-19 21:16:51.570 DEBUG 9784 --- [http-nio-8068-exec-6] o.s.s.w.a.i.FilterSecurityInterceptor    : Secure object: FilterInvocation: URL: /api/v1/contractors/me; Attributes: [hasRole('ROLE_CONTRACTOR')]
2020-08-19 21:16:51.570 DEBUG 9784 --- [http-nio-8068-exec-6] o.s.s.w.a.i.FilterSecurityInterceptor    : Previously Authenticated: org.springframework.security.authentication.UsernamePasswordAuthenticationToken@3645b074: Principal: ru.logisticplatform.security.jwt.JwtUser@29c46a6e; Credentials: [PROTECTED]; Authenticated: true; Details: null; Granted Authorities: ROLE_CONTRACTOR
2020-08-19 21:16:51.571 DEBUG 9784 --- [http-nio-8068-exec-6] o.s.s.access.vote.AffirmativeBased       : Voter: org.springframework.security.web.access.expression.WebExpressionVoter@5f77abec, returned: 1
2020-08-19 21:16:51.571 DEBUG 9784 --- [http-nio-8068-exec-6] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorization successful
2020-08-19 21:16:51.571 DEBUG 9784 --- [http-nio-8068-exec-6] o.s.s.w.a.i.FilterSecurityInterceptor    : RunAsManager did not change Authentication object
2020-08-19 21:16:51.571 DEBUG 9784 --- [http-nio-8068-exec-6] o.s.security.web.FilterChainProxy        : /api/v1/contractors/me reached end of additional filter chain; proceeding with original chain
2020-08-19 21:16:51.592  INFO 9784 --- [http-nio-8068-exec-6] r.l.service.user.impl.UserServiceImpl    : IN UserServiceImpl findByUsername - user: User{username='contractor2', firstName='firstName2', lastName='lastName2', email='email2@mail.ru', phone='79229797602', password='$2a$10$Uzl41xR.OUV7m1pFV0zRuO85fGWOWZNK2TY36aDr1gn5rn3uNZGU.', roles=[Role{id: 2, name: ROLE_CONTRACTOR}], userStatus=ACTIVE} found by userName: contractor2
2020-08-19 21:16:51.594 DEBUG 9784 --- [http-nio-8068-exec-6] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match the requestMatcher org.springframework.security.web.header.writers.HstsHeaderWriter$SecureRequestMatcher@3590fde3
2020-08-19 21:16:51.595 DEBUG 9784 --- [http-nio-8068-exec-6] o.s.s.w.a.ExceptionTranslationFilter     : Chain processed normally
2020-08-19 21:16:51.596 DEBUG 9784 --- [http-nio-8068-exec-6] s.s.w.c.SecurityContextPersistenceFilter : SecurityContextHolder now cleared, as request processing completed
2020-08-19 21:17:04.221 DEBUG 9784 --- [http-nio-8068-exec-7] o.s.security.web.FilterChainProxy        : /api/v1/sign/in at position 1 of 11 in additional filter chain; firing Filter: 'WebAsyncManagerIntegrationFilter'
2020-08-19 21:17:04.222 DEBUG 9784 --- [http-nio-8068-exec-7] o.s.security.web.FilterChainProxy        : /api/v1/sign/in at position 2 of 11 in additional filter chain; firing Filter: 'SecurityContextPersistenceFilter'
2020-08-19 21:17:04.222 DEBUG 9784 --- [http-nio-8068-exec-7] o.s.security.web.FilterChainProxy        : /api/v1/sign/in at position 3 of 11 in additional filter chain; firing Filter: 'HeaderWriterFilter'
2020-08-19 21:17:04.222 DEBUG 9784 --- [http-nio-8068-exec-7] o.s.security.web.FilterChainProxy        : /api/v1/sign/in at position 4 of 11 in additional filter chain; firing Filter: 'LogoutFilter'
2020-08-19 21:17:04.222 DEBUG 9784 --- [http-nio-8068-exec-7] o.s.s.web.util.matcher.OrRequestMatcher  : Trying to match using Ant [pattern='/logout', GET]
2020-08-19 21:17:04.222 DEBUG 9784 --- [http-nio-8068-exec-7] o.s.s.w.u.matcher.AntPathRequestMatcher  : Request 'POST /api/v1/sign/in' doesn't match 'GET /logout'
2020-08-19 21:17:04.222 DEBUG 9784 --- [http-nio-8068-exec-7] o.s.s.web.util.matcher.OrRequestMatcher  : Trying to match using Ant [pattern='/logout', POST]
2020-08-19 21:17:04.222 DEBUG 9784 --- [http-nio-8068-exec-7] o.s.s.w.u.matcher.AntPathRequestMatcher  : Checking match of request : '/api/v1/sign/in'; against '/logout'
2020-08-19 21:17:04.222 DEBUG 9784 --- [http-nio-8068-exec-7] o.s.s.web.util.matcher.OrRequestMatcher  : Trying to match using Ant [pattern='/logout', PUT]
2020-08-19 21:17:04.222 DEBUG 9784 --- [http-nio-8068-exec-7] o.s.s.w.u.matcher.AntPathRequestMatcher  : Request 'POST /api/v1/sign/in' doesn't match 'PUT /logout'
2020-08-19 21:17:04.223 DEBUG 9784 --- [http-nio-8068-exec-7] o.s.s.web.util.matcher.OrRequestMatcher  : Trying to match using Ant [pattern='/logout', DELETE]
2020-08-19 21:17:04.223 DEBUG 9784 --- [http-nio-8068-exec-7] o.s.s.w.u.matcher.AntPathRequestMatcher  : Request 'POST /api/v1/sign/in' doesn't match 'DELETE /logout'
2020-08-19 21:17:04.223 DEBUG 9784 --- [http-nio-8068-exec-7] o.s.s.web.util.matcher.OrRequestMatcher  : No matches found
2020-08-19 21:17:04.223 DEBUG 9784 --- [http-nio-8068-exec-7] o.s.security.web.FilterChainProxy        : /api/v1/sign/in at position 5 of 11 in additional filter chain; firing Filter: 'JwtTokenFilter'
2020-08-19 21:17:04.223 DEBUG 9784 --- [http-nio-8068-exec-7] o.s.security.web.FilterChainProxy        : /api/v1/sign/in at position 6 of 11 in additional filter chain; firing Filter: 'RequestCacheAwareFilter'
2020-08-19 21:17:04.223 DEBUG 9784 --- [http-nio-8068-exec-7] o.s.security.web.FilterChainProxy        : /api/v1/sign/in at position 7 of 11 in additional filter chain; firing Filter: 'SecurityContextHolderAwareRequestFilter'
2020-08-19 21:17:04.223 DEBUG 9784 --- [http-nio-8068-exec-7] o.s.security.web.FilterChainProxy        : /api/v1/sign/in at position 8 of 11 in additional filter chain; firing Filter: 'AnonymousAuthenticationFilter'
2020-08-19 21:17:04.223 DEBUG 9784 --- [http-nio-8068-exec-7] o.s.s.w.a.AnonymousAuthenticationFilter  : Populated SecurityContextHolder with anonymous token: 'org.springframework.security.authentication.AnonymousAuthenticationToken@47b650d5: Principal: anonymousUser; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_ANONYMOUS'
2020-08-19 21:17:04.223 DEBUG 9784 --- [http-nio-8068-exec-7] o.s.security.web.FilterChainProxy        : /api/v1/sign/in at position 9 of 11 in additional filter chain; firing Filter: 'SessionManagementFilter'
2020-08-19 21:17:04.223 DEBUG 9784 --- [http-nio-8068-exec-7] o.s.security.web.FilterChainProxy        : /api/v1/sign/in at position 10 of 11 in additional filter chain; firing Filter: 'ExceptionTranslationFilter'
2020-08-19 21:17:04.223 DEBUG 9784 --- [http-nio-8068-exec-7] o.s.security.web.FilterChainProxy        : /api/v1/sign/in at position 11 of 11 in additional filter chain; firing Filter: 'FilterSecurityInterceptor'
2020-08-19 21:17:04.223 DEBUG 9784 --- [http-nio-8068-exec-7] o.s.s.w.u.matcher.AntPathRequestMatcher  : Checking match of request : '/api/v1/sign/in'; against '/api/v1/sign/**'
2020-08-19 21:17:04.223 DEBUG 9784 --- [http-nio-8068-exec-7] o.s.s.w.a.i.FilterSecurityInterceptor    : Secure object: FilterInvocation: URL: /api/v1/sign/in; Attributes: [permitAll]
2020-08-19 21:17:04.223 DEBUG 9784 --- [http-nio-8068-exec-7] o.s.s.w.a.i.FilterSecurityInterceptor    : Previously Authenticated: org.springframework.security.authentication.AnonymousAuthenticationToken@47b650d5: Principal: anonymousUser; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_ANONYMOUS
2020-08-19 21:17:04.224 DEBUG 9784 --- [http-nio-8068-exec-7] o.s.s.access.vote.AffirmativeBased       : Voter: org.springframework.security.web.access.expression.WebExpressionVoter@5f77abec, returned: 1
2020-08-19 21:17:04.224 DEBUG 9784 --- [http-nio-8068-exec-7] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorization successful
2020-08-19 21:17:04.224 DEBUG 9784 --- [http-nio-8068-exec-7] o.s.s.w.a.i.FilterSecurityInterceptor    : RunAsManager did not change Authentication object
2020-08-19 21:17:04.224 DEBUG 9784 --- [http-nio-8068-exec-7] o.s.security.web.FilterChainProxy        : /api/v1/sign/in reached end of additional filter chain; proceeding with original chain
2020-08-19 21:17:04.225 DEBUG 9784 --- [http-nio-8068-exec-7] o.s.s.authentication.ProviderManager     : Authentication attempt using org.springframework.security.authentication.dao.DaoAuthenticationProvider
2020-08-19 21:17:04.230  INFO 9784 --- [http-nio-8068-exec-7] r.l.service.user.impl.UserServiceImpl    : IN UserServiceImpl findByUsername - user: User{username='customer4', firstName='firstName4', lastName='lastName4', email='email4@mail.ru', phone='79449797604', password='$2a$10$4o.U..Oyp9g4PWTeQXZR9OGvYC5ITi4EFkcxlnZtCU4iUf5jjvaS6', roles=[Role{id: 3, name: ROLE_CUSTOMER}], userStatus=ACTIVE} found by userName: customer4
2020-08-19 21:17:04.231  INFO 9784 --- [http-nio-8068-exec-7] r.l.security.JwtUserDetailsService       : IN loadUserByUsername - user with username: customer4 successfully loaded
2020-08-19 21:17:04.356  INFO 9784 --- [http-nio-8068-exec-7] r.l.service.user.impl.UserServiceImpl    : IN UserServiceImpl findByUsername - user: User{username='customer4', firstName='firstName4', lastName='lastName4', email='email4@mail.ru', phone='79449797604', password='$2a$10$4o.U..Oyp9g4PWTeQXZR9OGvYC5ITi4EFkcxlnZtCU4iUf5jjvaS6', roles=[Role{id: 3, name: ROLE_CUSTOMER}], userStatus=ACTIVE} found by userName: customer4
2020-08-19 21:17:04.357 DEBUG 9784 --- [http-nio-8068-exec-7] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match the requestMatcher org.springframework.security.web.header.writers.HstsHeaderWriter$SecureRequestMatcher@3590fde3
2020-08-19 21:17:04.359 DEBUG 9784 --- [http-nio-8068-exec-7] o.s.s.w.a.ExceptionTranslationFilter     : Chain processed normally
2020-08-19 21:17:04.359 DEBUG 9784 --- [http-nio-8068-exec-7] s.s.w.c.SecurityContextPersistenceFilter : SecurityContextHolder now cleared, as request processing completed
2020-08-19 21:17:31.318 DEBUG 9784 --- [http-nio-8068-exec-8] o.s.security.web.FilterChainProxy        : /api/v1/contractors/me at position 1 of 11 in additional filter chain; firing Filter: 'WebAsyncManagerIntegrationFilter'
2020-08-19 21:17:31.318 DEBUG 9784 --- [http-nio-8068-exec-8] o.s.security.web.FilterChainProxy        : /api/v1/contractors/me at position 2 of 11 in additional filter chain; firing Filter: 'SecurityContextPersistenceFilter'
2020-08-19 21:17:31.318 DEBUG 9784 --- [http-nio-8068-exec-8] o.s.security.web.FilterChainProxy        : /api/v1/contractors/me at position 3 of 11 in additional filter chain; firing Filter: 'HeaderWriterFilter'
2020-08-19 21:17:31.318 DEBUG 9784 --- [http-nio-8068-exec-8] o.s.security.web.FilterChainProxy        : /api/v1/contractors/me at position 4 of 11 in additional filter chain; firing Filter: 'LogoutFilter'
2020-08-19 21:17:31.318 DEBUG 9784 --- [http-nio-8068-exec-8] o.s.s.web.util.matcher.OrRequestMatcher  : Trying to match using Ant [pattern='/logout', GET]
2020-08-19 21:17:31.318 DEBUG 9784 --- [http-nio-8068-exec-8] o.s.s.w.u.matcher.AntPathRequestMatcher  : Checking match of request : '/api/v1/contractors/me'; against '/logout'
2020-08-19 21:17:31.318 DEBUG 9784 --- [http-nio-8068-exec-8] o.s.s.web.util.matcher.OrRequestMatcher  : Trying to match using Ant [pattern='/logout', POST]
2020-08-19 21:17:31.318 DEBUG 9784 --- [http-nio-8068-exec-8] o.s.s.w.u.matcher.AntPathRequestMatcher  : Request 'GET /api/v1/contractors/me' doesn't match 'POST /logout'
2020-08-19 21:17:31.318 DEBUG 9784 --- [http-nio-8068-exec-8] o.s.s.web.util.matcher.OrRequestMatcher  : Trying to match using Ant [pattern='/logout', PUT]
2020-08-19 21:17:31.319 DEBUG 9784 --- [http-nio-8068-exec-8] o.s.s.w.u.matcher.AntPathRequestMatcher  : Request 'GET /api/v1/contractors/me' doesn't match 'PUT /logout'
2020-08-19 21:17:31.319 DEBUG 9784 --- [http-nio-8068-exec-8] o.s.s.web.util.matcher.OrRequestMatcher  : Trying to match using Ant [pattern='/logout', DELETE]
2020-08-19 21:17:31.319 DEBUG 9784 --- [http-nio-8068-exec-8] o.s.s.w.u.matcher.AntPathRequestMatcher  : Request 'GET /api/v1/contractors/me' doesn't match 'DELETE /logout'
2020-08-19 21:17:31.319 DEBUG 9784 --- [http-nio-8068-exec-8] o.s.s.web.util.matcher.OrRequestMatcher  : No matches found
2020-08-19 21:17:31.319 DEBUG 9784 --- [http-nio-8068-exec-8] o.s.security.web.FilterChainProxy        : /api/v1/contractors/me at position 5 of 11 in additional filter chain; firing Filter: 'JwtTokenFilter'
2020-08-19 21:17:31.324  INFO 9784 --- [http-nio-8068-exec-8] r.l.service.user.impl.UserServiceImpl    : IN UserServiceImpl findByUsername - user: User{username='customer4', firstName='firstName4', lastName='lastName4', email='email4@mail.ru', phone='79449797604', password='$2a$10$4o.U..Oyp9g4PWTeQXZR9OGvYC5ITi4EFkcxlnZtCU4iUf5jjvaS6', roles=[Role{id: 3, name: ROLE_CUSTOMER}], userStatus=ACTIVE} found by userName: customer4
2020-08-19 21:17:31.324  INFO 9784 --- [http-nio-8068-exec-8] r.l.security.JwtUserDetailsService       : IN loadUserByUsername - user with username: customer4 successfully loaded
2020-08-19 21:17:31.324 DEBUG 9784 --- [http-nio-8068-exec-8] o.s.security.web.FilterChainProxy        : /api/v1/contractors/me at position 6 of 11 in additional filter chain; firing Filter: 'RequestCacheAwareFilter'
2020-08-19 21:17:31.324 DEBUG 9784 --- [http-nio-8068-exec-8] o.s.security.web.FilterChainProxy        : /api/v1/contractors/me at position 7 of 11 in additional filter chain; firing Filter: 'SecurityContextHolderAwareRequestFilter'
2020-08-19 21:17:31.324 DEBUG 9784 --- [http-nio-8068-exec-8] o.s.security.web.FilterChainProxy        : /api/v1/contractors/me at position 8 of 11 in additional filter chain; firing Filter: 'AnonymousAuthenticationFilter'
2020-08-19 21:17:31.324 DEBUG 9784 --- [http-nio-8068-exec-8] o.s.s.w.a.AnonymousAuthenticationFilter  : SecurityContextHolder not populated with anonymous token, as it already contained: 'org.springframework.security.authentication.UsernamePasswordAuthenticationToken@9ae2e8c8: Principal: ru.logisticplatform.security.jwt.JwtUser@4cba5a8b; Credentials: [PROTECTED]; Authenticated: true; Details: null; Granted Authorities: ROLE_CUSTOMER'
2020-08-19 21:17:31.324 DEBUG 9784 --- [http-nio-8068-exec-8] o.s.security.web.FilterChainProxy        : /api/v1/contractors/me at position 9 of 11 in additional filter chain; firing Filter: 'SessionManagementFilter'
2020-08-19 21:17:31.325 DEBUG 9784 --- [http-nio-8068-exec-8] s.CompositeSessionAuthenticationStrategy : Delegating to org.springframework.security.web.authentication.session.ChangeSessionIdAuthenticationStrategy@1d126f07
2020-08-19 21:17:31.325 DEBUG 9784 --- [http-nio-8068-exec-8] o.s.security.web.FilterChainProxy        : /api/v1/contractors/me at position 10 of 11 in additional filter chain; firing Filter: 'ExceptionTranslationFilter'
2020-08-19 21:17:31.325 DEBUG 9784 --- [http-nio-8068-exec-8] o.s.security.web.FilterChainProxy        : /api/v1/contractors/me at position 11 of 11 in additional filter chain; firing Filter: 'FilterSecurityInterceptor'
2020-08-19 21:17:31.325 DEBUG 9784 --- [http-nio-8068-exec-8] o.s.s.w.u.matcher.AntPathRequestMatcher  : Checking match of request : '/api/v1/contractors/me'; against '/api/v1/sign/**'
2020-08-19 21:17:31.325 DEBUG 9784 --- [http-nio-8068-exec-8] o.s.s.w.u.matcher.AntPathRequestMatcher  : Checking match of request : '/api/v1/contractors/me'; against '/api/v1/admins/**'
2020-08-19 21:17:31.325 DEBUG 9784 --- [http-nio-8068-exec-8] o.s.s.w.u.matcher.AntPathRequestMatcher  : Checking match of request : '/api/v1/contractors/me'; against '/api/v1/customers/**'
2020-08-19 21:17:31.325 DEBUG 9784 --- [http-nio-8068-exec-8] o.s.s.w.u.matcher.AntPathRequestMatcher  : Checking match of request : '/api/v1/contractors/me'; against '/api/v1/contractors/**'
2020-08-19 21:17:31.325 DEBUG 9784 --- [http-nio-8068-exec-8] o.s.s.w.a.i.FilterSecurityInterceptor    : Secure object: FilterInvocation: URL: /api/v1/contractors/me; Attributes: [hasRole('ROLE_CONTRACTOR')]
2020-08-19 21:17:31.325 DEBUG 9784 --- [http-nio-8068-exec-8] o.s.s.w.a.i.FilterSecurityInterceptor    : Previously Authenticated: org.springframework.security.authentication.UsernamePasswordAuthenticationToken@9ae2e8c8: Principal: ru.logisticplatform.security.jwt.JwtUser@4cba5a8b; Credentials: [PROTECTED]; Authenticated: true; Details: null; Granted Authorities: ROLE_CUSTOMER
2020-08-19 21:17:31.325 DEBUG 9784 --- [http-nio-8068-exec-8] o.s.s.access.vote.AffirmativeBased       : Voter: org.springframework.security.web.access.expression.WebExpressionVoter@5f77abec, returned: -1
2020-08-19 21:17:31.326 DEBUG 9784 --- [http-nio-8068-exec-8] o.s.s.w.a.ExceptionTranslationFilter     : Access is denied (user is not anonymous); delegating to AccessDeniedHandler

org.springframework.security.access.AccessDeniedException: Access is denied
	at org.springframework.security.access.vote.AffirmativeBased.decide(AffirmativeBased.java:84) ~[spring-security-core-5.3.3.RELEASE.jar:5.3.3.RELEASE]
	at org.springframework.security.access.intercept.AbstractSecurityInterceptor.beforeInvocation(AbstractSecurityInterceptor.java:233) ~[spring-security-core-5.3.3.RELEASE.jar:5.3.3.RELEASE]
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:123) ~[spring-security-web-5.3.3.RELEASE.jar:5.3.3.RELEASE]
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:90) ~[spring-security-web-5.3.3.RELEASE.jar:5.3.3.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) [spring-security-web-5.3.3.RELEASE.jar:5.3.3.RELEASE]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:118) ~[spring-security-web-5.3.3.RELEASE.jar:5.3.3.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) [spring-security-web-5.3.3.RELEASE.jar:5.3.3.RELEASE]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:137) [spring-security-web-5.3.3.RELEASE.jar:5.3.3.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) [spring-security-web-5.3.3.RELEASE.jar:5.3.3.RELEASE]
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:111) [spring-security-web-5.3.3.RELEASE.jar:5.3.3.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) [spring-security-web-5.3.3.RELEASE.jar:5.3.3.RELEASE]
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:158) [spring-security-web-5.3.3.RELEASE.jar:5.3.3.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) [spring-security-web-5.3.3.RELEASE.jar:5.3.3.RELEASE]
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) [spring-security-web-5.3.3.RELEASE.jar:5.3.3.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) [spring-security-web-5.3.3.RELEASE.jar:5.3.3.RELEASE]
	at ru.logisticplatform.security.jwt.JwtTokenFilter.doFilter(JwtTokenFilter.java:34) [classes/:na]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) [spring-security-web-5.3.3.RELEASE.jar:5.3.3.RELEASE]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:116) [spring-security-web-5.3.3.RELEASE.jar:5.3.3.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) [spring-security-web-5.3.3.RELEASE.jar:5.3.3.RELEASE]
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:92) [spring-security-web-5.3.3.RELEASE.jar:5.3.3.RELEASE]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:77) [spring-security-web-5.3.3.RELEASE.jar:5.3.3.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) [spring-web-5.2.7.RELEASE.jar:5.2.7.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) [spring-security-web-5.3.3.RELEASE.jar:5.3.3.RELEASE]
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:105) [spring-security-web-5.3.3.RELEASE.jar:5.3.3.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) [spring-security-web-5.3.3.RELEASE.jar:5.3.3.RELEASE]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:56) [spring-security-web-5.3.3.RELEASE.jar:5.3.3.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) [spring-web-5.2.7.RELEASE.jar:5.2.7.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) [spring-security-web-5.3.3.RELEASE.jar:5.3.3.RELEASE]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:215) [spring-security-web-5.3.3.RELEASE.jar:5.3.3.RELEASE]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:178) [spring-security-web-5.3.3.RELEASE.jar:5.3.3.RELEASE]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:358) [spring-web-5.2.7.RELEASE.jar:5.2.7.RELEASE]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:271) [spring-web-5.2.7.RELEASE.jar:5.2.7.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-9.0.36.jar:9.0.36]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-9.0.36.jar:9.0.36]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) [spring-web-5.2.7.RELEASE.jar:5.2.7.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) [spring-web-5.2.7.RELEASE.jar:5.2.7.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-9.0.36.jar:9.0.36]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-9.0.36.jar:9.0.36]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) [spring-web-5.2.7.RELEASE.jar:5.2.7.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) [spring-web-5.2.7.RELEASE.jar:5.2.7.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-9.0.36.jar:9.0.36]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-9.0.36.jar:9.0.36]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) [spring-web-5.2.7.RELEASE.jar:5.2.7.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) [spring-web-5.2.7.RELEASE.jar:5.2.7.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-9.0.36.jar:9.0.36]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-9.0.36.jar:9.0.36]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:202) [tomcat-embed-core-9.0.36.jar:9.0.36]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96) [tomcat-embed-core-9.0.36.jar:9.0.36]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541) [tomcat-embed-core-9.0.36.jar:9.0.36]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:139) [tomcat-embed-core-9.0.36.jar:9.0.36]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92) [tomcat-embed-core-9.0.36.jar:9.0.36]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) [tomcat-embed-core-9.0.36.jar:9.0.36]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343) [tomcat-embed-core-9.0.36.jar:9.0.36]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:373) [tomcat-embed-core-9.0.36.jar:9.0.36]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65) [tomcat-embed-core-9.0.36.jar:9.0.36]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:868) [tomcat-embed-core-9.0.36.jar:9.0.36]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1590) [tomcat-embed-core-9.0.36.jar:9.0.36]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) [tomcat-embed-core-9.0.36.jar:9.0.36]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142) [na:1.8.0_111]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617) [na:1.8.0_111]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) [tomcat-embed-core-9.0.36.jar:9.0.36]
	at java.lang.Thread.run(Thread.java:745) [na:1.8.0_111]

2020-08-19 21:17:31.327 DEBUG 9784 --- [http-nio-8068-exec-8] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match the requestMatcher org.springframework.security.web.header.writers.HstsHeaderWriter$SecureRequestMatcher@3590fde3
2020-08-19 21:17:31.327 DEBUG 9784 --- [http-nio-8068-exec-8] s.s.w.c.SecurityContextPersistenceFilter : SecurityContextHolder now cleared, as request processing completed
2020-08-19 21:17:31.327 DEBUG 9784 --- [http-nio-8068-exec-8] o.s.security.web.FilterChainProxy        : /error at position 1 of 11 in additional filter chain; firing Filter: 'WebAsyncManagerIntegrationFilter'
2020-08-19 21:17:31.327 DEBUG 9784 --- [http-nio-8068-exec-8] o.s.security.web.FilterChainProxy        : /error at position 2 of 11 in additional filter chain; firing Filter: 'SecurityContextPersistenceFilter'
2020-08-19 21:17:31.327 DEBUG 9784 --- [http-nio-8068-exec-8] o.s.security.web.FilterChainProxy        : /error at position 3 of 11 in additional filter chain; firing Filter: 'HeaderWriterFilter'
2020-08-19 21:17:31.328 DEBUG 9784 --- [http-nio-8068-exec-8] o.s.security.web.FilterChainProxy        : /error at position 4 of 11 in additional filter chain; firing Filter: 'LogoutFilter'
2020-08-19 21:17:31.328 DEBUG 9784 --- [http-nio-8068-exec-8] o.s.s.web.util.matcher.OrRequestMatcher  : Trying to match using Ant [pattern='/logout', GET]
2020-08-19 21:17:31.328 DEBUG 9784 --- [http-nio-8068-exec-8] o.s.s.w.u.matcher.AntPathRequestMatcher  : Checking match of request : '/error'; against '/logout'
2020-08-19 21:17:31.328 DEBUG 9784 --- [http-nio-8068-exec-8] o.s.s.web.util.matcher.OrRequestMatcher  : Trying to match using Ant [pattern='/logout', POST]
2020-08-19 21:17:31.328 DEBUG 9784 --- [http-nio-8068-exec-8] o.s.s.w.u.matcher.AntPathRequestMatcher  : Request 'GET /error' doesn't match 'POST /logout'
2020-08-19 21:17:31.328 DEBUG 9784 --- [http-nio-8068-exec-8] o.s.s.web.util.matcher.OrRequestMatcher  : Trying to match using Ant [pattern='/logout', PUT]
2020-08-19 21:17:31.328 DEBUG 9784 --- [http-nio-8068-exec-8] o.s.s.w.u.matcher.AntPathRequestMatcher  : Request 'GET /error' doesn't match 'PUT /logout'
2020-08-19 21:17:31.328 DEBUG 9784 --- [http-nio-8068-exec-8] o.s.s.web.util.matcher.OrRequestMatcher  : Trying to match using Ant [pattern='/logout', DELETE]
2020-08-19 21:17:31.328 DEBUG 9784 --- [http-nio-8068-exec-8] o.s.s.w.u.matcher.AntPathRequestMatcher  : Request 'GET /error' doesn't match 'DELETE /logout'
2020-08-19 21:17:31.328 DEBUG 9784 --- [http-nio-8068-exec-8] o.s.s.web.util.matcher.OrRequestMatcher  : No matches found
2020-08-19 21:17:31.328 DEBUG 9784 --- [http-nio-8068-exec-8] o.s.security.web.FilterChainProxy        : /error at position 5 of 11 in additional filter chain; firing Filter: 'JwtTokenFilter'
2020-08-19 21:17:31.334  INFO 9784 --- [http-nio-8068-exec-8] r.l.service.user.impl.UserServiceImpl    : IN UserServiceImpl findByUsername - user: User{username='customer4', firstName='firstName4', lastName='lastName4', email='email4@mail.ru', phone='79449797604', password='$2a$10$4o.U..Oyp9g4PWTeQXZR9OGvYC5ITi4EFkcxlnZtCU4iUf5jjvaS6', roles=[Role{id: 3, name: ROLE_CUSTOMER}], userStatus=ACTIVE} found by userName: customer4
2020-08-19 21:17:31.334  INFO 9784 --- [http-nio-8068-exec-8] r.l.security.JwtUserDetailsService       : IN loadUserByUsername - user with username: customer4 successfully loaded
2020-08-19 21:17:31.334 DEBUG 9784 --- [http-nio-8068-exec-8] o.s.security.web.FilterChainProxy        : /error at position 6 of 11 in additional filter chain; firing Filter: 'RequestCacheAwareFilter'
2020-08-19 21:17:31.334 DEBUG 9784 --- [http-nio-8068-exec-8] o.s.security.web.FilterChainProxy        : /error at position 7 of 11 in additional filter chain; firing Filter: 'SecurityContextHolderAwareRequestFilter'
2020-08-19 21:17:31.334 DEBUG 9784 --- [http-nio-8068-exec-8] o.s.security.web.FilterChainProxy        : /error at position 8 of 11 in additional filter chain; firing Filter: 'AnonymousAuthenticationFilter'
2020-08-19 21:17:31.334 DEBUG 9784 --- [http-nio-8068-exec-8] o.s.s.w.a.AnonymousAuthenticationFilter  : SecurityContextHolder not populated with anonymous token, as it already contained: 'org.springframework.security.authentication.UsernamePasswordAuthenticationToken@dece9fbb: Principal: ru.logisticplatform.security.jwt.JwtUser@8962df8; Credentials: [PROTECTED]; Authenticated: true; Details: null; Granted Authorities: ROLE_CUSTOMER'
2020-08-19 21:17:31.334 DEBUG 9784 --- [http-nio-8068-exec-8] o.s.security.web.FilterChainProxy        : /error at position 9 of 11 in additional filter chain; firing Filter: 'SessionManagementFilter'
2020-08-19 21:17:31.334 DEBUG 9784 --- [http-nio-8068-exec-8] o.s.security.web.FilterChainProxy        : /error at position 10 of 11 in additional filter chain; firing Filter: 'ExceptionTranslationFilter'
2020-08-19 21:17:31.334 DEBUG 9784 --- [http-nio-8068-exec-8] o.s.security.web.FilterChainProxy        : /error at position 11 of 11 in additional filter chain; firing Filter: 'FilterSecurityInterceptor'
2020-08-19 21:17:31.334 DEBUG 9784 --- [http-nio-8068-exec-8] o.s.security.web.FilterChainProxy        : /error reached end of additional filter chain; proceeding with original chain
2020-08-19 21:17:31.336 DEBUG 9784 --- [http-nio-8068-exec-8] o.s.s.w.a.ExceptionTranslationFilter     : Chain processed normally
2020-08-19 21:17:31.337 DEBUG 9784 --- [http-nio-8068-exec-8] s.s.w.c.SecurityContextPersistenceFilter : SecurityContextHolder now cleared, as request processing completed
2020-08-19 21:17:41.703  INFO 9784 --- [SpringContextShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2020-08-19 21:17:41.708  INFO 9784 --- [SpringContextShutdownHook] o.s.s.concurrent.ThreadPoolTaskExecutor  : Shutting down ExecutorService 'applicationTaskExecutor'
2020-08-19 21:17:41.708  INFO 9784 --- [SpringContextShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-2 - Shutdown initiated...
2020-08-19 21:17:41.722  INFO 9784 --- [SpringContextShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-2 - Shutdown completed.
2020-08-19 21:25:27.392  INFO 12196 --- [main] r.l.LogisticPlatformApplication          : Starting LogisticPlatformApplication on DESKTOP-KQ9S95L with PID 12196 (G:\JAVA\avalon\VKR\_logisticplatform\logisticplatform\target\classes started by x in G:\JAVA\avalon\VKR\_logisticplatform\logisticplatform)
2020-08-19 21:25:27.398  INFO 12196 --- [main] r.l.LogisticPlatformApplication          : No active profile set, falling back to default profiles: default
2020-08-19 21:25:28.750  INFO 12196 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFERRED mode.
2020-08-19 21:25:28.913  INFO 12196 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 151ms. Found 9 JPA repository interfaces.
2020-08-19 21:25:29.884  INFO 12196 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8068 (http)
2020-08-19 21:25:29.896  INFO 12196 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2020-08-19 21:25:29.897  INFO 12196 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.36]
2020-08-19 21:25:30.145  INFO 12196 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2020-08-19 21:25:30.146  INFO 12196 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 2665 ms
2020-08-19 21:25:30.360  INFO 12196 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2020-08-19 21:25:30.966  INFO 12196 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2020-08-19 21:25:32.602  INFO 12196 --- [main] liquibase.executor.jvm.JdbcExecutor      : SELECT COUNT(*) FROM logisticplatform.DATABASECHANGELOGLOCK
2020-08-19 21:25:32.610  INFO 12196 --- [main] liquibase.executor.jvm.JdbcExecutor      : SELECT COUNT(*) FROM logisticplatform.DATABASECHANGELOGLOCK
2020-08-19 21:25:32.613  INFO 12196 --- [main] liquibase.executor.jvm.JdbcExecutor      : SELECT `LOCKED` FROM logisticplatform.DATABASECHANGELOGLOCK WHERE ID=1
2020-08-19 21:25:32.682  INFO 12196 --- [main] l.lockservice.StandardLockService        : Successfully acquired change log lock
2020-08-19 21:25:35.494  INFO 12196 --- [main] liquibase.executor.jvm.JdbcExecutor      : SELECT MD5SUM FROM logisticplatform.DATABASECHANGELOG WHERE MD5SUM IS NOT NULL LIMIT 1
2020-08-19 21:25:35.497  INFO 12196 --- [main] liquibase.executor.jvm.JdbcExecutor      : SELECT COUNT(*) FROM logisticplatform.DATABASECHANGELOG
2020-08-19 21:25:35.499  INFO 12196 --- [main] l.c.StandardChangeLogHistoryService      : Reading from logisticplatform.DATABASECHANGELOG
2020-08-19 21:25:35.499  INFO 12196 --- [main] liquibase.executor.jvm.JdbcExecutor      : SELECT * FROM logisticplatform.DATABASECHANGELOG ORDER BY DATEEXECUTED ASC, ORDEREXECUTED ASC
2020-08-19 21:25:35.649  INFO 12196 --- [main] l.lockservice.StandardLockService        : Successfully released change log lock
2020-08-19 21:25:35.650  INFO 12196 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2020-08-19 21:25:35.705  INFO 12196 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2020-08-19 21:25:35.830  INFO 12196 --- [main] o.s.s.concurrent.ThreadPoolTaskExecutor  : Initializing ExecutorService 'applicationTaskExecutor'
2020-08-19 21:25:35.842  INFO 12196 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-2 - Starting...
2020-08-19 21:25:35.842  WARN 12196 --- [main] com.zaxxer.hikari.util.DriverDataSource  : Registered driver with driverClassName=com.mysql.jdbc.Driver was not found, trying direct instantiation.
2020-08-19 21:25:35.864  INFO 12196 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-2 - Start completed.
2020-08-19 21:25:35.938  INFO 12196 --- [task-1] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2020-08-19 21:25:36.043  INFO 12196 --- [task-1] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.4.17.Final
2020-08-19 21:25:36.047  WARN 12196 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2020-08-19 21:25:36.321  INFO 12196 --- [task-1] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.0.Final}
2020-08-19 21:25:36.570  INFO 12196 --- [task-1] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2020-08-19 21:25:36.821 DEBUG 12196 --- [main] eGlobalAuthenticationAutowiredConfigurer : Eagerly initializing {org.springframework.boot.autoconfigure.security.servlet.WebSecurityEnablerConfiguration=org.springframework.boot.autoconfigure.security.servlet.WebSecurityEnablerConfiguration@37816ea6}
2020-08-19 21:25:36.953 DEBUG 12196 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression 'permitAll', for Ant [pattern='/api/v1/sign/**']
2020-08-19 21:25:36.957 DEBUG 12196 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression 'hasRole('ROLE_ADMIN')', for Ant [pattern='/api/v1/admins/**']
2020-08-19 21:25:37.193 DEBUG 12196 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression 'hasRole('ROLE_CUSTOMER')', for Ant [pattern='/api/v1/customers/**']
2020-08-19 21:25:37.193 DEBUG 12196 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression 'hasAnyRole('ROLE_CONTRACTOR','ROLE_CUSTOMER')', for Ant [pattern='/api/v1/contractors/**']
2020-08-19 21:25:37.193 DEBUG 12196 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression 'authenticated', for any request
2020-08-19 21:25:37.202 DEBUG 12196 --- [main] o.s.s.w.a.i.FilterSecurityInterceptor    : Validated configuration attributes
2020-08-19 21:25:37.204 DEBUG 12196 --- [main] o.s.s.w.a.i.FilterSecurityInterceptor    : Validated configuration attributes
2020-08-19 21:25:37.206  INFO 12196 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: any request, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@4fea23d6, org.springframework.security.web.context.SecurityContextPersistenceFilter@4529048e, org.springframework.security.web.header.HeaderWriterFilter@3d01b609, org.springframework.security.web.authentication.logout.LogoutFilter@360d3f47, ru.logisticplatform.security.jwt.JwtTokenFilter@5ace6611, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@74b521c, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@10df1f34, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@7a689979, org.springframework.security.web.session.SessionManagementFilter@1d4e06bb, org.springframework.security.web.access.ExceptionTranslationFilter@2053b761, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@7010c9e4]
2020-08-19 21:25:37.273  INFO 12196 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8068 (http) with context path ''
2020-08-19 21:25:37.277  INFO 12196 --- [main] DeferredRepositoryInitializationListener : Triggering deferred initialization of Spring Data repositoriesâ€¦
2020-08-19 21:25:37.918  INFO 12196 --- [task-1] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2020-08-19 21:25:37.930  INFO 12196 --- [task-1] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2020-08-19 21:25:38.628  INFO 12196 --- [main] DeferredRepositoryInitializationListener : Spring Data repositories initialized!
2020-08-19 21:25:38.647  INFO 12196 --- [main] r.l.LogisticPlatformApplication          : Started LogisticPlatformApplication in 12.195 seconds (JVM running for 13.429)
2020-08-19 21:27:10.811  INFO 12196 --- [http-nio-8068-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2020-08-19 21:27:10.811  INFO 12196 --- [http-nio-8068-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2020-08-19 21:27:10.819  INFO 12196 --- [http-nio-8068-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 8 ms
2020-08-19 21:27:10.836 DEBUG 12196 --- [http-nio-8068-exec-1] o.s.security.web.FilterChainProxy        : /api/v1/contractors/me at position 1 of 11 in additional filter chain; firing Filter: 'WebAsyncManagerIntegrationFilter'
2020-08-19 21:27:10.837 DEBUG 12196 --- [http-nio-8068-exec-1] o.s.security.web.FilterChainProxy        : /api/v1/contractors/me at position 2 of 11 in additional filter chain; firing Filter: 'SecurityContextPersistenceFilter'
2020-08-19 21:27:10.840 DEBUG 12196 --- [http-nio-8068-exec-1] o.s.security.web.FilterChainProxy        : /api/v1/contractors/me at position 3 of 11 in additional filter chain; firing Filter: 'HeaderWriterFilter'
2020-08-19 21:27:10.842 DEBUG 12196 --- [http-nio-8068-exec-1] o.s.security.web.FilterChainProxy        : /api/v1/contractors/me at position 4 of 11 in additional filter chain; firing Filter: 'LogoutFilter'
2020-08-19 21:27:10.842 DEBUG 12196 --- [http-nio-8068-exec-1] o.s.s.web.util.matcher.OrRequestMatcher  : Trying to match using Ant [pattern='/logout', GET]
2020-08-19 21:27:10.842 DEBUG 12196 --- [http-nio-8068-exec-1] o.s.s.w.u.matcher.AntPathRequestMatcher  : Checking match of request : '/api/v1/contractors/me'; against '/logout'
2020-08-19 21:27:10.842 DEBUG 12196 --- [http-nio-8068-exec-1] o.s.s.web.util.matcher.OrRequestMatcher  : Trying to match using Ant [pattern='/logout', POST]
2020-08-19 21:27:10.842 DEBUG 12196 --- [http-nio-8068-exec-1] o.s.s.w.u.matcher.AntPathRequestMatcher  : Request 'GET /api/v1/contractors/me' doesn't match 'POST /logout'
2020-08-19 21:27:10.842 DEBUG 12196 --- [http-nio-8068-exec-1] o.s.s.web.util.matcher.OrRequestMatcher  : Trying to match using Ant [pattern='/logout', PUT]
2020-08-19 21:27:10.843 DEBUG 12196 --- [http-nio-8068-exec-1] o.s.s.w.u.matcher.AntPathRequestMatcher  : Request 'GET /api/v1/contractors/me' doesn't match 'PUT /logout'
2020-08-19 21:27:10.843 DEBUG 12196 --- [http-nio-8068-exec-1] o.s.s.web.util.matcher.OrRequestMatcher  : Trying to match using Ant [pattern='/logout', DELETE]
2020-08-19 21:27:10.843 DEBUG 12196 --- [http-nio-8068-exec-1] o.s.s.w.u.matcher.AntPathRequestMatcher  : Request 'GET /api/v1/contractors/me' doesn't match 'DELETE /logout'
2020-08-19 21:27:10.843 DEBUG 12196 --- [http-nio-8068-exec-1] o.s.s.web.util.matcher.OrRequestMatcher  : No matches found
2020-08-19 21:27:10.843 DEBUG 12196 --- [http-nio-8068-exec-1] o.s.security.web.FilterChainProxy        : /api/v1/contractors/me at position 5 of 11 in additional filter chain; firing Filter: 'JwtTokenFilter'
2020-08-19 21:27:11.138  INFO 12196 --- [http-nio-8068-exec-1] r.l.service.user.impl.UserServiceImpl    : IN UserServiceImpl findByUsername - user: User{username='customer4', firstName='firstName4', lastName='lastName4', email='email4@mail.ru', phone='79449797604', password='$2a$10$4o.U..Oyp9g4PWTeQXZR9OGvYC5ITi4EFkcxlnZtCU4iUf5jjvaS6', roles=[Role{id: 3, name: ROLE_CUSTOMER}], userStatus=ACTIVE} found by userName: customer4
2020-08-19 21:27:11.140  INFO 12196 --- [http-nio-8068-exec-1] r.l.security.JwtUserDetailsService       : IN loadUserByUsername - user with username: customer4 successfully loaded
2020-08-19 21:27:11.140 DEBUG 12196 --- [http-nio-8068-exec-1] o.s.security.web.FilterChainProxy        : /api/v1/contractors/me at position 6 of 11 in additional filter chain; firing Filter: 'RequestCacheAwareFilter'
2020-08-19 21:27:11.141 DEBUG 12196 --- [http-nio-8068-exec-1] o.s.security.web.FilterChainProxy        : /api/v1/contractors/me at position 7 of 11 in additional filter chain; firing Filter: 'SecurityContextHolderAwareRequestFilter'
2020-08-19 21:27:11.142 DEBUG 12196 --- [http-nio-8068-exec-1] o.s.security.web.FilterChainProxy        : /api/v1/contractors/me at position 8 of 11 in additional filter chain; firing Filter: 'AnonymousAuthenticationFilter'
2020-08-19 21:27:11.142 DEBUG 12196 --- [http-nio-8068-exec-1] o.s.s.w.a.AnonymousAuthenticationFilter  : SecurityContextHolder not populated with anonymous token, as it already contained: 'org.springframework.security.authentication.UsernamePasswordAuthenticationToken@e9d0a680: Principal: ru.logisticplatform.security.jwt.JwtUser@3f8814c3; Credentials: [PROTECTED]; Authenticated: true; Details: null; Granted Authorities: ROLE_CUSTOMER'
2020-08-19 21:27:11.143 DEBUG 12196 --- [http-nio-8068-exec-1] o.s.security.web.FilterChainProxy        : /api/v1/contractors/me at position 9 of 11 in additional filter chain; firing Filter: 'SessionManagementFilter'
2020-08-19 21:27:11.143 DEBUG 12196 --- [http-nio-8068-exec-1] s.CompositeSessionAuthenticationStrategy : Delegating to org.springframework.security.web.authentication.session.ChangeSessionIdAuthenticationStrategy@56ed2baf
2020-08-19 21:27:11.143 DEBUG 12196 --- [http-nio-8068-exec-1] o.s.security.web.FilterChainProxy        : /api/v1/contractors/me at position 10 of 11 in additional filter chain; firing Filter: 'ExceptionTranslationFilter'
2020-08-19 21:27:11.143 DEBUG 12196 --- [http-nio-8068-exec-1] o.s.security.web.FilterChainProxy        : /api/v1/contractors/me at position 11 of 11 in additional filter chain; firing Filter: 'FilterSecurityInterceptor'
2020-08-19 21:27:11.143 DEBUG 12196 --- [http-nio-8068-exec-1] o.s.s.w.u.matcher.AntPathRequestMatcher  : Checking match of request : '/api/v1/contractors/me'; against '/api/v1/sign/**'
2020-08-19 21:27:11.144 DEBUG 12196 --- [http-nio-8068-exec-1] o.s.s.w.u.matcher.AntPathRequestMatcher  : Checking match of request : '/api/v1/contractors/me'; against '/api/v1/admins/**'
2020-08-19 21:27:11.144 DEBUG 12196 --- [http-nio-8068-exec-1] o.s.s.w.u.matcher.AntPathRequestMatcher  : Checking match of request : '/api/v1/contractors/me'; against '/api/v1/customers/**'
2020-08-19 21:27:11.144 DEBUG 12196 --- [http-nio-8068-exec-1] o.s.s.w.u.matcher.AntPathRequestMatcher  : Checking match of request : '/api/v1/contractors/me'; against '/api/v1/contractors/**'
2020-08-19 21:27:11.144 DEBUG 12196 --- [http-nio-8068-exec-1] o.s.s.w.a.i.FilterSecurityInterceptor    : Secure object: FilterInvocation: URL: /api/v1/contractors/me; Attributes: [hasAnyRole('ROLE_CONTRACTOR','ROLE_CUSTOMER')]
2020-08-19 21:27:11.144 DEBUG 12196 --- [http-nio-8068-exec-1] o.s.s.w.a.i.FilterSecurityInterceptor    : Previously Authenticated: org.springframework.security.authentication.UsernamePasswordAuthenticationToken@e9d0a680: Principal: ru.logisticplatform.security.jwt.JwtUser@3f8814c3; Credentials: [PROTECTED]; Authenticated: true; Details: null; Granted Authorities: ROLE_CUSTOMER
2020-08-19 21:27:11.148 DEBUG 12196 --- [http-nio-8068-exec-1] o.s.s.access.vote.AffirmativeBased       : Voter: org.springframework.security.web.access.expression.WebExpressionVoter@12a1f39d, returned: 1
2020-08-19 21:27:11.149 DEBUG 12196 --- [http-nio-8068-exec-1] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorization successful
2020-08-19 21:27:11.149 DEBUG 12196 --- [http-nio-8068-exec-1] o.s.s.w.a.i.FilterSecurityInterceptor    : RunAsManager did not change Authentication object
2020-08-19 21:27:11.149 DEBUG 12196 --- [http-nio-8068-exec-1] o.s.security.web.FilterChainProxy        : /api/v1/contractors/me reached end of additional filter chain; proceeding with original chain
2020-08-19 21:27:11.178  INFO 12196 --- [http-nio-8068-exec-1] r.l.service.user.impl.UserServiceImpl    : IN UserServiceImpl findByUsername - user: User{username='customer4', firstName='firstName4', lastName='lastName4', email='email4@mail.ru', phone='79449797604', password='$2a$10$4o.U..Oyp9g4PWTeQXZR9OGvYC5ITi4EFkcxlnZtCU4iUf5jjvaS6', roles=[Role{id: 3, name: ROLE_CUSTOMER}], userStatus=ACTIVE} found by userName: customer4
2020-08-19 21:27:11.315 DEBUG 12196 --- [http-nio-8068-exec-1] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match the requestMatcher org.springframework.security.web.header.writers.HstsHeaderWriter$SecureRequestMatcher@5983e658
2020-08-19 21:27:11.321 DEBUG 12196 --- [http-nio-8068-exec-1] o.s.s.w.a.ExceptionTranslationFilter     : Chain processed normally
2020-08-19 21:27:11.322 DEBUG 12196 --- [http-nio-8068-exec-1] s.s.w.c.SecurityContextPersistenceFilter : SecurityContextHolder now cleared, as request processing completed
2020-08-19 21:27:42.286 DEBUG 12196 --- [http-nio-8068-exec-3] o.s.security.web.FilterChainProxy        : /api/v1/sign/in at position 1 of 11 in additional filter chain; firing Filter: 'WebAsyncManagerIntegrationFilter'
2020-08-19 21:27:42.286 DEBUG 12196 --- [http-nio-8068-exec-3] o.s.security.web.FilterChainProxy        : /api/v1/sign/in at position 2 of 11 in additional filter chain; firing Filter: 'SecurityContextPersistenceFilter'
2020-08-19 21:27:42.286 DEBUG 12196 --- [http-nio-8068-exec-3] o.s.security.web.FilterChainProxy        : /api/v1/sign/in at position 3 of 11 in additional filter chain; firing Filter: 'HeaderWriterFilter'
2020-08-19 21:27:42.286 DEBUG 12196 --- [http-nio-8068-exec-3] o.s.security.web.FilterChainProxy        : /api/v1/sign/in at position 4 of 11 in additional filter chain; firing Filter: 'LogoutFilter'
2020-08-19 21:27:42.287 DEBUG 12196 --- [http-nio-8068-exec-3] o.s.s.web.util.matcher.OrRequestMatcher  : Trying to match using Ant [pattern='/logout', GET]
2020-08-19 21:27:42.287 DEBUG 12196 --- [http-nio-8068-exec-3] o.s.s.w.u.matcher.AntPathRequestMatcher  : Request 'POST /api/v1/sign/in' doesn't match 'GET /logout'
2020-08-19 21:27:42.287 DEBUG 12196 --- [http-nio-8068-exec-3] o.s.s.web.util.matcher.OrRequestMatcher  : Trying to match using Ant [pattern='/logout', POST]
2020-08-19 21:27:42.287 DEBUG 12196 --- [http-nio-8068-exec-3] o.s.s.w.u.matcher.AntPathRequestMatcher  : Checking match of request : '/api/v1/sign/in'; against '/logout'
2020-08-19 21:27:42.287 DEBUG 12196 --- [http-nio-8068-exec-3] o.s.s.web.util.matcher.OrRequestMatcher  : Trying to match using Ant [pattern='/logout', PUT]
2020-08-19 21:27:42.287 DEBUG 12196 --- [http-nio-8068-exec-3] o.s.s.w.u.matcher.AntPathRequestMatcher  : Request 'POST /api/v1/sign/in' doesn't match 'PUT /logout'
2020-08-19 21:27:42.287 DEBUG 12196 --- [http-nio-8068-exec-3] o.s.s.web.util.matcher.OrRequestMatcher  : Trying to match using Ant [pattern='/logout', DELETE]
2020-08-19 21:27:42.287 DEBUG 12196 --- [http-nio-8068-exec-3] o.s.s.w.u.matcher.AntPathRequestMatcher  : Request 'POST /api/v1/sign/in' doesn't match 'DELETE /logout'
2020-08-19 21:27:42.287 DEBUG 12196 --- [http-nio-8068-exec-3] o.s.s.web.util.matcher.OrRequestMatcher  : No matches found
2020-08-19 21:27:42.288 DEBUG 12196 --- [http-nio-8068-exec-3] o.s.security.web.FilterChainProxy        : /api/v1/sign/in at position 5 of 11 in additional filter chain; firing Filter: 'JwtTokenFilter'
2020-08-19 21:27:42.288 DEBUG 12196 --- [http-nio-8068-exec-3] o.s.security.web.FilterChainProxy        : /api/v1/sign/in at position 6 of 11 in additional filter chain; firing Filter: 'RequestCacheAwareFilter'
2020-08-19 21:27:42.288 DEBUG 12196 --- [http-nio-8068-exec-3] o.s.security.web.FilterChainProxy        : /api/v1/sign/in at position 7 of 11 in additional filter chain; firing Filter: 'SecurityContextHolderAwareRequestFilter'
2020-08-19 21:27:42.288 DEBUG 12196 --- [http-nio-8068-exec-3] o.s.security.web.FilterChainProxy        : /api/v1/sign/in at position 8 of 11 in additional filter chain; firing Filter: 'AnonymousAuthenticationFilter'
2020-08-19 21:27:42.289 DEBUG 12196 --- [http-nio-8068-exec-3] o.s.s.w.a.AnonymousAuthenticationFilter  : Populated SecurityContextHolder with anonymous token: 'org.springframework.security.authentication.AnonymousAuthenticationToken@9e256a02: Principal: anonymousUser; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_ANONYMOUS'
2020-08-19 21:27:42.289 DEBUG 12196 --- [http-nio-8068-exec-3] o.s.security.web.FilterChainProxy        : /api/v1/sign/in at position 9 of 11 in additional filter chain; firing Filter: 'SessionManagementFilter'
2020-08-19 21:27:42.289 DEBUG 12196 --- [http-nio-8068-exec-3] o.s.security.web.FilterChainProxy        : /api/v1/sign/in at position 10 of 11 in additional filter chain; firing Filter: 'ExceptionTranslationFilter'
2020-08-19 21:27:42.290 DEBUG 12196 --- [http-nio-8068-exec-3] o.s.security.web.FilterChainProxy        : /api/v1/sign/in at position 11 of 11 in additional filter chain; firing Filter: 'FilterSecurityInterceptor'
2020-08-19 21:27:42.290 DEBUG 12196 --- [http-nio-8068-exec-3] o.s.s.w.u.matcher.AntPathRequestMatcher  : Checking match of request : '/api/v1/sign/in'; against '/api/v1/sign/**'
2020-08-19 21:27:42.290 DEBUG 12196 --- [http-nio-8068-exec-3] o.s.s.w.a.i.FilterSecurityInterceptor    : Secure object: FilterInvocation: URL: /api/v1/sign/in; Attributes: [permitAll]
2020-08-19 21:27:42.290 DEBUG 12196 --- [http-nio-8068-exec-3] o.s.s.w.a.i.FilterSecurityInterceptor    : Previously Authenticated: org.springframework.security.authentication.AnonymousAuthenticationToken@9e256a02: Principal: anonymousUser; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_ANONYMOUS
2020-08-19 21:27:42.295 DEBUG 12196 --- [http-nio-8068-exec-3] o.s.s.access.vote.AffirmativeBased       : Voter: org.springframework.security.web.access.expression.WebExpressionVoter@12a1f39d, returned: 1
2020-08-19 21:27:42.295 DEBUG 12196 --- [http-nio-8068-exec-3] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorization successful
2020-08-19 21:27:42.295 DEBUG 12196 --- [http-nio-8068-exec-3] o.s.s.w.a.i.FilterSecurityInterceptor    : RunAsManager did not change Authentication object
2020-08-19 21:27:42.295 DEBUG 12196 --- [http-nio-8068-exec-3] o.s.security.web.FilterChainProxy        : /api/v1/sign/in reached end of additional filter chain; proceeding with original chain
2020-08-19 21:27:42.334 DEBUG 12196 --- [http-nio-8068-exec-3] o.s.s.authentication.ProviderManager     : Authentication attempt using org.springframework.security.authentication.dao.DaoAuthenticationProvider
2020-08-19 21:27:42.470  INFO 12196 --- [http-nio-8068-exec-3] r.l.service.user.impl.UserServiceImpl    : IN UserServiceImpl findByUsername - user: User{username='contractor2', firstName='firstName2', lastName='lastName2', email='email2@mail.ru', phone='79229797602', password='$2a$10$Uzl41xR.OUV7m1pFV0zRuO85fGWOWZNK2TY36aDr1gn5rn3uNZGU.', roles=[Role{id: 2, name: ROLE_CONTRACTOR}], userStatus=ACTIVE} found by userName: contractor2
2020-08-19 21:27:42.470  INFO 12196 --- [http-nio-8068-exec-3] r.l.security.JwtUserDetailsService       : IN loadUserByUsername - user with username: contractor2 successfully loaded
2020-08-19 21:27:42.600  INFO 12196 --- [http-nio-8068-exec-3] r.l.service.user.impl.UserServiceImpl    : IN UserServiceImpl findByUsername - user: User{username='contractor2', firstName='firstName2', lastName='lastName2', email='email2@mail.ru', phone='79229797602', password='$2a$10$Uzl41xR.OUV7m1pFV0zRuO85fGWOWZNK2TY36aDr1gn5rn3uNZGU.', roles=[Role{id: 2, name: ROLE_CONTRACTOR}], userStatus=ACTIVE} found by userName: contractor2
2020-08-19 21:27:42.626 DEBUG 12196 --- [http-nio-8068-exec-3] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match the requestMatcher org.springframework.security.web.header.writers.HstsHeaderWriter$SecureRequestMatcher@5983e658
2020-08-19 21:27:42.628 DEBUG 12196 --- [http-nio-8068-exec-3] o.s.s.w.a.ExceptionTranslationFilter     : Chain processed normally
2020-08-19 21:27:42.628 DEBUG 12196 --- [http-nio-8068-exec-3] s.s.w.c.SecurityContextPersistenceFilter : SecurityContextHolder now cleared, as request processing completed
2020-08-19 21:27:57.469 DEBUG 12196 --- [http-nio-8068-exec-4] o.s.security.web.FilterChainProxy        : /api/v1/contractors/me at position 1 of 11 in additional filter chain; firing Filter: 'WebAsyncManagerIntegrationFilter'
2020-08-19 21:27:57.469 DEBUG 12196 --- [http-nio-8068-exec-4] o.s.security.web.FilterChainProxy        : /api/v1/contractors/me at position 2 of 11 in additional filter chain; firing Filter: 'SecurityContextPersistenceFilter'
2020-08-19 21:27:57.469 DEBUG 12196 --- [http-nio-8068-exec-4] o.s.security.web.FilterChainProxy        : /api/v1/contractors/me at position 3 of 11 in additional filter chain; firing Filter: 'HeaderWriterFilter'
2020-08-19 21:27:57.469 DEBUG 12196 --- [http-nio-8068-exec-4] o.s.security.web.FilterChainProxy        : /api/v1/contractors/me at position 4 of 11 in additional filter chain; firing Filter: 'LogoutFilter'
2020-08-19 21:27:57.469 DEBUG 12196 --- [http-nio-8068-exec-4] o.s.s.web.util.matcher.OrRequestMatcher  : Trying to match using Ant [pattern='/logout', GET]
2020-08-19 21:27:57.469 DEBUG 12196 --- [http-nio-8068-exec-4] o.s.s.w.u.matcher.AntPathRequestMatcher  : Checking match of request : '/api/v1/contractors/me'; against '/logout'
2020-08-19 21:27:57.470 DEBUG 12196 --- [http-nio-8068-exec-4] o.s.s.web.util.matcher.OrRequestMatcher  : Trying to match using Ant [pattern='/logout', POST]
2020-08-19 21:27:57.470 DEBUG 12196 --- [http-nio-8068-exec-4] o.s.s.w.u.matcher.AntPathRequestMatcher  : Request 'GET /api/v1/contractors/me' doesn't match 'POST /logout'
2020-08-19 21:27:57.470 DEBUG 12196 --- [http-nio-8068-exec-4] o.s.s.web.util.matcher.OrRequestMatcher  : Trying to match using Ant [pattern='/logout', PUT]
2020-08-19 21:27:57.470 DEBUG 12196 --- [http-nio-8068-exec-4] o.s.s.w.u.matcher.AntPathRequestMatcher  : Request 'GET /api/v1/contractors/me' doesn't match 'PUT /logout'
2020-08-19 21:27:57.470 DEBUG 12196 --- [http-nio-8068-exec-4] o.s.s.web.util.matcher.OrRequestMatcher  : Trying to match using Ant [pattern='/logout', DELETE]
2020-08-19 21:27:57.470 DEBUG 12196 --- [http-nio-8068-exec-4] o.s.s.w.u.matcher.AntPathRequestMatcher  : Request 'GET /api/v1/contractors/me' doesn't match 'DELETE /logout'
2020-08-19 21:27:57.470 DEBUG 12196 --- [http-nio-8068-exec-4] o.s.s.web.util.matcher.OrRequestMatcher  : No matches found
2020-08-19 21:27:57.470 DEBUG 12196 --- [http-nio-8068-exec-4] o.s.security.web.FilterChainProxy        : /api/v1/contractors/me at position 5 of 11 in additional filter chain; firing Filter: 'JwtTokenFilter'
2020-08-19 21:27:57.478  INFO 12196 --- [http-nio-8068-exec-4] r.l.service.user.impl.UserServiceImpl    : IN UserServiceImpl findByUsername - user: User{username='contractor2', firstName='firstName2', lastName='lastName2', email='email2@mail.ru', phone='79229797602', password='$2a$10$Uzl41xR.OUV7m1pFV0zRuO85fGWOWZNK2TY36aDr1gn5rn3uNZGU.', roles=[Role{id: 2, name: ROLE_CONTRACTOR}], userStatus=ACTIVE} found by userName: contractor2
2020-08-19 21:27:57.479  INFO 12196 --- [http-nio-8068-exec-4] r.l.security.JwtUserDetailsService       : IN loadUserByUsername - user with username: contractor2 successfully loaded
2020-08-19 21:27:57.479 DEBUG 12196 --- [http-nio-8068-exec-4] o.s.security.web.FilterChainProxy        : /api/v1/contractors/me at position 6 of 11 in additional filter chain; firing Filter: 'RequestCacheAwareFilter'
2020-08-19 21:27:57.479 DEBUG 12196 --- [http-nio-8068-exec-4] o.s.security.web.FilterChainProxy        : /api/v1/contractors/me at position 7 of 11 in additional filter chain; firing Filter: 'SecurityContextHolderAwareRequestFilter'
2020-08-19 21:27:57.479 DEBUG 12196 --- [http-nio-8068-exec-4] o.s.security.web.FilterChainProxy        : /api/v1/contractors/me at position 8 of 11 in additional filter chain; firing Filter: 'AnonymousAuthenticationFilter'
2020-08-19 21:27:57.479 DEBUG 12196 --- [http-nio-8068-exec-4] o.s.s.w.a.AnonymousAuthenticationFilter  : SecurityContextHolder not populated with anonymous token, as it already contained: 'org.springframework.security.authentication.UsernamePasswordAuthenticationToken@4b981c04: Principal: ru.logisticplatform.security.jwt.JwtUser@5419c61e; Credentials: [PROTECTED]; Authenticated: true; Details: null; Granted Authorities: ROLE_CONTRACTOR'
2020-08-19 21:27:57.479 DEBUG 12196 --- [http-nio-8068-exec-4] o.s.security.web.FilterChainProxy        : /api/v1/contractors/me at position 9 of 11 in additional filter chain; firing Filter: 'SessionManagementFilter'
2020-08-19 21:27:57.479 DEBUG 12196 --- [http-nio-8068-exec-4] s.CompositeSessionAuthenticationStrategy : Delegating to org.springframework.security.web.authentication.session.ChangeSessionIdAuthenticationStrategy@56ed2baf
2020-08-19 21:27:57.479 DEBUG 12196 --- [http-nio-8068-exec-4] o.s.security.web.FilterChainProxy        : /api/v1/contractors/me at position 10 of 11 in additional filter chain; firing Filter: 'ExceptionTranslationFilter'
2020-08-19 21:27:57.480 DEBUG 12196 --- [http-nio-8068-exec-4] o.s.security.web.FilterChainProxy        : /api/v1/contractors/me at position 11 of 11 in additional filter chain; firing Filter: 'FilterSecurityInterceptor'
2020-08-19 21:27:57.480 DEBUG 12196 --- [http-nio-8068-exec-4] o.s.s.w.u.matcher.AntPathRequestMatcher  : Checking match of request : '/api/v1/contractors/me'; against '/api/v1/sign/**'
2020-08-19 21:27:57.480 DEBUG 12196 --- [http-nio-8068-exec-4] o.s.s.w.u.matcher.AntPathRequestMatcher  : Checking match of request : '/api/v1/contractors/me'; against '/api/v1/admins/**'
2020-08-19 21:27:57.480 DEBUG 12196 --- [http-nio-8068-exec-4] o.s.s.w.u.matcher.AntPathRequestMatcher  : Checking match of request : '/api/v1/contractors/me'; against '/api/v1/customers/**'
2020-08-19 21:27:57.480 DEBUG 12196 --- [http-nio-8068-exec-4] o.s.s.w.u.matcher.AntPathRequestMatcher  : Checking match of request : '/api/v1/contractors/me'; against '/api/v1/contractors/**'
2020-08-19 21:27:57.480 DEBUG 12196 --- [http-nio-8068-exec-4] o.s.s.w.a.i.FilterSecurityInterceptor    : Secure object: FilterInvocation: URL: /api/v1/contractors/me; Attributes: [hasAnyRole('ROLE_CONTRACTOR','ROLE_CUSTOMER')]
2020-08-19 21:27:57.480 DEBUG 12196 --- [http-nio-8068-exec-4] o.s.s.w.a.i.FilterSecurityInterceptor    : Previously Authenticated: org.springframework.security.authentication.UsernamePasswordAuthenticationToken@4b981c04: Principal: ru.logisticplatform.security.jwt.JwtUser@5419c61e; Credentials: [PROTECTED]; Authenticated: true; Details: null; Granted Authorities: ROLE_CONTRACTOR
2020-08-19 21:27:57.481 DEBUG 12196 --- [http-nio-8068-exec-4] o.s.s.access.vote.AffirmativeBased       : Voter: org.springframework.security.web.access.expression.WebExpressionVoter@12a1f39d, returned: 1
2020-08-19 21:27:57.481 DEBUG 12196 --- [http-nio-8068-exec-4] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorization successful
2020-08-19 21:27:57.482 DEBUG 12196 --- [http-nio-8068-exec-4] o.s.s.w.a.i.FilterSecurityInterceptor    : RunAsManager did not change Authentication object
2020-08-19 21:27:57.482 DEBUG 12196 --- [http-nio-8068-exec-4] o.s.security.web.FilterChainProxy        : /api/v1/contractors/me reached end of additional filter chain; proceeding with original chain
2020-08-19 21:27:57.486  INFO 12196 --- [http-nio-8068-exec-4] r.l.service.user.impl.UserServiceImpl    : IN UserServiceImpl findByUsername - user: User{username='contractor2', firstName='firstName2', lastName='lastName2', email='email2@mail.ru', phone='79229797602', password='$2a$10$Uzl41xR.OUV7m1pFV0zRuO85fGWOWZNK2TY36aDr1gn5rn3uNZGU.', roles=[Role{id: 2, name: ROLE_CONTRACTOR}], userStatus=ACTIVE} found by userName: contractor2
2020-08-19 21:27:57.488 DEBUG 12196 --- [http-nio-8068-exec-4] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match the requestMatcher org.springframework.security.web.header.writers.HstsHeaderWriter$SecureRequestMatcher@5983e658
2020-08-19 21:27:57.489 DEBUG 12196 --- [http-nio-8068-exec-4] o.s.s.w.a.ExceptionTranslationFilter     : Chain processed normally
2020-08-19 21:27:57.490 DEBUG 12196 --- [http-nio-8068-exec-4] s.s.w.c.SecurityContextPersistenceFilter : SecurityContextHolder now cleared, as request processing completed
2020-08-19 21:28:08.297 DEBUG 12196 --- [http-nio-8068-exec-5] o.s.security.web.FilterChainProxy        : /api/v1/sign/in at position 1 of 11 in additional filter chain; firing Filter: 'WebAsyncManagerIntegrationFilter'
2020-08-19 21:28:08.298 DEBUG 12196 --- [http-nio-8068-exec-5] o.s.security.web.FilterChainProxy        : /api/v1/sign/in at position 2 of 11 in additional filter chain; firing Filter: 'SecurityContextPersistenceFilter'
2020-08-19 21:28:08.298 DEBUG 12196 --- [http-nio-8068-exec-5] o.s.security.web.FilterChainProxy        : /api/v1/sign/in at position 3 of 11 in additional filter chain; firing Filter: 'HeaderWriterFilter'
2020-08-19 21:28:08.298 DEBUG 12196 --- [http-nio-8068-exec-5] o.s.security.web.FilterChainProxy        : /api/v1/sign/in at position 4 of 11 in additional filter chain; firing Filter: 'LogoutFilter'
2020-08-19 21:28:08.298 DEBUG 12196 --- [http-nio-8068-exec-5] o.s.s.web.util.matcher.OrRequestMatcher  : Trying to match using Ant [pattern='/logout', GET]
2020-08-19 21:28:08.298 DEBUG 12196 --- [http-nio-8068-exec-5] o.s.s.w.u.matcher.AntPathRequestMatcher  : Request 'POST /api/v1/sign/in' doesn't match 'GET /logout'
2020-08-19 21:28:08.298 DEBUG 12196 --- [http-nio-8068-exec-5] o.s.s.web.util.matcher.OrRequestMatcher  : Trying to match using Ant [pattern='/logout', POST]
2020-08-19 21:28:08.298 DEBUG 12196 --- [http-nio-8068-exec-5] o.s.s.w.u.matcher.AntPathRequestMatcher  : Checking match of request : '/api/v1/sign/in'; against '/logout'
2020-08-19 21:28:08.298 DEBUG 12196 --- [http-nio-8068-exec-5] o.s.s.web.util.matcher.OrRequestMatcher  : Trying to match using Ant [pattern='/logout', PUT]
2020-08-19 21:28:08.299 DEBUG 12196 --- [http-nio-8068-exec-5] o.s.s.w.u.matcher.AntPathRequestMatcher  : Request 'POST /api/v1/sign/in' doesn't match 'PUT /logout'
2020-08-19 21:28:08.299 DEBUG 12196 --- [http-nio-8068-exec-5] o.s.s.web.util.matcher.OrRequestMatcher  : Trying to match using Ant [pattern='/logout', DELETE]
2020-08-19 21:28:08.299 DEBUG 12196 --- [http-nio-8068-exec-5] o.s.s.w.u.matcher.AntPathRequestMatcher  : Request 'POST /api/v1/sign/in' doesn't match 'DELETE /logout'
2020-08-19 21:28:08.299 DEBUG 12196 --- [http-nio-8068-exec-5] o.s.s.web.util.matcher.OrRequestMatcher  : No matches found
2020-08-19 21:28:08.299 DEBUG 12196 --- [http-nio-8068-exec-5] o.s.security.web.FilterChainProxy        : /api/v1/sign/in at position 5 of 11 in additional filter chain; firing Filter: 'JwtTokenFilter'
2020-08-19 21:28:08.299 DEBUG 12196 --- [http-nio-8068-exec-5] o.s.security.web.FilterChainProxy        : /api/v1/sign/in at position 6 of 11 in additional filter chain; firing Filter: 'RequestCacheAwareFilter'
2020-08-19 21:28:08.299 DEBUG 12196 --- [http-nio-8068-exec-5] o.s.security.web.FilterChainProxy        : /api/v1/sign/in at position 7 of 11 in additional filter chain; firing Filter: 'SecurityContextHolderAwareRequestFilter'
2020-08-19 21:28:08.299 DEBUG 12196 --- [http-nio-8068-exec-5] o.s.security.web.FilterChainProxy        : /api/v1/sign/in at position 8 of 11 in additional filter chain; firing Filter: 'AnonymousAuthenticationFilter'
2020-08-19 21:28:08.299 DEBUG 12196 --- [http-nio-8068-exec-5] o.s.s.w.a.AnonymousAuthenticationFilter  : Populated SecurityContextHolder with anonymous token: 'org.springframework.security.authentication.AnonymousAuthenticationToken@9e256a02: Principal: anonymousUser; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_ANONYMOUS'
2020-08-19 21:28:08.300 DEBUG 12196 --- [http-nio-8068-exec-5] o.s.security.web.FilterChainProxy        : /api/v1/sign/in at position 9 of 11 in additional filter chain; firing Filter: 'SessionManagementFilter'
2020-08-19 21:28:08.300 DEBUG 12196 --- [http-nio-8068-exec-5] o.s.security.web.FilterChainProxy        : /api/v1/sign/in at position 10 of 11 in additional filter chain; firing Filter: 'ExceptionTranslationFilter'
2020-08-19 21:28:08.300 DEBUG 12196 --- [http-nio-8068-exec-5] o.s.security.web.FilterChainProxy        : /api/v1/sign/in at position 11 of 11 in additional filter chain; firing Filter: 'FilterSecurityInterceptor'
2020-08-19 21:28:08.300 DEBUG 12196 --- [http-nio-8068-exec-5] o.s.s.w.u.matcher.AntPathRequestMatcher  : Checking match of request : '/api/v1/sign/in'; against '/api/v1/sign/**'
2020-08-19 21:28:08.300 DEBUG 12196 --- [http-nio-8068-exec-5] o.s.s.w.a.i.FilterSecurityInterceptor    : Secure object: FilterInvocation: URL: /api/v1/sign/in; Attributes: [permitAll]
2020-08-19 21:28:08.300 DEBUG 12196 --- [http-nio-8068-exec-5] o.s.s.w.a.i.FilterSecurityInterceptor    : Previously Authenticated: org.springframework.security.authentication.AnonymousAuthenticationToken@9e256a02: Principal: anonymousUser; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_ANONYMOUS
2020-08-19 21:28:08.301 DEBUG 12196 --- [http-nio-8068-exec-5] o.s.s.access.vote.AffirmativeBased       : Voter: org.springframework.security.web.access.expression.WebExpressionVoter@12a1f39d, returned: 1
2020-08-19 21:28:08.301 DEBUG 12196 --- [http-nio-8068-exec-5] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorization successful
2020-08-19 21:28:08.301 DEBUG 12196 --- [http-nio-8068-exec-5] o.s.s.w.a.i.FilterSecurityInterceptor    : RunAsManager did not change Authentication object
2020-08-19 21:28:08.301 DEBUG 12196 --- [http-nio-8068-exec-5] o.s.security.web.FilterChainProxy        : /api/v1/sign/in reached end of additional filter chain; proceeding with original chain
2020-08-19 21:28:08.302 DEBUG 12196 --- [http-nio-8068-exec-5] o.s.s.authentication.ProviderManager     : Authentication attempt using org.springframework.security.authentication.dao.DaoAuthenticationProvider
2020-08-19 21:28:08.308  INFO 12196 --- [http-nio-8068-exec-5] r.l.service.user.impl.UserServiceImpl    : IN UserServiceImpl findByUsername - user: User{username='customer4', firstName='firstName4', lastName='lastName4', email='email4@mail.ru', phone='79449797604', password='$2a$10$4o.U..Oyp9g4PWTeQXZR9OGvYC5ITi4EFkcxlnZtCU4iUf5jjvaS6', roles=[Role{id: 3, name: ROLE_CUSTOMER}], userStatus=ACTIVE} found by userName: customer4
2020-08-19 21:28:08.308  INFO 12196 --- [http-nio-8068-exec-5] r.l.security.JwtUserDetailsService       : IN loadUserByUsername - user with username: customer4 successfully loaded
2020-08-19 21:28:08.442  INFO 12196 --- [http-nio-8068-exec-5] r.l.service.user.impl.UserServiceImpl    : IN UserServiceImpl findByUsername - user: User{username='customer4', firstName='firstName4', lastName='lastName4', email='email4@mail.ru', phone='79449797604', password='$2a$10$4o.U..Oyp9g4PWTeQXZR9OGvYC5ITi4EFkcxlnZtCU4iUf5jjvaS6', roles=[Role{id: 3, name: ROLE_CUSTOMER}], userStatus=ACTIVE} found by userName: customer4
2020-08-19 21:28:08.444 DEBUG 12196 --- [http-nio-8068-exec-5] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match the requestMatcher org.springframework.security.web.header.writers.HstsHeaderWriter$SecureRequestMatcher@5983e658
2020-08-19 21:28:08.445 DEBUG 12196 --- [http-nio-8068-exec-5] o.s.s.w.a.ExceptionTranslationFilter     : Chain processed normally
2020-08-19 21:28:08.445 DEBUG 12196 --- [http-nio-8068-exec-5] s.s.w.c.SecurityContextPersistenceFilter : SecurityContextHolder now cleared, as request processing completed
2020-08-19 21:28:17.867 DEBUG 12196 --- [http-nio-8068-exec-6] o.s.security.web.FilterChainProxy        : /api/v1/contractors/me at position 1 of 11 in additional filter chain; firing Filter: 'WebAsyncManagerIntegrationFilter'
2020-08-19 21:28:17.868 DEBUG 12196 --- [http-nio-8068-exec-6] o.s.security.web.FilterChainProxy        : /api/v1/contractors/me at position 2 of 11 in additional filter chain; firing Filter: 'SecurityContextPersistenceFilter'
2020-08-19 21:28:17.868 DEBUG 12196 --- [http-nio-8068-exec-6] o.s.security.web.FilterChainProxy        : /api/v1/contractors/me at position 3 of 11 in additional filter chain; firing Filter: 'HeaderWriterFilter'
2020-08-19 21:28:17.868 DEBUG 12196 --- [http-nio-8068-exec-6] o.s.security.web.FilterChainProxy        : /api/v1/contractors/me at position 4 of 11 in additional filter chain; firing Filter: 'LogoutFilter'
2020-08-19 21:28:17.868 DEBUG 12196 --- [http-nio-8068-exec-6] o.s.s.web.util.matcher.OrRequestMatcher  : Trying to match using Ant [pattern='/logout', GET]
2020-08-19 21:28:17.868 DEBUG 12196 --- [http-nio-8068-exec-6] o.s.s.w.u.matcher.AntPathRequestMatcher  : Checking match of request : '/api/v1/contractors/me'; against '/logout'
2020-08-19 21:28:17.868 DEBUG 12196 --- [http-nio-8068-exec-6] o.s.s.web.util.matcher.OrRequestMatcher  : Trying to match using Ant [pattern='/logout', POST]
2020-08-19 21:28:17.868 DEBUG 12196 --- [http-nio-8068-exec-6] o.s.s.w.u.matcher.AntPathRequestMatcher  : Request 'GET /api/v1/contractors/me' doesn't match 'POST /logout'
2020-08-19 21:28:17.868 DEBUG 12196 --- [http-nio-8068-exec-6] o.s.s.web.util.matcher.OrRequestMatcher  : Trying to match using Ant [pattern='/logout', PUT]
2020-08-19 21:28:17.869 DEBUG 12196 --- [http-nio-8068-exec-6] o.s.s.w.u.matcher.AntPathRequestMatcher  : Request 'GET /api/v1/contractors/me' doesn't match 'PUT /logout'
2020-08-19 21:28:17.869 DEBUG 12196 --- [http-nio-8068-exec-6] o.s.s.web.util.matcher.OrRequestMatcher  : Trying to match using Ant [pattern='/logout', DELETE]
2020-08-19 21:28:17.869 DEBUG 12196 --- [http-nio-8068-exec-6] o.s.s.w.u.matcher.AntPathRequestMatcher  : Request 'GET /api/v1/contractors/me' doesn't match 'DELETE /logout'
2020-08-19 21:28:17.869 DEBUG 12196 --- [http-nio-8068-exec-6] o.s.s.web.util.matcher.OrRequestMatcher  : No matches found
2020-08-19 21:28:17.869 DEBUG 12196 --- [http-nio-8068-exec-6] o.s.security.web.FilterChainProxy        : /api/v1/contractors/me at position 5 of 11 in additional filter chain; firing Filter: 'JwtTokenFilter'
2020-08-19 21:28:17.875  INFO 12196 --- [http-nio-8068-exec-6] r.l.service.user.impl.UserServiceImpl    : IN UserServiceImpl findByUsername - user: User{username='customer4', firstName='firstName4', lastName='lastName4', email='email4@mail.ru', phone='79449797604', password='$2a$10$4o.U..Oyp9g4PWTeQXZR9OGvYC5ITi4EFkcxlnZtCU4iUf5jjvaS6', roles=[Role{id: 3, name: ROLE_CUSTOMER}], userStatus=ACTIVE} found by userName: customer4
2020-08-19 21:28:17.875  INFO 12196 --- [http-nio-8068-exec-6] r.l.security.JwtUserDetailsService       : IN loadUserByUsername - user with username: customer4 successfully loaded
2020-08-19 21:28:17.875 DEBUG 12196 --- [http-nio-8068-exec-6] o.s.security.web.FilterChainProxy        : /api/v1/contractors/me at position 6 of 11 in additional filter chain; firing Filter: 'RequestCacheAwareFilter'
2020-08-19 21:28:17.875 DEBUG 12196 --- [http-nio-8068-exec-6] o.s.security.web.FilterChainProxy        : /api/v1/contractors/me at position 7 of 11 in additional filter chain; firing Filter: 'SecurityContextHolderAwareRequestFilter'
2020-08-19 21:28:17.876 DEBUG 12196 --- [http-nio-8068-exec-6] o.s.security.web.FilterChainProxy        : /api/v1/contractors/me at position 8 of 11 in additional filter chain; firing Filter: 'AnonymousAuthenticationFilter'
2020-08-19 21:28:17.876 DEBUG 12196 --- [http-nio-8068-exec-6] o.s.s.w.a.AnonymousAuthenticationFilter  : SecurityContextHolder not populated with anonymous token, as it already contained: 'org.springframework.security.authentication.UsernamePasswordAuthenticationToken@f5a8a4de: Principal: ru.logisticplatform.security.jwt.JwtUser@23f0169d; Credentials: [PROTECTED]; Authenticated: true; Details: null; Granted Authorities: ROLE_CUSTOMER'
2020-08-19 21:28:17.876 DEBUG 12196 --- [http-nio-8068-exec-6] o.s.security.web.FilterChainProxy        : /api/v1/contractors/me at position 9 of 11 in additional filter chain; firing Filter: 'SessionManagementFilter'
2020-08-19 21:28:17.876 DEBUG 12196 --- [http-nio-8068-exec-6] s.CompositeSessionAuthenticationStrategy : Delegating to org.springframework.security.web.authentication.session.ChangeSessionIdAuthenticationStrategy@56ed2baf
2020-08-19 21:28:17.876 DEBUG 12196 --- [http-nio-8068-exec-6] o.s.security.web.FilterChainProxy        : /api/v1/contractors/me at position 10 of 11 in additional filter chain; firing Filter: 'ExceptionTranslationFilter'
2020-08-19 21:28:17.876 DEBUG 12196 --- [http-nio-8068-exec-6] o.s.security.web.FilterChainProxy        : /api/v1/contractors/me at position 11 of 11 in additional filter chain; firing Filter: 'FilterSecurityInterceptor'
2020-08-19 21:28:17.876 DEBUG 12196 --- [http-nio-8068-exec-6] o.s.s.w.u.matcher.AntPathRequestMatcher  : Checking match of request : '/api/v1/contractors/me'; against '/api/v1/sign/**'
2020-08-19 21:28:17.876 DEBUG 12196 --- [http-nio-8068-exec-6] o.s.s.w.u.matcher.AntPathRequestMatcher  : Checking match of request : '/api/v1/contractors/me'; against '/api/v1/admins/**'
2020-08-19 21:28:17.876 DEBUG 12196 --- [http-nio-8068-exec-6] o.s.s.w.u.matcher.AntPathRequestMatcher  : Checking match of request : '/api/v1/contractors/me'; against '/api/v1/customers/**'
2020-08-19 21:28:17.876 DEBUG 12196 --- [http-nio-8068-exec-6] o.s.s.w.u.matcher.AntPathRequestMatcher  : Checking match of request : '/api/v1/contractors/me'; against '/api/v1/contractors/**'
2020-08-19 21:28:17.876 DEBUG 12196 --- [http-nio-8068-exec-6] o.s.s.w.a.i.FilterSecurityInterceptor    : Secure object: FilterInvocation: URL: /api/v1/contractors/me; Attributes: [hasAnyRole('ROLE_CONTRACTOR','ROLE_CUSTOMER')]
2020-08-19 21:28:17.877 DEBUG 12196 --- [http-nio-8068-exec-6] o.s.s.w.a.i.FilterSecurityInterceptor    : Previously Authenticated: org.springframework.security.authentication.UsernamePasswordAuthenticationToken@f5a8a4de: Principal: ru.logisticplatform.security.jwt.JwtUser@23f0169d; Credentials: [PROTECTED]; Authenticated: true; Details: null; Granted Authorities: ROLE_CUSTOMER
2020-08-19 21:28:17.877 DEBUG 12196 --- [http-nio-8068-exec-6] o.s.s.access.vote.AffirmativeBased       : Voter: org.springframework.security.web.access.expression.WebExpressionVoter@12a1f39d, returned: 1
2020-08-19 21:28:17.877 DEBUG 12196 --- [http-nio-8068-exec-6] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorization successful
2020-08-19 21:28:17.877 DEBUG 12196 --- [http-nio-8068-exec-6] o.s.s.w.a.i.FilterSecurityInterceptor    : RunAsManager did not change Authentication object
2020-08-19 21:28:17.877 DEBUG 12196 --- [http-nio-8068-exec-6] o.s.security.web.FilterChainProxy        : /api/v1/contractors/me reached end of additional filter chain; proceeding with original chain
2020-08-19 21:28:17.881  INFO 12196 --- [http-nio-8068-exec-6] r.l.service.user.impl.UserServiceImpl    : IN UserServiceImpl findByUsername - user: User{username='customer4', firstName='firstName4', lastName='lastName4', email='email4@mail.ru', phone='79449797604', password='$2a$10$4o.U..Oyp9g4PWTeQXZR9OGvYC5ITi4EFkcxlnZtCU4iUf5jjvaS6', roles=[Role{id: 3, name: ROLE_CUSTOMER}], userStatus=ACTIVE} found by userName: customer4
2020-08-19 21:28:17.882 DEBUG 12196 --- [http-nio-8068-exec-6] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match the requestMatcher org.springframework.security.web.header.writers.HstsHeaderWriter$SecureRequestMatcher@5983e658
2020-08-19 21:28:17.884 DEBUG 12196 --- [http-nio-8068-exec-6] o.s.s.w.a.ExceptionTranslationFilter     : Chain processed normally
2020-08-19 21:28:17.884 DEBUG 12196 --- [http-nio-8068-exec-6] s.s.w.c.SecurityContextPersistenceFilter : SecurityContextHolder now cleared, as request processing completed
2020-08-19 21:28:28.130 DEBUG 12196 --- [http-nio-8068-exec-7] o.s.security.web.FilterChainProxy        : /api/v1/sign/in at position 1 of 11 in additional filter chain; firing Filter: 'WebAsyncManagerIntegrationFilter'
2020-08-19 21:28:28.130 DEBUG 12196 --- [http-nio-8068-exec-7] o.s.security.web.FilterChainProxy        : /api/v1/sign/in at position 2 of 11 in additional filter chain; firing Filter: 'SecurityContextPersistenceFilter'
2020-08-19 21:28:28.130 DEBUG 12196 --- [http-nio-8068-exec-7] o.s.security.web.FilterChainProxy        : /api/v1/sign/in at position 3 of 11 in additional filter chain; firing Filter: 'HeaderWriterFilter'
2020-08-19 21:28:28.130 DEBUG 12196 --- [http-nio-8068-exec-7] o.s.security.web.FilterChainProxy        : /api/v1/sign/in at position 4 of 11 in additional filter chain; firing Filter: 'LogoutFilter'
2020-08-19 21:28:28.130 DEBUG 12196 --- [http-nio-8068-exec-7] o.s.s.web.util.matcher.OrRequestMatcher  : Trying to match using Ant [pattern='/logout', GET]
2020-08-19 21:28:28.130 DEBUG 12196 --- [http-nio-8068-exec-7] o.s.s.w.u.matcher.AntPathRequestMatcher  : Request 'POST /api/v1/sign/in' doesn't match 'GET /logout'
2020-08-19 21:28:28.131 DEBUG 12196 --- [http-nio-8068-exec-7] o.s.s.web.util.matcher.OrRequestMatcher  : Trying to match using Ant [pattern='/logout', POST]
2020-08-19 21:28:28.131 DEBUG 12196 --- [http-nio-8068-exec-7] o.s.s.w.u.matcher.AntPathRequestMatcher  : Checking match of request : '/api/v1/sign/in'; against '/logout'
2020-08-19 21:28:28.131 DEBUG 12196 --- [http-nio-8068-exec-7] o.s.s.web.util.matcher.OrRequestMatcher  : Trying to match using Ant [pattern='/logout', PUT]
2020-08-19 21:28:28.131 DEBUG 12196 --- [http-nio-8068-exec-7] o.s.s.w.u.matcher.AntPathRequestMatcher  : Request 'POST /api/v1/sign/in' doesn't match 'PUT /logout'
2020-08-19 21:28:28.131 DEBUG 12196 --- [http-nio-8068-exec-7] o.s.s.web.util.matcher.OrRequestMatcher  : Trying to match using Ant [pattern='/logout', DELETE]
2020-08-19 21:28:28.131 DEBUG 12196 --- [http-nio-8068-exec-7] o.s.s.w.u.matcher.AntPathRequestMatcher  : Request 'POST /api/v1/sign/in' doesn't match 'DELETE /logout'
2020-08-19 21:28:28.131 DEBUG 12196 --- [http-nio-8068-exec-7] o.s.s.web.util.matcher.OrRequestMatcher  : No matches found
2020-08-19 21:28:28.131 DEBUG 12196 --- [http-nio-8068-exec-7] o.s.security.web.FilterChainProxy        : /api/v1/sign/in at position 5 of 11 in additional filter chain; firing Filter: 'JwtTokenFilter'
2020-08-19 21:28:28.131 DEBUG 12196 --- [http-nio-8068-exec-7] o.s.security.web.FilterChainProxy        : /api/v1/sign/in at position 6 of 11 in additional filter chain; firing Filter: 'RequestCacheAwareFilter'
2020-08-19 21:28:28.132 DEBUG 12196 --- [http-nio-8068-exec-7] o.s.security.web.FilterChainProxy        : /api/v1/sign/in at position 7 of 11 in additional filter chain; firing Filter: 'SecurityContextHolderAwareRequestFilter'
2020-08-19 21:28:28.132 DEBUG 12196 --- [http-nio-8068-exec-7] o.s.security.web.FilterChainProxy        : /api/v1/sign/in at position 8 of 11 in additional filter chain; firing Filter: 'AnonymousAuthenticationFilter'
2020-08-19 21:28:28.132 DEBUG 12196 --- [http-nio-8068-exec-7] o.s.s.w.a.AnonymousAuthenticationFilter  : Populated SecurityContextHolder with anonymous token: 'org.springframework.security.authentication.AnonymousAuthenticationToken@9e256a02: Principal: anonymousUser; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_ANONYMOUS'
2020-08-19 21:28:28.132 DEBUG 12196 --- [http-nio-8068-exec-7] o.s.security.web.FilterChainProxy        : /api/v1/sign/in at position 9 of 11 in additional filter chain; firing Filter: 'SessionManagementFilter'
2020-08-19 21:28:28.132 DEBUG 12196 --- [http-nio-8068-exec-7] o.s.security.web.FilterChainProxy        : /api/v1/sign/in at position 10 of 11 in additional filter chain; firing Filter: 'ExceptionTranslationFilter'
2020-08-19 21:28:28.132 DEBUG 12196 --- [http-nio-8068-exec-7] o.s.security.web.FilterChainProxy        : /api/v1/sign/in at position 11 of 11 in additional filter chain; firing Filter: 'FilterSecurityInterceptor'
2020-08-19 21:28:28.132 DEBUG 12196 --- [http-nio-8068-exec-7] o.s.s.w.u.matcher.AntPathRequestMatcher  : Checking match of request : '/api/v1/sign/in'; against '/api/v1/sign/**'
2020-08-19 21:28:28.132 DEBUG 12196 --- [http-nio-8068-exec-7] o.s.s.w.a.i.FilterSecurityInterceptor    : Secure object: FilterInvocation: URL: /api/v1/sign/in; Attributes: [permitAll]
2020-08-19 21:28:28.133 DEBUG 12196 --- [http-nio-8068-exec-7] o.s.s.w.a.i.FilterSecurityInterceptor    : Previously Authenticated: org.springframework.security.authentication.AnonymousAuthenticationToken@9e256a02: Principal: anonymousUser; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_ANONYMOUS
2020-08-19 21:28:28.133 DEBUG 12196 --- [http-nio-8068-exec-7] o.s.s.access.vote.AffirmativeBased       : Voter: org.springframework.security.web.access.expression.WebExpressionVoter@12a1f39d, returned: 1
2020-08-19 21:28:28.134 DEBUG 12196 --- [http-nio-8068-exec-7] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorization successful
2020-08-19 21:28:28.134 DEBUG 12196 --- [http-nio-8068-exec-7] o.s.s.w.a.i.FilterSecurityInterceptor    : RunAsManager did not change Authentication object
2020-08-19 21:28:28.134 DEBUG 12196 --- [http-nio-8068-exec-7] o.s.security.web.FilterChainProxy        : /api/v1/sign/in reached end of additional filter chain; proceeding with original chain
2020-08-19 21:28:28.135 DEBUG 12196 --- [http-nio-8068-exec-7] o.s.s.authentication.ProviderManager     : Authentication attempt using org.springframework.security.authentication.dao.DaoAuthenticationProvider
2020-08-19 21:28:28.143  INFO 12196 --- [http-nio-8068-exec-7] r.l.service.user.impl.UserServiceImpl    : IN UserServiceImpl findByUsername - user: User{username='admin', firstName='adminfirst', lastName='adminsecond', email='admin@test.ru', phone='79119797777', password='$2a$04$FyuSb5hiBcNoE0Oy4TDC2eMGB2qZpmMAc.uohHzpNxpJewYAqcp3u', roles=[Role{id: 1, name: ROLE_ADMIN}, Role{id: 1, name: ROLE_ADMIN}, Role{id: 1, name: ROLE_ADMIN}], userStatus=ACTIVE} found by userName: admin
2020-08-19 21:28:28.143  INFO 12196 --- [http-nio-8068-exec-7] r.l.security.JwtUserDetailsService       : IN loadUserByUsername - user with username: admin successfully loaded
2020-08-19 21:28:28.149  INFO 12196 --- [http-nio-8068-exec-7] r.l.service.user.impl.UserServiceImpl    : IN UserServiceImpl findByUsername - user: User{username='admin', firstName='adminfirst', lastName='adminsecond', email='admin@test.ru', phone='79119797777', password='$2a$04$FyuSb5hiBcNoE0Oy4TDC2eMGB2qZpmMAc.uohHzpNxpJewYAqcp3u', roles=[Role{id: 1, name: ROLE_ADMIN}, Role{id: 1, name: ROLE_ADMIN}, Role{id: 1, name: ROLE_ADMIN}], userStatus=ACTIVE} found by userName: admin
2020-08-19 21:28:28.150 DEBUG 12196 --- [http-nio-8068-exec-7] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match the requestMatcher org.springframework.security.web.header.writers.HstsHeaderWriter$SecureRequestMatcher@5983e658
2020-08-19 21:28:28.152 DEBUG 12196 --- [http-nio-8068-exec-7] o.s.s.w.a.ExceptionTranslationFilter     : Chain processed normally
2020-08-19 21:28:28.152 DEBUG 12196 --- [http-nio-8068-exec-7] s.s.w.c.SecurityContextPersistenceFilter : SecurityContextHolder now cleared, as request processing completed
2020-08-19 21:28:40.267 DEBUG 12196 --- [http-nio-8068-exec-8] o.s.security.web.FilterChainProxy        : /api/v1/contractors/me at position 1 of 11 in additional filter chain; firing Filter: 'WebAsyncManagerIntegrationFilter'
2020-08-19 21:28:40.267 DEBUG 12196 --- [http-nio-8068-exec-8] o.s.security.web.FilterChainProxy        : /api/v1/contractors/me at position 2 of 11 in additional filter chain; firing Filter: 'SecurityContextPersistenceFilter'
2020-08-19 21:28:40.267 DEBUG 12196 --- [http-nio-8068-exec-8] o.s.security.web.FilterChainProxy        : /api/v1/contractors/me at position 3 of 11 in additional filter chain; firing Filter: 'HeaderWriterFilter'
2020-08-19 21:28:40.267 DEBUG 12196 --- [http-nio-8068-exec-8] o.s.security.web.FilterChainProxy        : /api/v1/contractors/me at position 4 of 11 in additional filter chain; firing Filter: 'LogoutFilter'
2020-08-19 21:28:40.267 DEBUG 12196 --- [http-nio-8068-exec-8] o.s.s.web.util.matcher.OrRequestMatcher  : Trying to match using Ant [pattern='/logout', GET]
2020-08-19 21:28:40.267 DEBUG 12196 --- [http-nio-8068-exec-8] o.s.s.w.u.matcher.AntPathRequestMatcher  : Checking match of request : '/api/v1/contractors/me'; against '/logout'
2020-08-19 21:28:40.268 DEBUG 12196 --- [http-nio-8068-exec-8] o.s.s.web.util.matcher.OrRequestMatcher  : Trying to match using Ant [pattern='/logout', POST]
2020-08-19 21:28:40.268 DEBUG 12196 --- [http-nio-8068-exec-8] o.s.s.w.u.matcher.AntPathRequestMatcher  : Request 'GET /api/v1/contractors/me' doesn't match 'POST /logout'
2020-08-19 21:28:40.268 DEBUG 12196 --- [http-nio-8068-exec-8] o.s.s.web.util.matcher.OrRequestMatcher  : Trying to match using Ant [pattern='/logout', PUT]
2020-08-19 21:28:40.268 DEBUG 12196 --- [http-nio-8068-exec-8] o.s.s.w.u.matcher.AntPathRequestMatcher  : Request 'GET /api/v1/contractors/me' doesn't match 'PUT /logout'
2020-08-19 21:28:40.268 DEBUG 12196 --- [http-nio-8068-exec-8] o.s.s.web.util.matcher.OrRequestMatcher  : Trying to match using Ant [pattern='/logout', DELETE]
2020-08-19 21:28:40.268 DEBUG 12196 --- [http-nio-8068-exec-8] o.s.s.w.u.matcher.AntPathRequestMatcher  : Request 'GET /api/v1/contractors/me' doesn't match 'DELETE /logout'
2020-08-19 21:28:40.268 DEBUG 12196 --- [http-nio-8068-exec-8] o.s.s.web.util.matcher.OrRequestMatcher  : No matches found
2020-08-19 21:28:40.268 DEBUG 12196 --- [http-nio-8068-exec-8] o.s.security.web.FilterChainProxy        : /api/v1/contractors/me at position 5 of 11 in additional filter chain; firing Filter: 'JwtTokenFilter'
2020-08-19 21:28:40.275  INFO 12196 --- [http-nio-8068-exec-8] r.l.service.user.impl.UserServiceImpl    : IN UserServiceImpl findByUsername - user: User{username='admin', firstName='adminfirst', lastName='adminsecond', email='admin@test.ru', phone='79119797777', password='$2a$04$FyuSb5hiBcNoE0Oy4TDC2eMGB2qZpmMAc.uohHzpNxpJewYAqcp3u', roles=[Role{id: 1, name: ROLE_ADMIN}, Role{id: 1, name: ROLE_ADMIN}, Role{id: 1, name: ROLE_ADMIN}], userStatus=ACTIVE} found by userName: admin
2020-08-19 21:28:40.275  INFO 12196 --- [http-nio-8068-exec-8] r.l.security.JwtUserDetailsService       : IN loadUserByUsername - user with username: admin successfully loaded
2020-08-19 21:28:40.275 DEBUG 12196 --- [http-nio-8068-exec-8] o.s.security.web.FilterChainProxy        : /api/v1/contractors/me at position 6 of 11 in additional filter chain; firing Filter: 'RequestCacheAwareFilter'
2020-08-19 21:28:40.275 DEBUG 12196 --- [http-nio-8068-exec-8] o.s.security.web.FilterChainProxy        : /api/v1/contractors/me at position 7 of 11 in additional filter chain; firing Filter: 'SecurityContextHolderAwareRequestFilter'
2020-08-19 21:28:40.275 DEBUG 12196 --- [http-nio-8068-exec-8] o.s.security.web.FilterChainProxy        : /api/v1/contractors/me at position 8 of 11 in additional filter chain; firing Filter: 'AnonymousAuthenticationFilter'
2020-08-19 21:28:40.275 DEBUG 12196 --- [http-nio-8068-exec-8] o.s.s.w.a.AnonymousAuthenticationFilter  : SecurityContextHolder not populated with anonymous token, as it already contained: 'org.springframework.security.authentication.UsernamePasswordAuthenticationToken@18fc489f: Principal: ru.logisticplatform.security.jwt.JwtUser@585f817d; Credentials: [PROTECTED]; Authenticated: true; Details: null; Granted Authorities: ROLE_ADMIN, ROLE_ADMIN, ROLE_ADMIN'
2020-08-19 21:28:40.275 DEBUG 12196 --- [http-nio-8068-exec-8] o.s.security.web.FilterChainProxy        : /api/v1/contractors/me at position 9 of 11 in additional filter chain; firing Filter: 'SessionManagementFilter'
2020-08-19 21:28:40.276 DEBUG 12196 --- [http-nio-8068-exec-8] s.CompositeSessionAuthenticationStrategy : Delegating to org.springframework.security.web.authentication.session.ChangeSessionIdAuthenticationStrategy@56ed2baf
2020-08-19 21:28:40.276 DEBUG 12196 --- [http-nio-8068-exec-8] o.s.security.web.FilterChainProxy        : /api/v1/contractors/me at position 10 of 11 in additional filter chain; firing Filter: 'ExceptionTranslationFilter'
2020-08-19 21:28:40.276 DEBUG 12196 --- [http-nio-8068-exec-8] o.s.security.web.FilterChainProxy        : /api/v1/contractors/me at position 11 of 11 in additional filter chain; firing Filter: 'FilterSecurityInterceptor'
2020-08-19 21:28:40.276 DEBUG 12196 --- [http-nio-8068-exec-8] o.s.s.w.u.matcher.AntPathRequestMatcher  : Checking match of request : '/api/v1/contractors/me'; against '/api/v1/sign/**'
2020-08-19 21:28:40.276 DEBUG 12196 --- [http-nio-8068-exec-8] o.s.s.w.u.matcher.AntPathRequestMatcher  : Checking match of request : '/api/v1/contractors/me'; against '/api/v1/admins/**'
2020-08-19 21:28:40.276 DEBUG 12196 --- [http-nio-8068-exec-8] o.s.s.w.u.matcher.AntPathRequestMatcher  : Checking match of request : '/api/v1/contractors/me'; against '/api/v1/customers/**'
2020-08-19 21:28:40.276 DEBUG 12196 --- [http-nio-8068-exec-8] o.s.s.w.u.matcher.AntPathRequestMatcher  : Checking match of request : '/api/v1/contractors/me'; against '/api/v1/contractors/**'
2020-08-19 21:28:40.276 DEBUG 12196 --- [http-nio-8068-exec-8] o.s.s.w.a.i.FilterSecurityInterceptor    : Secure object: FilterInvocation: URL: /api/v1/contractors/me; Attributes: [hasAnyRole('ROLE_CONTRACTOR','ROLE_CUSTOMER')]
2020-08-19 21:28:40.276 DEBUG 12196 --- [http-nio-8068-exec-8] o.s.s.w.a.i.FilterSecurityInterceptor    : Previously Authenticated: org.springframework.security.authentication.UsernamePasswordAuthenticationToken@18fc489f: Principal: ru.logisticplatform.security.jwt.JwtUser@585f817d; Credentials: [PROTECTED]; Authenticated: true; Details: null; Granted Authorities: ROLE_ADMIN, ROLE_ADMIN, ROLE_ADMIN
2020-08-19 21:28:40.276 DEBUG 12196 --- [http-nio-8068-exec-8] o.s.s.access.vote.AffirmativeBased       : Voter: org.springframework.security.web.access.expression.WebExpressionVoter@12a1f39d, returned: -1
2020-08-19 21:28:40.284 DEBUG 12196 --- [http-nio-8068-exec-8] o.s.s.w.a.ExceptionTranslationFilter     : Access is denied (user is not anonymous); delegating to AccessDeniedHandler

org.springframework.security.access.AccessDeniedException: Access is denied
	at org.springframework.security.access.vote.AffirmativeBased.decide(AffirmativeBased.java:84) ~[spring-security-core-5.3.3.RELEASE.jar:5.3.3.RELEASE]
	at org.springframework.security.access.intercept.AbstractSecurityInterceptor.beforeInvocation(AbstractSecurityInterceptor.java:233) ~[spring-security-core-5.3.3.RELEASE.jar:5.3.3.RELEASE]
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:123) ~[spring-security-web-5.3.3.RELEASE.jar:5.3.3.RELEASE]
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:90) ~[spring-security-web-5.3.3.RELEASE.jar:5.3.3.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) [spring-security-web-5.3.3.RELEASE.jar:5.3.3.RELEASE]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:118) ~[spring-security-web-5.3.3.RELEASE.jar:5.3.3.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) [spring-security-web-5.3.3.RELEASE.jar:5.3.3.RELEASE]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:137) [spring-security-web-5.3.3.RELEASE.jar:5.3.3.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) [spring-security-web-5.3.3.RELEASE.jar:5.3.3.RELEASE]
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:111) [spring-security-web-5.3.3.RELEASE.jar:5.3.3.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) [spring-security-web-5.3.3.RELEASE.jar:5.3.3.RELEASE]
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:158) [spring-security-web-5.3.3.RELEASE.jar:5.3.3.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) [spring-security-web-5.3.3.RELEASE.jar:5.3.3.RELEASE]
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) [spring-security-web-5.3.3.RELEASE.jar:5.3.3.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) [spring-security-web-5.3.3.RELEASE.jar:5.3.3.RELEASE]
	at ru.logisticplatform.security.jwt.JwtTokenFilter.doFilter(JwtTokenFilter.java:34) [classes/:na]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) [spring-security-web-5.3.3.RELEASE.jar:5.3.3.RELEASE]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:116) [spring-security-web-5.3.3.RELEASE.jar:5.3.3.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) [spring-security-web-5.3.3.RELEASE.jar:5.3.3.RELEASE]
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:92) [spring-security-web-5.3.3.RELEASE.jar:5.3.3.RELEASE]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:77) [spring-security-web-5.3.3.RELEASE.jar:5.3.3.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) [spring-web-5.2.7.RELEASE.jar:5.2.7.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) [spring-security-web-5.3.3.RELEASE.jar:5.3.3.RELEASE]
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:105) [spring-security-web-5.3.3.RELEASE.jar:5.3.3.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) [spring-security-web-5.3.3.RELEASE.jar:5.3.3.RELEASE]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:56) [spring-security-web-5.3.3.RELEASE.jar:5.3.3.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) [spring-web-5.2.7.RELEASE.jar:5.2.7.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) [spring-security-web-5.3.3.RELEASE.jar:5.3.3.RELEASE]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:215) [spring-security-web-5.3.3.RELEASE.jar:5.3.3.RELEASE]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:178) [spring-security-web-5.3.3.RELEASE.jar:5.3.3.RELEASE]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:358) [spring-web-5.2.7.RELEASE.jar:5.2.7.RELEASE]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:271) [spring-web-5.2.7.RELEASE.jar:5.2.7.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-9.0.36.jar:9.0.36]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-9.0.36.jar:9.0.36]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) [spring-web-5.2.7.RELEASE.jar:5.2.7.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) [spring-web-5.2.7.RELEASE.jar:5.2.7.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-9.0.36.jar:9.0.36]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-9.0.36.jar:9.0.36]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) [spring-web-5.2.7.RELEASE.jar:5.2.7.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) [spring-web-5.2.7.RELEASE.jar:5.2.7.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-9.0.36.jar:9.0.36]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-9.0.36.jar:9.0.36]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) [spring-web-5.2.7.RELEASE.jar:5.2.7.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) [spring-web-5.2.7.RELEASE.jar:5.2.7.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-9.0.36.jar:9.0.36]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-9.0.36.jar:9.0.36]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:202) [tomcat-embed-core-9.0.36.jar:9.0.36]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96) [tomcat-embed-core-9.0.36.jar:9.0.36]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541) [tomcat-embed-core-9.0.36.jar:9.0.36]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:139) [tomcat-embed-core-9.0.36.jar:9.0.36]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92) [tomcat-embed-core-9.0.36.jar:9.0.36]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) [tomcat-embed-core-9.0.36.jar:9.0.36]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343) [tomcat-embed-core-9.0.36.jar:9.0.36]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:373) [tomcat-embed-core-9.0.36.jar:9.0.36]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65) [tomcat-embed-core-9.0.36.jar:9.0.36]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:868) [tomcat-embed-core-9.0.36.jar:9.0.36]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1590) [tomcat-embed-core-9.0.36.jar:9.0.36]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) [tomcat-embed-core-9.0.36.jar:9.0.36]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142) [na:1.8.0_111]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617) [na:1.8.0_111]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) [tomcat-embed-core-9.0.36.jar:9.0.36]
	at java.lang.Thread.run(Thread.java:745) [na:1.8.0_111]

2020-08-19 21:28:40.285 DEBUG 12196 --- [http-nio-8068-exec-8] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match the requestMatcher org.springframework.security.web.header.writers.HstsHeaderWriter$SecureRequestMatcher@5983e658
2020-08-19 21:28:40.285 DEBUG 12196 --- [http-nio-8068-exec-8] s.s.w.c.SecurityContextPersistenceFilter : SecurityContextHolder now cleared, as request processing completed
2020-08-19 21:28:40.289 DEBUG 12196 --- [http-nio-8068-exec-8] o.s.security.web.FilterChainProxy        : /error at position 1 of 11 in additional filter chain; firing Filter: 'WebAsyncManagerIntegrationFilter'
2020-08-19 21:28:40.289 DEBUG 12196 --- [http-nio-8068-exec-8] o.s.security.web.FilterChainProxy        : /error at position 2 of 11 in additional filter chain; firing Filter: 'SecurityContextPersistenceFilter'
2020-08-19 21:28:40.289 DEBUG 12196 --- [http-nio-8068-exec-8] o.s.security.web.FilterChainProxy        : /error at position 3 of 11 in additional filter chain; firing Filter: 'HeaderWriterFilter'
2020-08-19 21:28:40.290 DEBUG 12196 --- [http-nio-8068-exec-8] o.s.security.web.FilterChainProxy        : /error at position 4 of 11 in additional filter chain; firing Filter: 'LogoutFilter'
2020-08-19 21:28:40.290 DEBUG 12196 --- [http-nio-8068-exec-8] o.s.s.web.util.matcher.OrRequestMatcher  : Trying to match using Ant [pattern='/logout', GET]
2020-08-19 21:28:40.290 DEBUG 12196 --- [http-nio-8068-exec-8] o.s.s.w.u.matcher.AntPathRequestMatcher  : Checking match of request : '/error'; against '/logout'
2020-08-19 21:28:40.290 DEBUG 12196 --- [http-nio-8068-exec-8] o.s.s.web.util.matcher.OrRequestMatcher  : Trying to match using Ant [pattern='/logout', POST]
2020-08-19 21:28:40.290 DEBUG 12196 --- [http-nio-8068-exec-8] o.s.s.w.u.matcher.AntPathRequestMatcher  : Request 'GET /error' doesn't match 'POST /logout'
2020-08-19 21:28:40.290 DEBUG 12196 --- [http-nio-8068-exec-8] o.s.s.web.util.matcher.OrRequestMatcher  : Trying to match using Ant [pattern='/logout', PUT]
2020-08-19 21:28:40.290 DEBUG 12196 --- [http-nio-8068-exec-8] o.s.s.w.u.matcher.AntPathRequestMatcher  : Request 'GET /error' doesn't match 'PUT /logout'
2020-08-19 21:28:40.290 DEBUG 12196 --- [http-nio-8068-exec-8] o.s.s.web.util.matcher.OrRequestMatcher  : Trying to match using Ant [pattern='/logout', DELETE]
2020-08-19 21:28:40.290 DEBUG 12196 --- [http-nio-8068-exec-8] o.s.s.w.u.matcher.AntPathRequestMatcher  : Request 'GET /error' doesn't match 'DELETE /logout'
2020-08-19 21:28:40.290 DEBUG 12196 --- [http-nio-8068-exec-8] o.s.s.web.util.matcher.OrRequestMatcher  : No matches found
2020-08-19 21:28:40.290 DEBUG 12196 --- [http-nio-8068-exec-8] o.s.security.web.FilterChainProxy        : /error at position 5 of 11 in additional filter chain; firing Filter: 'JwtTokenFilter'
2020-08-19 21:28:40.296  INFO 12196 --- [http-nio-8068-exec-8] r.l.service.user.impl.UserServiceImpl    : IN UserServiceImpl findByUsername - user: User{username='admin', firstName='adminfirst', lastName='adminsecond', email='admin@test.ru', phone='79119797777', password='$2a$04$FyuSb5hiBcNoE0Oy4TDC2eMGB2qZpmMAc.uohHzpNxpJewYAqcp3u', roles=[Role{id: 1, name: ROLE_ADMIN}, Role{id: 1, name: ROLE_ADMIN}, Role{id: 1, name: ROLE_ADMIN}], userStatus=ACTIVE} found by userName: admin
2020-08-19 21:28:40.296  INFO 12196 --- [http-nio-8068-exec-8] r.l.security.JwtUserDetailsService       : IN loadUserByUsername - user with username: admin successfully loaded
2020-08-19 21:28:40.296 DEBUG 12196 --- [http-nio-8068-exec-8] o.s.security.web.FilterChainProxy        : /error at position 6 of 11 in additional filter chain; firing Filter: 'RequestCacheAwareFilter'
2020-08-19 21:28:40.296 DEBUG 12196 --- [http-nio-8068-exec-8] o.s.security.web.FilterChainProxy        : /error at position 7 of 11 in additional filter chain; firing Filter: 'SecurityContextHolderAwareRequestFilter'
2020-08-19 21:28:40.296 DEBUG 12196 --- [http-nio-8068-exec-8] o.s.security.web.FilterChainProxy        : /error at position 8 of 11 in additional filter chain; firing Filter: 'AnonymousAuthenticationFilter'
2020-08-19 21:28:40.297 DEBUG 12196 --- [http-nio-8068-exec-8] o.s.s.w.a.AnonymousAuthenticationFilter  : SecurityContextHolder not populated with anonymous token, as it already contained: 'org.springframework.security.authentication.UsernamePasswordAuthenticationToken@7e594bfd: Principal: ru.logisticplatform.security.jwt.JwtUser@3efa821f; Credentials: [PROTECTED]; Authenticated: true; Details: null; Granted Authorities: ROLE_ADMIN, ROLE_ADMIN, ROLE_ADMIN'
2020-08-19 21:28:40.297 DEBUG 12196 --- [http-nio-8068-exec-8] o.s.security.web.FilterChainProxy        : /error at position 9 of 11 in additional filter chain; firing Filter: 'SessionManagementFilter'
2020-08-19 21:28:40.297 DEBUG 12196 --- [http-nio-8068-exec-8] o.s.security.web.FilterChainProxy        : /error at position 10 of 11 in additional filter chain; firing Filter: 'ExceptionTranslationFilter'
2020-08-19 21:28:40.297 DEBUG 12196 --- [http-nio-8068-exec-8] o.s.security.web.FilterChainProxy        : /error at position 11 of 11 in additional filter chain; firing Filter: 'FilterSecurityInterceptor'
2020-08-19 21:28:40.297 DEBUG 12196 --- [http-nio-8068-exec-8] o.s.security.web.FilterChainProxy        : /error reached end of additional filter chain; proceeding with original chain
2020-08-19 21:28:40.307 DEBUG 12196 --- [http-nio-8068-exec-8] o.s.s.w.a.ExceptionTranslationFilter     : Chain processed normally
2020-08-19 21:28:40.307 DEBUG 12196 --- [http-nio-8068-exec-8] s.s.w.c.SecurityContextPersistenceFilter : SecurityContextHolder now cleared, as request processing completed
2020-08-19 21:28:42.678 DEBUG 12196 --- [http-nio-8068-exec-9] o.s.security.web.FilterChainProxy        : /api/v1/contractors/me at position 1 of 11 in additional filter chain; firing Filter: 'WebAsyncManagerIntegrationFilter'
2020-08-19 21:28:42.679 DEBUG 12196 --- [http-nio-8068-exec-9] o.s.security.web.FilterChainProxy        : /api/v1/contractors/me at position 2 of 11 in additional filter chain; firing Filter: 'SecurityContextPersistenceFilter'
2020-08-19 21:28:42.679 DEBUG 12196 --- [http-nio-8068-exec-9] o.s.security.web.FilterChainProxy        : /api/v1/contractors/me at position 3 of 11 in additional filter chain; firing Filter: 'HeaderWriterFilter'
2020-08-19 21:28:42.679 DEBUG 12196 --- [http-nio-8068-exec-9] o.s.security.web.FilterChainProxy        : /api/v1/contractors/me at position 4 of 11 in additional filter chain; firing Filter: 'LogoutFilter'
2020-08-19 21:28:42.679 DEBUG 12196 --- [http-nio-8068-exec-9] o.s.s.web.util.matcher.OrRequestMatcher  : Trying to match using Ant [pattern='/logout', GET]
2020-08-19 21:28:42.679 DEBUG 12196 --- [http-nio-8068-exec-9] o.s.s.w.u.matcher.AntPathRequestMatcher  : Checking match of request : '/api/v1/contractors/me'; against '/logout'
2020-08-19 21:28:42.679 DEBUG 12196 --- [http-nio-8068-exec-9] o.s.s.web.util.matcher.OrRequestMatcher  : Trying to match using Ant [pattern='/logout', POST]
2020-08-19 21:28:42.679 DEBUG 12196 --- [http-nio-8068-exec-9] o.s.s.w.u.matcher.AntPathRequestMatcher  : Request 'GET /api/v1/contractors/me' doesn't match 'POST /logout'
2020-08-19 21:28:42.679 DEBUG 12196 --- [http-nio-8068-exec-9] o.s.s.web.util.matcher.OrRequestMatcher  : Trying to match using Ant [pattern='/logout', PUT]
2020-08-19 21:28:42.679 DEBUG 12196 --- [http-nio-8068-exec-9] o.s.s.w.u.matcher.AntPathRequestMatcher  : Request 'GET /api/v1/contractors/me' doesn't match 'PUT /logout'
2020-08-19 21:28:42.679 DEBUG 12196 --- [http-nio-8068-exec-9] o.s.s.web.util.matcher.OrRequestMatcher  : Trying to match using Ant [pattern='/logout', DELETE]
2020-08-19 21:28:42.679 DEBUG 12196 --- [http-nio-8068-exec-9] o.s.s.w.u.matcher.AntPathRequestMatcher  : Request 'GET /api/v1/contractors/me' doesn't match 'DELETE /logout'
2020-08-19 21:28:42.679 DEBUG 12196 --- [http-nio-8068-exec-9] o.s.s.web.util.matcher.OrRequestMatcher  : No matches found
2020-08-19 21:28:42.679 DEBUG 12196 --- [http-nio-8068-exec-9] o.s.security.web.FilterChainProxy        : /api/v1/contractors/me at position 5 of 11 in additional filter chain; firing Filter: 'JwtTokenFilter'
2020-08-19 21:28:42.687  INFO 12196 --- [http-nio-8068-exec-9] r.l.service.user.impl.UserServiceImpl    : IN UserServiceImpl findByUsername - user: User{username='admin', firstName='adminfirst', lastName='adminsecond', email='admin@test.ru', phone='79119797777', password='$2a$04$FyuSb5hiBcNoE0Oy4TDC2eMGB2qZpmMAc.uohHzpNxpJewYAqcp3u', roles=[Role{id: 1, name: ROLE_ADMIN}, Role{id: 1, name: ROLE_ADMIN}, Role{id: 1, name: ROLE_ADMIN}], userStatus=ACTIVE} found by userName: admin
2020-08-19 21:28:42.687  INFO 12196 --- [http-nio-8068-exec-9] r.l.security.JwtUserDetailsService       : IN loadUserByUsername - user with username: admin successfully loaded
2020-08-19 21:28:42.687 DEBUG 12196 --- [http-nio-8068-exec-9] o.s.security.web.FilterChainProxy        : /api/v1/contractors/me at position 6 of 11 in additional filter chain; firing Filter: 'RequestCacheAwareFilter'
2020-08-19 21:28:42.688 DEBUG 12196 --- [http-nio-8068-exec-9] o.s.security.web.FilterChainProxy        : /api/v1/contractors/me at position 7 of 11 in additional filter chain; firing Filter: 'SecurityContextHolderAwareRequestFilter'
2020-08-19 21:28:42.688 DEBUG 12196 --- [http-nio-8068-exec-9] o.s.security.web.FilterChainProxy        : /api/v1/contractors/me at position 8 of 11 in additional filter chain; firing Filter: 'AnonymousAuthenticationFilter'
2020-08-19 21:28:42.688 DEBUG 12196 --- [http-nio-8068-exec-9] o.s.s.w.a.AnonymousAuthenticationFilter  : SecurityContextHolder not populated with anonymous token, as it already contained: 'org.springframework.security.authentication.UsernamePasswordAuthenticationToken@2dcf6c1b: Principal: ru.logisticplatform.security.jwt.JwtUser@6d6ca5f9; Credentials: [PROTECTED]; Authenticated: true; Details: null; Granted Authorities: ROLE_ADMIN, ROLE_ADMIN, ROLE_ADMIN'
2020-08-19 21:28:42.688 DEBUG 12196 --- [http-nio-8068-exec-9] o.s.security.web.FilterChainProxy        : /api/v1/contractors/me at position 9 of 11 in additional filter chain; firing Filter: 'SessionManagementFilter'
2020-08-19 21:28:42.688 DEBUG 12196 --- [http-nio-8068-exec-9] s.CompositeSessionAuthenticationStrategy : Delegating to org.springframework.security.web.authentication.session.ChangeSessionIdAuthenticationStrategy@56ed2baf
2020-08-19 21:28:42.688 DEBUG 12196 --- [http-nio-8068-exec-9] o.s.security.web.FilterChainProxy        : /api/v1/contractors/me at position 10 of 11 in additional filter chain; firing Filter: 'ExceptionTranslationFilter'
2020-08-19 21:28:42.688 DEBUG 12196 --- [http-nio-8068-exec-9] o.s.security.web.FilterChainProxy        : /api/v1/contractors/me at position 11 of 11 in additional filter chain; firing Filter: 'FilterSecurityInterceptor'
2020-08-19 21:28:42.688 DEBUG 12196 --- [http-nio-8068-exec-9] o.s.s.w.u.matcher.AntPathRequestMatcher  : Checking match of request : '/api/v1/contractors/me'; against '/api/v1/sign/**'
2020-08-19 21:28:42.688 DEBUG 12196 --- [http-nio-8068-exec-9] o.s.s.w.u.matcher.AntPathRequestMatcher  : Checking match of request : '/api/v1/contractors/me'; against '/api/v1/admins/**'
2020-08-19 21:28:42.688 DEBUG 12196 --- [http-nio-8068-exec-9] o.s.s.w.u.matcher.AntPathRequestMatcher  : Checking match of request : '/api/v1/contractors/me'; against '/api/v1/customers/**'
2020-08-19 21:28:42.688 DEBUG 12196 --- [http-nio-8068-exec-9] o.s.s.w.u.matcher.AntPathRequestMatcher  : Checking match of request : '/api/v1/contractors/me'; against '/api/v1/contractors/**'
2020-08-19 21:28:42.689 DEBUG 12196 --- [http-nio-8068-exec-9] o.s.s.w.a.i.FilterSecurityInterceptor    : Secure object: FilterInvocation: URL: /api/v1/contractors/me; Attributes: [hasAnyRole('ROLE_CONTRACTOR','ROLE_CUSTOMER')]
2020-08-19 21:28:42.689 DEBUG 12196 --- [http-nio-8068-exec-9] o.s.s.w.a.i.FilterSecurityInterceptor    : Previously Authenticated: org.springframework.security.authentication.UsernamePasswordAuthenticationToken@2dcf6c1b: Principal: ru.logisticplatform.security.jwt.JwtUser@6d6ca5f9; Credentials: [PROTECTED]; Authenticated: true; Details: null; Granted Authorities: ROLE_ADMIN, ROLE_ADMIN, ROLE_ADMIN
2020-08-19 21:28:42.689 DEBUG 12196 --- [http-nio-8068-exec-9] o.s.s.access.vote.AffirmativeBased       : Voter: org.springframework.security.web.access.expression.WebExpressionVoter@12a1f39d, returned: -1
2020-08-19 21:28:42.690 DEBUG 12196 --- [http-nio-8068-exec-9] o.s.s.w.a.ExceptionTranslationFilter     : Access is denied (user is not anonymous); delegating to AccessDeniedHandler

org.springframework.security.access.AccessDeniedException: Access is denied
	at org.springframework.security.access.vote.AffirmativeBased.decide(AffirmativeBased.java:84) ~[spring-security-core-5.3.3.RELEASE.jar:5.3.3.RELEASE]
	at org.springframework.security.access.intercept.AbstractSecurityInterceptor.beforeInvocation(AbstractSecurityInterceptor.java:233) ~[spring-security-core-5.3.3.RELEASE.jar:5.3.3.RELEASE]
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:123) ~[spring-security-web-5.3.3.RELEASE.jar:5.3.3.RELEASE]
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:90) ~[spring-security-web-5.3.3.RELEASE.jar:5.3.3.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) [spring-security-web-5.3.3.RELEASE.jar:5.3.3.RELEASE]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:118) ~[spring-security-web-5.3.3.RELEASE.jar:5.3.3.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) [spring-security-web-5.3.3.RELEASE.jar:5.3.3.RELEASE]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:137) [spring-security-web-5.3.3.RELEASE.jar:5.3.3.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) [spring-security-web-5.3.3.RELEASE.jar:5.3.3.RELEASE]
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:111) [spring-security-web-5.3.3.RELEASE.jar:5.3.3.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) [spring-security-web-5.3.3.RELEASE.jar:5.3.3.RELEASE]
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:158) [spring-security-web-5.3.3.RELEASE.jar:5.3.3.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) [spring-security-web-5.3.3.RELEASE.jar:5.3.3.RELEASE]
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) [spring-security-web-5.3.3.RELEASE.jar:5.3.3.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) [spring-security-web-5.3.3.RELEASE.jar:5.3.3.RELEASE]
	at ru.logisticplatform.security.jwt.JwtTokenFilter.doFilter(JwtTokenFilter.java:34) [classes/:na]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) [spring-security-web-5.3.3.RELEASE.jar:5.3.3.RELEASE]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:116) [spring-security-web-5.3.3.RELEASE.jar:5.3.3.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) [spring-security-web-5.3.3.RELEASE.jar:5.3.3.RELEASE]
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:92) [spring-security-web-5.3.3.RELEASE.jar:5.3.3.RELEASE]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:77) [spring-security-web-5.3.3.RELEASE.jar:5.3.3.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) [spring-web-5.2.7.RELEASE.jar:5.2.7.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) [spring-security-web-5.3.3.RELEASE.jar:5.3.3.RELEASE]
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:105) [spring-security-web-5.3.3.RELEASE.jar:5.3.3.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) [spring-security-web-5.3.3.RELEASE.jar:5.3.3.RELEASE]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:56) [spring-security-web-5.3.3.RELEASE.jar:5.3.3.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) [spring-web-5.2.7.RELEASE.jar:5.2.7.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) [spring-security-web-5.3.3.RELEASE.jar:5.3.3.RELEASE]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:215) [spring-security-web-5.3.3.RELEASE.jar:5.3.3.RELEASE]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:178) [spring-security-web-5.3.3.RELEASE.jar:5.3.3.RELEASE]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:358) [spring-web-5.2.7.RELEASE.jar:5.2.7.RELEASE]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:271) [spring-web-5.2.7.RELEASE.jar:5.2.7.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-9.0.36.jar:9.0.36]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-9.0.36.jar:9.0.36]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) [spring-web-5.2.7.RELEASE.jar:5.2.7.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) [spring-web-5.2.7.RELEASE.jar:5.2.7.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-9.0.36.jar:9.0.36]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-9.0.36.jar:9.0.36]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) [spring-web-5.2.7.RELEASE.jar:5.2.7.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) [spring-web-5.2.7.RELEASE.jar:5.2.7.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-9.0.36.jar:9.0.36]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-9.0.36.jar:9.0.36]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) [spring-web-5.2.7.RELEASE.jar:5.2.7.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) [spring-web-5.2.7.RELEASE.jar:5.2.7.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-9.0.36.jar:9.0.36]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-9.0.36.jar:9.0.36]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:202) [tomcat-embed-core-9.0.36.jar:9.0.36]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96) [tomcat-embed-core-9.0.36.jar:9.0.36]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541) [tomcat-embed-core-9.0.36.jar:9.0.36]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:139) [tomcat-embed-core-9.0.36.jar:9.0.36]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92) [tomcat-embed-core-9.0.36.jar:9.0.36]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) [tomcat-embed-core-9.0.36.jar:9.0.36]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343) [tomcat-embed-core-9.0.36.jar:9.0.36]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:373) [tomcat-embed-core-9.0.36.jar:9.0.36]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65) [tomcat-embed-core-9.0.36.jar:9.0.36]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:868) [tomcat-embed-core-9.0.36.jar:9.0.36]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1590) [tomcat-embed-core-9.0.36.jar:9.0.36]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) [tomcat-embed-core-9.0.36.jar:9.0.36]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142) [na:1.8.0_111]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617) [na:1.8.0_111]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) [tomcat-embed-core-9.0.36.jar:9.0.36]
	at java.lang.Thread.run(Thread.java:745) [na:1.8.0_111]

2020-08-19 21:28:42.691 DEBUG 12196 --- [http-nio-8068-exec-9] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match the requestMatcher org.springframework.security.web.header.writers.HstsHeaderWriter$SecureRequestMatcher@5983e658
2020-08-19 21:28:42.691 DEBUG 12196 --- [http-nio-8068-exec-9] s.s.w.c.SecurityContextPersistenceFilter : SecurityContextHolder now cleared, as request processing completed
2020-08-19 21:28:42.692 DEBUG 12196 --- [http-nio-8068-exec-9] o.s.security.web.FilterChainProxy        : /error at position 1 of 11 in additional filter chain; firing Filter: 'WebAsyncManagerIntegrationFilter'
2020-08-19 21:28:42.692 DEBUG 12196 --- [http-nio-8068-exec-9] o.s.security.web.FilterChainProxy        : /error at position 2 of 11 in additional filter chain; firing Filter: 'SecurityContextPersistenceFilter'
2020-08-19 21:28:42.692 DEBUG 12196 --- [http-nio-8068-exec-9] o.s.security.web.FilterChainProxy        : /error at position 3 of 11 in additional filter chain; firing Filter: 'HeaderWriterFilter'
2020-08-19 21:28:42.692 DEBUG 12196 --- [http-nio-8068-exec-9] o.s.security.web.FilterChainProxy        : /error at position 4 of 11 in additional filter chain; firing Filter: 'LogoutFilter'
2020-08-19 21:28:42.692 DEBUG 12196 --- [http-nio-8068-exec-9] o.s.s.web.util.matcher.OrRequestMatcher  : Trying to match using Ant [pattern='/logout', GET]
2020-08-19 21:28:42.692 DEBUG 12196 --- [http-nio-8068-exec-9] o.s.s.w.u.matcher.AntPathRequestMatcher  : Checking match of request : '/error'; against '/logout'
2020-08-19 21:28:42.692 DEBUG 12196 --- [http-nio-8068-exec-9] o.s.s.web.util.matcher.OrRequestMatcher  : Trying to match using Ant [pattern='/logout', POST]
2020-08-19 21:28:42.692 DEBUG 12196 --- [http-nio-8068-exec-9] o.s.s.w.u.matcher.AntPathRequestMatcher  : Request 'GET /error' doesn't match 'POST /logout'
2020-08-19 21:28:42.693 DEBUG 12196 --- [http-nio-8068-exec-9] o.s.s.web.util.matcher.OrRequestMatcher  : Trying to match using Ant [pattern='/logout', PUT]
2020-08-19 21:28:42.693 DEBUG 12196 --- [http-nio-8068-exec-9] o.s.s.w.u.matcher.AntPathRequestMatcher  : Request 'GET /error' doesn't match 'PUT /logout'
2020-08-19 21:28:42.693 DEBUG 12196 --- [http-nio-8068-exec-9] o.s.s.web.util.matcher.OrRequestMatcher  : Trying to match using Ant [pattern='/logout', DELETE]
2020-08-19 21:28:42.693 DEBUG 12196 --- [http-nio-8068-exec-9] o.s.s.w.u.matcher.AntPathRequestMatcher  : Request 'GET /error' doesn't match 'DELETE /logout'
2020-08-19 21:28:42.693 DEBUG 12196 --- [http-nio-8068-exec-9] o.s.s.web.util.matcher.OrRequestMatcher  : No matches found
2020-08-19 21:28:42.693 DEBUG 12196 --- [http-nio-8068-exec-9] o.s.security.web.FilterChainProxy        : /error at position 5 of 11 in additional filter chain; firing Filter: 'JwtTokenFilter'
2020-08-19 21:28:42.700  INFO 12196 --- [http-nio-8068-exec-9] r.l.service.user.impl.UserServiceImpl    : IN UserServiceImpl findByUsername - user: User{username='admin', firstName='adminfirst', lastName='adminsecond', email='admin@test.ru', phone='79119797777', password='$2a$04$FyuSb5hiBcNoE0Oy4TDC2eMGB2qZpmMAc.uohHzpNxpJewYAqcp3u', roles=[Role{id: 1, name: ROLE_ADMIN}, Role{id: 1, name: ROLE_ADMIN}, Role{id: 1, name: ROLE_ADMIN}], userStatus=ACTIVE} found by userName: admin
2020-08-19 21:28:42.701  INFO 12196 --- [http-nio-8068-exec-9] r.l.security.JwtUserDetailsService       : IN loadUserByUsername - user with username: admin successfully loaded
2020-08-19 21:28:42.701 DEBUG 12196 --- [http-nio-8068-exec-9] o.s.security.web.FilterChainProxy        : /error at position 6 of 11 in additional filter chain; firing Filter: 'RequestCacheAwareFilter'
2020-08-19 21:28:42.701 DEBUG 12196 --- [http-nio-8068-exec-9] o.s.security.web.FilterChainProxy        : /error at position 7 of 11 in additional filter chain; firing Filter: 'SecurityContextHolderAwareRequestFilter'
2020-08-19 21:28:42.701 DEBUG 12196 --- [http-nio-8068-exec-9] o.s.security.web.FilterChainProxy        : /error at position 8 of 11 in additional filter chain; firing Filter: 'AnonymousAuthenticationFilter'
2020-08-19 21:28:42.701 DEBUG 12196 --- [http-nio-8068-exec-9] o.s.s.w.a.AnonymousAuthenticationFilter  : SecurityContextHolder not populated with anonymous token, as it already contained: 'org.springframework.security.authentication.UsernamePasswordAuthenticationToken@4df7555f: Principal: ru.logisticplatform.security.jwt.JwtUser@d549cbd; Credentials: [PROTECTED]; Authenticated: true; Details: null; Granted Authorities: ROLE_ADMIN, ROLE_ADMIN, ROLE_ADMIN'
2020-08-19 21:28:42.701 DEBUG 12196 --- [http-nio-8068-exec-9] o.s.security.web.FilterChainProxy        : /error at position 9 of 11 in additional filter chain; firing Filter: 'SessionManagementFilter'
2020-08-19 21:28:42.701 DEBUG 12196 --- [http-nio-8068-exec-9] o.s.security.web.FilterChainProxy        : /error at position 10 of 11 in additional filter chain; firing Filter: 'ExceptionTranslationFilter'
2020-08-19 21:28:42.702 DEBUG 12196 --- [http-nio-8068-exec-9] o.s.security.web.FilterChainProxy        : /error at position 11 of 11 in additional filter chain; firing Filter: 'FilterSecurityInterceptor'
2020-08-19 21:28:42.702 DEBUG 12196 --- [http-nio-8068-exec-9] o.s.security.web.FilterChainProxy        : /error reached end of additional filter chain; proceeding with original chain
2020-08-19 21:28:42.704 DEBUG 12196 --- [http-nio-8068-exec-9] o.s.s.w.a.ExceptionTranslationFilter     : Chain processed normally
2020-08-19 21:28:42.705 DEBUG 12196 --- [http-nio-8068-exec-9] s.s.w.c.SecurityContextPersistenceFilter : SecurityContextHolder now cleared, as request processing completed
2020-08-19 21:30:46.308  INFO 12196 --- [SpringContextShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2020-08-19 21:30:46.311  INFO 12196 --- [SpringContextShutdownHook] o.s.s.concurrent.ThreadPoolTaskExecutor  : Shutting down ExecutorService 'applicationTaskExecutor'
2020-08-19 21:30:46.311  INFO 12196 --- [SpringContextShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-2 - Shutdown initiated...
2020-08-19 21:30:46.321  INFO 12196 --- [SpringContextShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-2 - Shutdown completed.
2020-08-19 21:53:19.882  INFO 14440 --- [main] r.l.LogisticPlatformApplication          : Starting LogisticPlatformApplication on DESKTOP-KQ9S95L with PID 14440 (G:\JAVA\avalon\VKR\_logisticplatform\logisticplatform\target\classes started by x in G:\JAVA\avalon\VKR\_logisticplatform\logisticplatform)
2020-08-19 21:53:19.886  INFO 14440 --- [main] r.l.LogisticPlatformApplication          : No active profile set, falling back to default profiles: default
2020-08-19 21:53:20.976  INFO 14440 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFERRED mode.
2020-08-19 21:53:21.122  INFO 14440 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 134ms. Found 9 JPA repository interfaces.
2020-08-19 21:53:21.991  INFO 14440 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8068 (http)
2020-08-19 21:53:22.011  INFO 14440 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2020-08-19 21:53:22.011  INFO 14440 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.36]
2020-08-19 21:53:22.274  INFO 14440 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2020-08-19 21:53:22.274  INFO 14440 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 2326 ms
2020-08-19 21:53:22.510  INFO 14440 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2020-08-19 21:53:23.033  INFO 14440 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2020-08-19 21:53:24.964  INFO 14440 --- [main] liquibase.executor.jvm.JdbcExecutor      : SELECT COUNT(*) FROM logisticplatform.DATABASECHANGELOGLOCK
2020-08-19 21:53:24.973  INFO 14440 --- [main] liquibase.executor.jvm.JdbcExecutor      : SELECT COUNT(*) FROM logisticplatform.DATABASECHANGELOGLOCK
2020-08-19 21:53:24.976  INFO 14440 --- [main] liquibase.executor.jvm.JdbcExecutor      : SELECT `LOCKED` FROM logisticplatform.DATABASECHANGELOGLOCK WHERE ID=1
2020-08-19 21:53:25.041  INFO 14440 --- [main] l.lockservice.StandardLockService        : Successfully acquired change log lock
2020-08-19 21:53:28.342  INFO 14440 --- [main] liquibase.executor.jvm.JdbcExecutor      : SELECT MD5SUM FROM logisticplatform.DATABASECHANGELOG WHERE MD5SUM IS NOT NULL LIMIT 1
2020-08-19 21:53:28.343  INFO 14440 --- [main] liquibase.executor.jvm.JdbcExecutor      : SELECT COUNT(*) FROM logisticplatform.DATABASECHANGELOG
2020-08-19 21:53:28.345  INFO 14440 --- [main] l.c.StandardChangeLogHistoryService      : Reading from logisticplatform.DATABASECHANGELOG
2020-08-19 21:53:28.345  INFO 14440 --- [main] liquibase.executor.jvm.JdbcExecutor      : SELECT * FROM logisticplatform.DATABASECHANGELOG ORDER BY DATEEXECUTED ASC, ORDEREXECUTED ASC
2020-08-19 21:53:28.499  INFO 14440 --- [main] l.lockservice.StandardLockService        : Successfully released change log lock
2020-08-19 21:53:28.504  WARN 14440 --- [main] ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'liquibase' defined in class path resource [org/springframework/boot/autoconfigure/liquibase/LiquibaseAutoConfiguration$LiquibaseConfiguration.class]: Invocation of init method failed; nested exception is liquibase.exception.ValidationFailedException: Validation Failed:
     1 change sets check sum
          classpath:liquibase/db.changelog-1.0.xml::1.0.21::serg.perm was: 8:7e6cbf51eafc03dc864b58af36ed075d but is now: 8:5c8bb02840fd13813fd247e828068cfc

2020-08-19 21:53:28.510  INFO 14440 --- [main] o.apache.catalina.core.StandardService   : Stopping service [Tomcat]
2020-08-19 21:53:28.532  INFO 14440 --- [main] ConditionEvaluationReportLoggingListener : 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2020-08-19 21:53:28.562 ERROR 14440 --- [main] o.s.boot.SpringApplication               : Application run failed

org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'liquibase' defined in class path resource [org/springframework/boot/autoconfigure/liquibase/LiquibaseAutoConfiguration$LiquibaseConfiguration.class]: Invocation of init method failed; nested exception is liquibase.exception.ValidationFailedException: Validation Failed:
     1 change sets check sum
          classpath:liquibase/db.changelog-1.0.xml::1.0.21::serg.perm was: 8:7e6cbf51eafc03dc864b58af36ed075d but is now: 8:5c8bb02840fd13813fd247e828068cfc

	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1796) ~[spring-beans-5.2.7.RELEASE.jar:5.2.7.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:595) ~[spring-beans-5.2.7.RELEASE.jar:5.2.7.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:517) ~[spring-beans-5.2.7.RELEASE.jar:5.2.7.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:323) ~[spring-beans-5.2.7.RELEASE.jar:5.2.7.RELEASE]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:226) ~[spring-beans-5.2.7.RELEASE.jar:5.2.7.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:321) ~[spring-beans-5.2.7.RELEASE.jar:5.2.7.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202) ~[spring-beans-5.2.7.RELEASE.jar:5.2.7.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:310) ~[spring-beans-5.2.7.RELEASE.jar:5.2.7.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202) ~[spring-beans-5.2.7.RELEASE.jar:5.2.7.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1109) ~[spring-context-5.2.7.RELEASE.jar:5.2.7.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:869) ~[spring-context-5.2.7.RELEASE.jar:5.2.7.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:551) ~[spring-context-5.2.7.RELEASE.jar:5.2.7.RELEASE]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:143) ~[spring-boot-2.3.1.RELEASE.jar:2.3.1.RELEASE]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:758) [spring-boot-2.3.1.RELEASE.jar:2.3.1.RELEASE]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:750) [spring-boot-2.3.1.RELEASE.jar:2.3.1.RELEASE]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:397) [spring-boot-2.3.1.RELEASE.jar:2.3.1.RELEASE]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:315) [spring-boot-2.3.1.RELEASE.jar:2.3.1.RELEASE]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1237) [spring-boot-2.3.1.RELEASE.jar:2.3.1.RELEASE]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1226) [spring-boot-2.3.1.RELEASE.jar:2.3.1.RELEASE]
	at ru.logisticplatform.LogisticPlatformApplication.main(LogisticPlatformApplication.java:10) [classes/:na]
Caused by: liquibase.exception.ValidationFailedException: Validation Failed:
     1 change sets check sum
          classpath:liquibase/db.changelog-1.0.xml::1.0.21::serg.perm was: 8:7e6cbf51eafc03dc864b58af36ed075d but is now: 8:5c8bb02840fd13813fd247e828068cfc

	at liquibase.changelog.DatabaseChangeLog.validate(DatabaseChangeLog.java:288) ~[liquibase-core-3.8.9.jar:na]
	at liquibase.Liquibase.update(Liquibase.java:198) ~[liquibase-core-3.8.9.jar:na]
	at liquibase.Liquibase.update(Liquibase.java:179) ~[liquibase-core-3.8.9.jar:na]
	at liquibase.integration.spring.SpringLiquibase.performUpdate(SpringLiquibase.java:366) ~[liquibase-core-3.8.9.jar:na]
	at liquibase.integration.spring.SpringLiquibase.afterPropertiesSet(SpringLiquibase.java:314) ~[liquibase-core-3.8.9.jar:na]
	at org.springframework.boot.autoconfigure.liquibase.DataSourceClosingSpringLiquibase.afterPropertiesSet(DataSourceClosingSpringLiquibase.java:46) ~[spring-boot-autoconfigure-2.3.1.RELEASE.jar:2.3.1.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1855) ~[spring-beans-5.2.7.RELEASE.jar:5.2.7.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1792) ~[spring-beans-5.2.7.RELEASE.jar:5.2.7.RELEASE]
	... 19 common frames omitted

2020-08-19 21:54:27.174  INFO 6264 --- [main] r.l.LogisticPlatformApplication          : Starting LogisticPlatformApplication on DESKTOP-KQ9S95L with PID 6264 (G:\JAVA\avalon\VKR\_logisticplatform\logisticplatform\target\classes started by x in G:\JAVA\avalon\VKR\_logisticplatform\logisticplatform)
2020-08-19 21:54:27.179  INFO 6264 --- [main] r.l.LogisticPlatformApplication          : No active profile set, falling back to default profiles: default
2020-08-19 21:54:28.335  INFO 6264 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFERRED mode.
2020-08-19 21:54:28.482  INFO 6264 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 135ms. Found 9 JPA repository interfaces.
2020-08-19 21:54:29.396  INFO 6264 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8068 (http)
2020-08-19 21:54:29.407  INFO 6264 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2020-08-19 21:54:29.408  INFO 6264 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.36]
2020-08-19 21:54:29.606  INFO 6264 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2020-08-19 21:54:29.607  INFO 6264 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 2360 ms
2020-08-19 21:54:29.765  INFO 6264 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2020-08-19 21:54:30.329  INFO 6264 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2020-08-19 21:54:32.239  INFO 6264 --- [main] liquibase.executor.jvm.JdbcExecutor      : SELECT COUNT(*) FROM logisticplatform.DATABASECHANGELOGLOCK
2020-08-19 21:54:32.248  INFO 6264 --- [main] liquibase.executor.jvm.JdbcExecutor      : SELECT COUNT(*) FROM logisticplatform.DATABASECHANGELOGLOCK
2020-08-19 21:54:32.252  INFO 6264 --- [main] liquibase.executor.jvm.JdbcExecutor      : SELECT `LOCKED` FROM logisticplatform.DATABASECHANGELOGLOCK WHERE ID=1
2020-08-19 21:54:32.323  INFO 6264 --- [main] l.lockservice.StandardLockService        : Successfully acquired change log lock
2020-08-19 21:54:35.492  INFO 6264 --- [main] liquibase.executor.jvm.JdbcExecutor      : SELECT MD5SUM FROM logisticplatform.DATABASECHANGELOG WHERE MD5SUM IS NOT NULL LIMIT 1
2020-08-19 21:54:35.493  INFO 6264 --- [main] liquibase.executor.jvm.JdbcExecutor      : SELECT COUNT(*) FROM logisticplatform.DATABASECHANGELOG
2020-08-19 21:54:35.495  INFO 6264 --- [main] l.c.StandardChangeLogHistoryService      : Reading from logisticplatform.DATABASECHANGELOG
2020-08-19 21:54:35.495  INFO 6264 --- [main] liquibase.executor.jvm.JdbcExecutor      : SELECT * FROM logisticplatform.DATABASECHANGELOG ORDER BY DATEEXECUTED ASC, ORDEREXECUTED ASC
2020-08-19 21:54:35.622  INFO 6264 --- [main] l.lockservice.StandardLockService        : Successfully released change log lock
2020-08-19 21:54:35.624  INFO 6264 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2020-08-19 21:54:35.642  INFO 6264 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2020-08-19 21:54:35.749  INFO 6264 --- [main] o.s.s.concurrent.ThreadPoolTaskExecutor  : Initializing ExecutorService 'applicationTaskExecutor'
2020-08-19 21:54:35.792  INFO 6264 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-2 - Starting...
2020-08-19 21:54:35.793  WARN 6264 --- [main] com.zaxxer.hikari.util.DriverDataSource  : Registered driver with driverClassName=com.mysql.jdbc.Driver was not found, trying direct instantiation.
2020-08-19 21:54:35.811  INFO 6264 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-2 - Start completed.
2020-08-19 21:54:35.869  INFO 6264 --- [task-1] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2020-08-19 21:54:35.926  WARN 6264 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2020-08-19 21:54:35.939  INFO 6264 --- [task-1] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.4.17.Final
2020-08-19 21:54:36.145  INFO 6264 --- [task-1] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.0.Final}
2020-08-19 21:54:36.310  INFO 6264 --- [task-1] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2020-08-19 21:54:36.466 DEBUG 6264 --- [main] eGlobalAuthenticationAutowiredConfigurer : Eagerly initializing {org.springframework.boot.autoconfigure.security.servlet.WebSecurityEnablerConfiguration=org.springframework.boot.autoconfigure.security.servlet.WebSecurityEnablerConfiguration@57466fb7}
2020-08-19 21:54:36.571 DEBUG 6264 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression 'permitAll', for Ant [pattern='/api/v1/sign/**']
2020-08-19 21:54:36.573 DEBUG 6264 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression 'hasRole('ROLE_ADMIN')', for Ant [pattern='/api/v1/admins/**']
2020-08-19 21:54:36.574 DEBUG 6264 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression 'hasRole('ROLE_CUSTOMER')', for Ant [pattern='/api/v1/customers/**']
2020-08-19 21:54:36.575 DEBUG 6264 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression 'hasRole('ROLE_CONTRACTOR')', for Ant [pattern='/api/v1/contractors/**']
2020-08-19 21:54:36.575 DEBUG 6264 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression 'hasAnyRole('ROLE_CONTRACTOR','ROLE_CUSTOMER')', for Ant [pattern='/api/v1/transporttypes/**']
2020-08-19 21:54:36.575 DEBUG 6264 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression 'authenticated', for any request
2020-08-19 21:54:36.814 DEBUG 6264 --- [main] o.s.s.w.a.i.FilterSecurityInterceptor    : Validated configuration attributes
2020-08-19 21:54:36.816 DEBUG 6264 --- [main] o.s.s.w.a.i.FilterSecurityInterceptor    : Validated configuration attributes
2020-08-19 21:54:36.820  INFO 6264 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: any request, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@29ddaa8e, org.springframework.security.web.context.SecurityContextPersistenceFilter@121f9c52, org.springframework.security.web.header.HeaderWriterFilter@5dc1597f, org.springframework.security.web.authentication.logout.LogoutFilter@65b69ccb, ru.logisticplatform.security.jwt.JwtTokenFilter@4c678a1f, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@156f0281, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@35d53cd8, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@217009bd, org.springframework.security.web.session.SessionManagementFilter@279ebd94, org.springframework.security.web.access.ExceptionTranslationFilter@5315210d, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@712213ed]
2020-08-19 21:54:36.887  INFO 6264 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8068 (http) with context path ''
2020-08-19 21:54:36.890  INFO 6264 --- [main] DeferredRepositoryInitializationListener : Triggering deferred initialization of Spring Data repositoriesâ€¦
2020-08-19 21:54:37.591  INFO 6264 --- [task-1] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2020-08-19 21:54:37.606  INFO 6264 --- [task-1] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2020-08-19 21:54:38.276  INFO 6264 --- [main] DeferredRepositoryInitializationListener : Spring Data repositories initialized!
2020-08-19 21:54:38.298  INFO 6264 --- [main] r.l.LogisticPlatformApplication          : Started LogisticPlatformApplication in 12.143 seconds (JVM running for 13.225)
2020-08-19 21:55:42.212  INFO 6264 --- [http-nio-8068-exec-2] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2020-08-19 21:55:42.213  INFO 6264 --- [http-nio-8068-exec-2] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2020-08-19 21:55:42.221  INFO 6264 --- [http-nio-8068-exec-2] o.s.web.servlet.DispatcherServlet        : Completed initialization in 8 ms
2020-08-19 21:55:42.235 DEBUG 6264 --- [http-nio-8068-exec-2] o.s.security.web.FilterChainProxy        : /api/v1/sign/in at position 1 of 11 in additional filter chain; firing Filter: 'WebAsyncManagerIntegrationFilter'
2020-08-19 21:55:42.237 DEBUG 6264 --- [http-nio-8068-exec-2] o.s.security.web.FilterChainProxy        : /api/v1/sign/in at position 2 of 11 in additional filter chain; firing Filter: 'SecurityContextPersistenceFilter'
2020-08-19 21:55:42.240 DEBUG 6264 --- [http-nio-8068-exec-2] o.s.security.web.FilterChainProxy        : /api/v1/sign/in at position 3 of 11 in additional filter chain; firing Filter: 'HeaderWriterFilter'
2020-08-19 21:55:42.241 DEBUG 6264 --- [http-nio-8068-exec-2] o.s.security.web.FilterChainProxy        : /api/v1/sign/in at position 4 of 11 in additional filter chain; firing Filter: 'LogoutFilter'
2020-08-19 21:55:42.242 DEBUG 6264 --- [http-nio-8068-exec-2] o.s.s.web.util.matcher.OrRequestMatcher  : Trying to match using Ant [pattern='/logout', GET]
2020-08-19 21:55:42.242 DEBUG 6264 --- [http-nio-8068-exec-2] o.s.s.w.u.matcher.AntPathRequestMatcher  : Request 'POST /api/v1/sign/in' doesn't match 'GET /logout'
2020-08-19 21:55:42.242 DEBUG 6264 --- [http-nio-8068-exec-2] o.s.s.web.util.matcher.OrRequestMatcher  : Trying to match using Ant [pattern='/logout', POST]
2020-08-19 21:55:42.242 DEBUG 6264 --- [http-nio-8068-exec-2] o.s.s.w.u.matcher.AntPathRequestMatcher  : Checking match of request : '/api/v1/sign/in'; against '/logout'
2020-08-19 21:55:42.242 DEBUG 6264 --- [http-nio-8068-exec-2] o.s.s.web.util.matcher.OrRequestMatcher  : Trying to match using Ant [pattern='/logout', PUT]
2020-08-19 21:55:42.242 DEBUG 6264 --- [http-nio-8068-exec-2] o.s.s.w.u.matcher.AntPathRequestMatcher  : Request 'POST /api/v1/sign/in' doesn't match 'PUT /logout'
2020-08-19 21:55:42.242 DEBUG 6264 --- [http-nio-8068-exec-2] o.s.s.web.util.matcher.OrRequestMatcher  : Trying to match using Ant [pattern='/logout', DELETE]
2020-08-19 21:55:42.243 DEBUG 6264 --- [http-nio-8068-exec-2] o.s.s.w.u.matcher.AntPathRequestMatcher  : Request 'POST /api/v1/sign/in' doesn't match 'DELETE /logout'
2020-08-19 21:55:42.243 DEBUG 6264 --- [http-nio-8068-exec-2] o.s.s.web.util.matcher.OrRequestMatcher  : No matches found
2020-08-19 21:55:42.243 DEBUG 6264 --- [http-nio-8068-exec-2] o.s.security.web.FilterChainProxy        : /api/v1/sign/in at position 5 of 11 in additional filter chain; firing Filter: 'JwtTokenFilter'
2020-08-19 21:55:42.243 DEBUG 6264 --- [http-nio-8068-exec-2] o.s.security.web.FilterChainProxy        : /api/v1/sign/in at position 6 of 11 in additional filter chain; firing Filter: 'RequestCacheAwareFilter'
2020-08-19 21:55:42.243 DEBUG 6264 --- [http-nio-8068-exec-2] o.s.security.web.FilterChainProxy        : /api/v1/sign/in at position 7 of 11 in additional filter chain; firing Filter: 'SecurityContextHolderAwareRequestFilter'
2020-08-19 21:55:42.245 DEBUG 6264 --- [http-nio-8068-exec-2] o.s.security.web.FilterChainProxy        : /api/v1/sign/in at position 8 of 11 in additional filter chain; firing Filter: 'AnonymousAuthenticationFilter'
2020-08-19 21:55:42.247 DEBUG 6264 --- [http-nio-8068-exec-2] o.s.s.w.a.AnonymousAuthenticationFilter  : Populated SecurityContextHolder with anonymous token: 'org.springframework.security.authentication.AnonymousAuthenticationToken@10e73435: Principal: anonymousUser; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_ANONYMOUS'
2020-08-19 21:55:42.247 DEBUG 6264 --- [http-nio-8068-exec-2] o.s.security.web.FilterChainProxy        : /api/v1/sign/in at position 9 of 11 in additional filter chain; firing Filter: 'SessionManagementFilter'
2020-08-19 21:55:42.247 DEBUG 6264 --- [http-nio-8068-exec-2] o.s.security.web.FilterChainProxy        : /api/v1/sign/in at position 10 of 11 in additional filter chain; firing Filter: 'ExceptionTranslationFilter'
2020-08-19 21:55:42.247 DEBUG 6264 --- [http-nio-8068-exec-2] o.s.security.web.FilterChainProxy        : /api/v1/sign/in at position 11 of 11 in additional filter chain; firing Filter: 'FilterSecurityInterceptor'
2020-08-19 21:55:42.248 DEBUG 6264 --- [http-nio-8068-exec-2] o.s.s.w.u.matcher.AntPathRequestMatcher  : Checking match of request : '/api/v1/sign/in'; against '/api/v1/sign/**'
2020-08-19 21:55:42.248 DEBUG 6264 --- [http-nio-8068-exec-2] o.s.s.w.a.i.FilterSecurityInterceptor    : Secure object: FilterInvocation: URL: /api/v1/sign/in; Attributes: [permitAll]
2020-08-19 21:55:42.248 DEBUG 6264 --- [http-nio-8068-exec-2] o.s.s.w.a.i.FilterSecurityInterceptor    : Previously Authenticated: org.springframework.security.authentication.AnonymousAuthenticationToken@10e73435: Principal: anonymousUser; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_ANONYMOUS
2020-08-19 21:55:42.254 DEBUG 6264 --- [http-nio-8068-exec-2] o.s.s.access.vote.AffirmativeBased       : Voter: org.springframework.security.web.access.expression.WebExpressionVoter@2e453fa0, returned: 1
2020-08-19 21:55:42.254 DEBUG 6264 --- [http-nio-8068-exec-2] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorization successful
2020-08-19 21:55:42.255 DEBUG 6264 --- [http-nio-8068-exec-2] o.s.s.w.a.i.FilterSecurityInterceptor    : RunAsManager did not change Authentication object
2020-08-19 21:55:42.255 DEBUG 6264 --- [http-nio-8068-exec-2] o.s.security.web.FilterChainProxy        : /api/v1/sign/in reached end of additional filter chain; proceeding with original chain
2020-08-19 21:55:42.358 DEBUG 6264 --- [http-nio-8068-exec-2] o.s.s.authentication.ProviderManager     : Authentication attempt using org.springframework.security.authentication.dao.DaoAuthenticationProvider
2020-08-19 21:55:42.685  INFO 6264 --- [http-nio-8068-exec-2] r.l.service.user.impl.UserServiceImpl    : IN UserServiceImpl findByUsername - user: User{username='contractor1', firstName='firstNamecontractor1', lastName='lastNamecontractor1', email='emaicontractor1@mail.ru', phone='79119797601', password='$2a$10$3DhCz0.o.Qab.DOyPTtbTOFdNauditiMvzVN5MVQM6Q6snunxdU8C', roles=[Role{id: 2, name: ROLE_CONTRACTOR}], userStatus=ACTIVE} found by userName: contractor1
2020-08-19 21:55:42.686  INFO 6264 --- [http-nio-8068-exec-2] r.l.security.JwtUserDetailsService       : IN loadUserByUsername - user with username: contractor1 successfully loaded
2020-08-19 21:55:42.814  INFO 6264 --- [http-nio-8068-exec-2] r.l.service.user.impl.UserServiceImpl    : IN UserServiceImpl findByUsername - user: User{username='contractor1', firstName='firstNamecontractor1', lastName='lastNamecontractor1', email='emaicontractor1@mail.ru', phone='79119797601', password='$2a$10$3DhCz0.o.Qab.DOyPTtbTOFdNauditiMvzVN5MVQM6Q6snunxdU8C', roles=[Role{id: 2, name: ROLE_CONTRACTOR}], userStatus=ACTIVE} found by userName: contractor1
2020-08-19 21:55:42.888 DEBUG 6264 --- [http-nio-8068-exec-2] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match the requestMatcher org.springframework.security.web.header.writers.HstsHeaderWriter$SecureRequestMatcher@83ea07a
2020-08-19 21:55:42.897 DEBUG 6264 --- [http-nio-8068-exec-2] o.s.s.w.a.ExceptionTranslationFilter     : Chain processed normally
2020-08-19 21:55:42.897 DEBUG 6264 --- [http-nio-8068-exec-2] s.s.w.c.SecurityContextPersistenceFilter : SecurityContextHolder now cleared, as request processing completed
2020-08-19 21:56:32.564 DEBUG 6264 --- [http-nio-8068-exec-3] o.s.security.web.FilterChainProxy        : /api/v1/transporttypes/1 at position 1 of 11 in additional filter chain; firing Filter: 'WebAsyncManagerIntegrationFilter'
2020-08-19 21:56:32.564 DEBUG 6264 --- [http-nio-8068-exec-3] o.s.security.web.FilterChainProxy        : /api/v1/transporttypes/1 at position 2 of 11 in additional filter chain; firing Filter: 'SecurityContextPersistenceFilter'
2020-08-19 21:56:32.564 DEBUG 6264 --- [http-nio-8068-exec-3] o.s.security.web.FilterChainProxy        : /api/v1/transporttypes/1 at position 3 of 11 in additional filter chain; firing Filter: 'HeaderWriterFilter'
2020-08-19 21:56:32.564 DEBUG 6264 --- [http-nio-8068-exec-3] o.s.security.web.FilterChainProxy        : /api/v1/transporttypes/1 at position 4 of 11 in additional filter chain; firing Filter: 'LogoutFilter'
2020-08-19 21:56:32.565 DEBUG 6264 --- [http-nio-8068-exec-3] o.s.s.web.util.matcher.OrRequestMatcher  : Trying to match using Ant [pattern='/logout', GET]
2020-08-19 21:56:32.565 DEBUG 6264 --- [http-nio-8068-exec-3] o.s.s.w.u.matcher.AntPathRequestMatcher  : Checking match of request : '/api/v1/transporttypes/1'; against '/logout'
2020-08-19 21:56:32.565 DEBUG 6264 --- [http-nio-8068-exec-3] o.s.s.web.util.matcher.OrRequestMatcher  : Trying to match using Ant [pattern='/logout', POST]
2020-08-19 21:56:32.565 DEBUG 6264 --- [http-nio-8068-exec-3] o.s.s.w.u.matcher.AntPathRequestMatcher  : Request 'GET /api/v1/transporttypes/1' doesn't match 'POST /logout'
2020-08-19 21:56:32.565 DEBUG 6264 --- [http-nio-8068-exec-3] o.s.s.web.util.matcher.OrRequestMatcher  : Trying to match using Ant [pattern='/logout', PUT]
2020-08-19 21:56:32.565 DEBUG 6264 --- [http-nio-8068-exec-3] o.s.s.w.u.matcher.AntPathRequestMatcher  : Request 'GET /api/v1/transporttypes/1' doesn't match 'PUT /logout'
2020-08-19 21:56:32.565 DEBUG 6264 --- [http-nio-8068-exec-3] o.s.s.web.util.matcher.OrRequestMatcher  : Trying to match using Ant [pattern='/logout', DELETE]
2020-08-19 21:56:32.565 DEBUG 6264 --- [http-nio-8068-exec-3] o.s.s.w.u.matcher.AntPathRequestMatcher  : Request 'GET /api/v1/transporttypes/1' doesn't match 'DELETE /logout'
2020-08-19 21:56:32.565 DEBUG 6264 --- [http-nio-8068-exec-3] o.s.s.web.util.matcher.OrRequestMatcher  : No matches found
2020-08-19 21:56:32.566 DEBUG 6264 --- [http-nio-8068-exec-3] o.s.security.web.FilterChainProxy        : /api/v1/transporttypes/1 at position 5 of 11 in additional filter chain; firing Filter: 'JwtTokenFilter'
2020-08-19 21:56:32.623  INFO 6264 --- [http-nio-8068-exec-3] r.l.service.user.impl.UserServiceImpl    : IN UserServiceImpl findByUsername - user: User{username='contractor1', firstName='firstNamecontractor1', lastName='lastNamecontractor1', email='emaicontractor1@mail.ru', phone='79119797601', password='$2a$10$3DhCz0.o.Qab.DOyPTtbTOFdNauditiMvzVN5MVQM6Q6snunxdU8C', roles=[Role{id: 2, name: ROLE_CONTRACTOR}], userStatus=ACTIVE} found by userName: contractor1
2020-08-19 21:56:32.623  INFO 6264 --- [http-nio-8068-exec-3] r.l.security.JwtUserDetailsService       : IN loadUserByUsername - user with username: contractor1 successfully loaded
2020-08-19 21:56:32.623 DEBUG 6264 --- [http-nio-8068-exec-3] o.s.security.web.FilterChainProxy        : /api/v1/transporttypes/1 at position 6 of 11 in additional filter chain; firing Filter: 'RequestCacheAwareFilter'
2020-08-19 21:56:32.623 DEBUG 6264 --- [http-nio-8068-exec-3] o.s.security.web.FilterChainProxy        : /api/v1/transporttypes/1 at position 7 of 11 in additional filter chain; firing Filter: 'SecurityContextHolderAwareRequestFilter'
2020-08-19 21:56:32.623 DEBUG 6264 --- [http-nio-8068-exec-3] o.s.security.web.FilterChainProxy        : /api/v1/transporttypes/1 at position 8 of 11 in additional filter chain; firing Filter: 'AnonymousAuthenticationFilter'
2020-08-19 21:56:32.623 DEBUG 6264 --- [http-nio-8068-exec-3] o.s.s.w.a.AnonymousAuthenticationFilter  : SecurityContextHolder not populated with anonymous token, as it already contained: 'org.springframework.security.authentication.UsernamePasswordAuthenticationToken@2d88a493: Principal: ru.logisticplatform.security.jwt.JwtUser@32097e89; Credentials: [PROTECTED]; Authenticated: true; Details: null; Granted Authorities: ROLE_CONTRACTOR'
2020-08-19 21:56:32.623 DEBUG 6264 --- [http-nio-8068-exec-3] o.s.security.web.FilterChainProxy        : /api/v1/transporttypes/1 at position 9 of 11 in additional filter chain; firing Filter: 'SessionManagementFilter'
2020-08-19 21:56:32.624 DEBUG 6264 --- [http-nio-8068-exec-3] s.CompositeSessionAuthenticationStrategy : Delegating to org.springframework.security.web.authentication.session.ChangeSessionIdAuthenticationStrategy@2082e0e4
2020-08-19 21:56:32.624 DEBUG 6264 --- [http-nio-8068-exec-3] o.s.security.web.FilterChainProxy        : /api/v1/transporttypes/1 at position 10 of 11 in additional filter chain; firing Filter: 'ExceptionTranslationFilter'
2020-08-19 21:56:32.624 DEBUG 6264 --- [http-nio-8068-exec-3] o.s.security.web.FilterChainProxy        : /api/v1/transporttypes/1 at position 11 of 11 in additional filter chain; firing Filter: 'FilterSecurityInterceptor'
2020-08-19 21:56:32.624 DEBUG 6264 --- [http-nio-8068-exec-3] o.s.s.w.u.matcher.AntPathRequestMatcher  : Checking match of request : '/api/v1/transporttypes/1'; against '/api/v1/sign/**'
2020-08-19 21:56:32.624 DEBUG 6264 --- [http-nio-8068-exec-3] o.s.s.w.u.matcher.AntPathRequestMatcher  : Checking match of request : '/api/v1/transporttypes/1'; against '/api/v1/admins/**'
2020-08-19 21:56:32.624 DEBUG 6264 --- [http-nio-8068-exec-3] o.s.s.w.u.matcher.AntPathRequestMatcher  : Checking match of request : '/api/v1/transporttypes/1'; against '/api/v1/customers/**'
2020-08-19 21:56:32.624 DEBUG 6264 --- [http-nio-8068-exec-3] o.s.s.w.u.matcher.AntPathRequestMatcher  : Checking match of request : '/api/v1/transporttypes/1'; against '/api/v1/contractors/**'
2020-08-19 21:56:32.624 DEBUG 6264 --- [http-nio-8068-exec-3] o.s.s.w.u.matcher.AntPathRequestMatcher  : Checking match of request : '/api/v1/transporttypes/1'; against '/api/v1/transporttypes/**'
2020-08-19 21:56:32.624 DEBUG 6264 --- [http-nio-8068-exec-3] o.s.s.w.a.i.FilterSecurityInterceptor    : Secure object: FilterInvocation: URL: /api/v1/transporttypes/1; Attributes: [hasAnyRole('ROLE_CONTRACTOR','ROLE_CUSTOMER')]
2020-08-19 21:56:32.624 DEBUG 6264 --- [http-nio-8068-exec-3] o.s.s.w.a.i.FilterSecurityInterceptor    : Previously Authenticated: org.springframework.security.authentication.UsernamePasswordAuthenticationToken@2d88a493: Principal: ru.logisticplatform.security.jwt.JwtUser@32097e89; Credentials: [PROTECTED]; Authenticated: true; Details: null; Granted Authorities: ROLE_CONTRACTOR
2020-08-19 21:56:32.625 DEBUG 6264 --- [http-nio-8068-exec-3] o.s.s.access.vote.AffirmativeBased       : Voter: org.springframework.security.web.access.expression.WebExpressionVoter@2e453fa0, returned: 1
2020-08-19 21:56:32.625 DEBUG 6264 --- [http-nio-8068-exec-3] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorization successful
2020-08-19 21:56:32.625 DEBUG 6264 --- [http-nio-8068-exec-3] o.s.s.w.a.i.FilterSecurityInterceptor    : RunAsManager did not change Authentication object
2020-08-19 21:56:32.625 DEBUG 6264 --- [http-nio-8068-exec-3] o.s.security.web.FilterChainProxy        : /api/v1/transporttypes/1 reached end of additional filter chain; proceeding with original chain
2020-08-19 21:56:32.655  INFO 6264 --- [http-nio-8068-exec-3] r.l.s.t.impl.TransportTypeServiceImpl    : IN TransportTypeServiceImpl findById - transportType: TransportType(name=ÐœÐ¸Ð½Ð¸ Ñ„ÑƒÑ€Ð³Ð¾Ð½ (ÐºÐ°Ð±Ð»ÑƒÐº), description=ÐžÑ‚Ð»Ð¸Ñ‡Ð½Ð¾Ðµ Ñ€ÐµÑˆÐµÐ½Ð¸Ðµ Ð´Ð»Ñ Ð´Ð¾ÑÑ‚Ð°Ð²ÐºÐ¸ Ð¼ÐµÐ»ÐºÐ¸Ñ… Ð³Ñ€ÑƒÐ·Ð¾Ð². ÐŸÐ¾Ð¼Ð¾Ð¶ÐµÑ‚ Ð¿ÐµÑ€ÐµÐ²ÐµÐ·Ñ‚Ð¸ Ð±Ñ‹Ñ‚Ð¾Ð²ÑƒÑŽ Ñ‚ÐµÑ…Ð½Ð¸ÐºÑƒ Ð¸ Ð½ÐµÐ±Ð¾Ð»ÑŒÑˆÐ¾Ðµ ÐºÐ¾Ð»Ð¸Ñ‡ÐµÑÑ‚Ð²Ð¾ Ð²ÐµÑ‰ÐµÐ¹., lenght=1.6, width=1.0, height=1.0, volume=1.6, carrying=500.0, transportations=[]) found by id: 1
2020-08-19 21:56:32.737 DEBUG 6264 --- [http-nio-8068-exec-3] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match the requestMatcher org.springframework.security.web.header.writers.HstsHeaderWriter$SecureRequestMatcher@83ea07a
2020-08-19 21:56:32.738 DEBUG 6264 --- [http-nio-8068-exec-3] o.s.s.w.a.ExceptionTranslationFilter     : Chain processed normally
2020-08-19 21:56:32.738 DEBUG 6264 --- [http-nio-8068-exec-3] s.s.w.c.SecurityContextPersistenceFilter : SecurityContextHolder now cleared, as request processing completed
2020-08-19 21:56:48.362  INFO 6264 --- [SpringContextShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2020-08-19 21:56:48.365  INFO 6264 --- [SpringContextShutdownHook] o.s.s.concurrent.ThreadPoolTaskExecutor  : Shutting down ExecutorService 'applicationTaskExecutor'
2020-08-19 21:56:48.365  INFO 6264 --- [SpringContextShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-2 - Shutdown initiated...
2020-08-19 21:56:48.375  INFO 6264 --- [SpringContextShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-2 - Shutdown completed.
2020-08-19 21:57:55.123  INFO 12728 --- [main] r.l.LogisticPlatformApplication          : Starting LogisticPlatformApplication on DESKTOP-KQ9S95L with PID 12728 (G:\JAVA\avalon\VKR\_logisticplatform\logisticplatform\target\classes started by x in G:\JAVA\avalon\VKR\_logisticplatform\logisticplatform)
2020-08-19 21:57:55.128  INFO 12728 --- [main] r.l.LogisticPlatformApplication          : No active profile set, falling back to default profiles: default
2020-08-19 21:57:56.235  INFO 12728 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFERRED mode.
2020-08-19 21:57:56.391  INFO 12728 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 143ms. Found 9 JPA repository interfaces.
2020-08-19 21:57:57.179  INFO 12728 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8068 (http)
2020-08-19 21:57:57.194  INFO 12728 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2020-08-19 21:57:57.194  INFO 12728 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.36]
2020-08-19 21:57:57.415  INFO 12728 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2020-08-19 21:57:57.415  INFO 12728 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 2219 ms
2020-08-19 21:57:57.663  INFO 12728 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2020-08-19 21:57:58.350  INFO 12728 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2020-08-19 21:58:00.238  INFO 12728 --- [main] liquibase.executor.jvm.JdbcExecutor      : SELECT COUNT(*) FROM logisticplatform.DATABASECHANGELOGLOCK
2020-08-19 21:58:00.245  INFO 12728 --- [main] liquibase.executor.jvm.JdbcExecutor      : SELECT COUNT(*) FROM logisticplatform.DATABASECHANGELOGLOCK
2020-08-19 21:58:00.248  INFO 12728 --- [main] liquibase.executor.jvm.JdbcExecutor      : SELECT `LOCKED` FROM logisticplatform.DATABASECHANGELOGLOCK WHERE ID=1
2020-08-19 21:58:00.318  INFO 12728 --- [main] l.lockservice.StandardLockService        : Successfully acquired change log lock
2020-08-19 21:58:03.706  INFO 12728 --- [main] liquibase.executor.jvm.JdbcExecutor      : SELECT MD5SUM FROM logisticplatform.DATABASECHANGELOG WHERE MD5SUM IS NOT NULL LIMIT 1
2020-08-19 21:58:03.708  INFO 12728 --- [main] liquibase.executor.jvm.JdbcExecutor      : SELECT COUNT(*) FROM logisticplatform.DATABASECHANGELOG
2020-08-19 21:58:03.710  INFO 12728 --- [main] l.c.StandardChangeLogHistoryService      : Reading from logisticplatform.DATABASECHANGELOG
2020-08-19 21:58:03.710  INFO 12728 --- [main] liquibase.executor.jvm.JdbcExecutor      : SELECT * FROM logisticplatform.DATABASECHANGELOG ORDER BY DATEEXECUTED ASC, ORDEREXECUTED ASC
2020-08-19 21:58:03.867  INFO 12728 --- [main] l.lockservice.StandardLockService        : Successfully released change log lock
2020-08-19 21:58:03.869  INFO 12728 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2020-08-19 21:58:03.875  INFO 12728 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2020-08-19 21:58:03.990  INFO 12728 --- [main] o.s.s.concurrent.ThreadPoolTaskExecutor  : Initializing ExecutorService 'applicationTaskExecutor'
2020-08-19 21:58:04.000  INFO 12728 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-2 - Starting...
2020-08-19 21:58:04.000  WARN 12728 --- [main] com.zaxxer.hikari.util.DriverDataSource  : Registered driver with driverClassName=com.mysql.jdbc.Driver was not found, trying direct instantiation.
2020-08-19 21:58:04.018  INFO 12728 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-2 - Start completed.
2020-08-19 21:58:04.077  INFO 12728 --- [task-1] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2020-08-19 21:58:04.130  WARN 12728 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2020-08-19 21:58:04.144  INFO 12728 --- [task-1] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.4.17.Final
2020-08-19 21:58:04.359  INFO 12728 --- [task-1] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.0.Final}
2020-08-19 21:58:04.527  INFO 12728 --- [task-1] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2020-08-19 21:58:04.678 DEBUG 12728 --- [main] eGlobalAuthenticationAutowiredConfigurer : Eagerly initializing {org.springframework.boot.autoconfigure.security.servlet.WebSecurityEnablerConfiguration=org.springframework.boot.autoconfigure.security.servlet.WebSecurityEnablerConfiguration@400df2b3}
2020-08-19 21:58:04.785 DEBUG 12728 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression 'permitAll', for Ant [pattern='/api/v1/sign/**']
2020-08-19 21:58:04.788 DEBUG 12728 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression 'hasRole('ROLE_ADMIN')', for Ant [pattern='/api/v1/admins/**']
2020-08-19 21:58:04.789 DEBUG 12728 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression 'hasRole('ROLE_CUSTOMER')', for Ant [pattern='/api/v1/customers/**']
2020-08-19 21:58:04.790 DEBUG 12728 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression 'hasRole('ROLE_CONTRACTOR')', for Ant [pattern='/api/v1/contractors/**']
2020-08-19 21:58:04.790 DEBUG 12728 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression 'hasAnyRole('ROLE_CONTRACTOR','ROLE_CUSTOMER')', for Ant [pattern='/api/v1/transporttypes/**']
2020-08-19 21:58:04.790 DEBUG 12728 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression 'authenticated', for any request
2020-08-19 21:58:04.796 DEBUG 12728 --- [main] o.s.s.w.a.i.FilterSecurityInterceptor    : Validated configuration attributes
2020-08-19 21:58:04.798 DEBUG 12728 --- [main] o.s.s.w.a.i.FilterSecurityInterceptor    : Validated configuration attributes
2020-08-19 21:58:04.801  INFO 12728 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: any request, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@705eb026, org.springframework.security.web.context.SecurityContextPersistenceFilter@64cec4d0, org.springframework.security.web.header.HeaderWriterFilter@4af50246, org.springframework.security.web.authentication.logout.LogoutFilter@7e27b77a, ru.logisticplatform.security.jwt.JwtTokenFilter@8de4206, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@45e9db77, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@15a6a91f, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@10f384a2, org.springframework.security.web.session.SessionManagementFilter@f348e10, org.springframework.security.web.access.ExceptionTranslationFilter@3fcb737, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@1c97c3bb]
2020-08-19 21:58:05.085  INFO 12728 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8068 (http) with context path ''
2020-08-19 21:58:05.087  INFO 12728 --- [main] DeferredRepositoryInitializationListener : Triggering deferred initialization of Spring Data repositoriesâ€¦
2020-08-19 21:58:05.825  INFO 12728 --- [task-1] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2020-08-19 21:58:05.837  INFO 12728 --- [task-1] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2020-08-19 21:58:06.472  INFO 12728 --- [main] DeferredRepositoryInitializationListener : Spring Data repositories initialized!
2020-08-19 21:58:06.490  INFO 12728 --- [main] r.l.LogisticPlatformApplication          : Started LogisticPlatformApplication in 12.2 seconds (JVM running for 13.272)
2020-08-19 21:59:14.301  INFO 12728 --- [http-nio-8068-exec-2] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2020-08-19 21:59:14.301  INFO 12728 --- [http-nio-8068-exec-2] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2020-08-19 21:59:14.309  INFO 12728 --- [http-nio-8068-exec-2] o.s.web.servlet.DispatcherServlet        : Completed initialization in 8 ms
2020-08-19 21:59:14.324 DEBUG 12728 --- [http-nio-8068-exec-2] o.s.security.web.FilterChainProxy        : /api/v1/transporttypes/1 at position 1 of 11 in additional filter chain; firing Filter: 'WebAsyncManagerIntegrationFilter'
2020-08-19 21:59:14.326 DEBUG 12728 --- [http-nio-8068-exec-2] o.s.security.web.FilterChainProxy        : /api/v1/transporttypes/1 at position 2 of 11 in additional filter chain; firing Filter: 'SecurityContextPersistenceFilter'
2020-08-19 21:59:14.329 DEBUG 12728 --- [http-nio-8068-exec-2] o.s.security.web.FilterChainProxy        : /api/v1/transporttypes/1 at position 3 of 11 in additional filter chain; firing Filter: 'HeaderWriterFilter'
2020-08-19 21:59:14.331 DEBUG 12728 --- [http-nio-8068-exec-2] o.s.security.web.FilterChainProxy        : /api/v1/transporttypes/1 at position 4 of 11 in additional filter chain; firing Filter: 'LogoutFilter'
2020-08-19 21:59:14.331 DEBUG 12728 --- [http-nio-8068-exec-2] o.s.s.web.util.matcher.OrRequestMatcher  : Trying to match using Ant [pattern='/logout', GET]
2020-08-19 21:59:14.331 DEBUG 12728 --- [http-nio-8068-exec-2] o.s.s.w.u.matcher.AntPathRequestMatcher  : Checking match of request : '/api/v1/transporttypes/1'; against '/logout'
2020-08-19 21:59:14.331 DEBUG 12728 --- [http-nio-8068-exec-2] o.s.s.web.util.matcher.OrRequestMatcher  : Trying to match using Ant [pattern='/logout', POST]
2020-08-19 21:59:14.331 DEBUG 12728 --- [http-nio-8068-exec-2] o.s.s.w.u.matcher.AntPathRequestMatcher  : Request 'GET /api/v1/transporttypes/1' doesn't match 'POST /logout'
2020-08-19 21:59:14.331 DEBUG 12728 --- [http-nio-8068-exec-2] o.s.s.web.util.matcher.OrRequestMatcher  : Trying to match using Ant [pattern='/logout', PUT]
2020-08-19 21:59:14.331 DEBUG 12728 --- [http-nio-8068-exec-2] o.s.s.w.u.matcher.AntPathRequestMatcher  : Request 'GET /api/v1/transporttypes/1' doesn't match 'PUT /logout'
2020-08-19 21:59:14.332 DEBUG 12728 --- [http-nio-8068-exec-2] o.s.s.web.util.matcher.OrRequestMatcher  : Trying to match using Ant [pattern='/logout', DELETE]
2020-08-19 21:59:14.332 DEBUG 12728 --- [http-nio-8068-exec-2] o.s.s.w.u.matcher.AntPathRequestMatcher  : Request 'GET /api/v1/transporttypes/1' doesn't match 'DELETE /logout'
2020-08-19 21:59:14.332 DEBUG 12728 --- [http-nio-8068-exec-2] o.s.s.web.util.matcher.OrRequestMatcher  : No matches found
2020-08-19 21:59:14.332 DEBUG 12728 --- [http-nio-8068-exec-2] o.s.security.web.FilterChainProxy        : /api/v1/transporttypes/1 at position 5 of 11 in additional filter chain; firing Filter: 'JwtTokenFilter'
2020-08-19 21:59:14.610  INFO 12728 --- [http-nio-8068-exec-2] r.l.service.user.impl.UserServiceImpl    : IN UserServiceImpl findByUsername - user: User{username='contractor1', firstName='firstNamecontractor1', lastName='lastNamecontractor1', email='emaicontractor1@mail.ru', phone='79119797601', password='$2a$10$3DhCz0.o.Qab.DOyPTtbTOFdNauditiMvzVN5MVQM6Q6snunxdU8C', roles=[Role{id: 2, name: ROLE_CONTRACTOR}], userStatus=ACTIVE} found by userName: contractor1
2020-08-19 21:59:14.612  INFO 12728 --- [http-nio-8068-exec-2] r.l.security.JwtUserDetailsService       : IN loadUserByUsername - user with username: contractor1 successfully loaded
2020-08-19 21:59:14.613 DEBUG 12728 --- [http-nio-8068-exec-2] o.s.security.web.FilterChainProxy        : /api/v1/transporttypes/1 at position 6 of 11 in additional filter chain; firing Filter: 'RequestCacheAwareFilter'
2020-08-19 21:59:14.613 DEBUG 12728 --- [http-nio-8068-exec-2] o.s.security.web.FilterChainProxy        : /api/v1/transporttypes/1 at position 7 of 11 in additional filter chain; firing Filter: 'SecurityContextHolderAwareRequestFilter'
2020-08-19 21:59:14.615 DEBUG 12728 --- [http-nio-8068-exec-2] o.s.security.web.FilterChainProxy        : /api/v1/transporttypes/1 at position 8 of 11 in additional filter chain; firing Filter: 'AnonymousAuthenticationFilter'
2020-08-19 21:59:14.615 DEBUG 12728 --- [http-nio-8068-exec-2] o.s.s.w.a.AnonymousAuthenticationFilter  : SecurityContextHolder not populated with anonymous token, as it already contained: 'org.springframework.security.authentication.UsernamePasswordAuthenticationToken@4b3f1341: Principal: ru.logisticplatform.security.jwt.JwtUser@54bec95b; Credentials: [PROTECTED]; Authenticated: true; Details: null; Granted Authorities: ROLE_CONTRACTOR'
2020-08-19 21:59:14.615 DEBUG 12728 --- [http-nio-8068-exec-2] o.s.security.web.FilterChainProxy        : /api/v1/transporttypes/1 at position 9 of 11 in additional filter chain; firing Filter: 'SessionManagementFilter'
2020-08-19 21:59:14.615 DEBUG 12728 --- [http-nio-8068-exec-2] s.CompositeSessionAuthenticationStrategy : Delegating to org.springframework.security.web.authentication.session.ChangeSessionIdAuthenticationStrategy@6e149395
2020-08-19 21:59:14.615 DEBUG 12728 --- [http-nio-8068-exec-2] o.s.security.web.FilterChainProxy        : /api/v1/transporttypes/1 at position 10 of 11 in additional filter chain; firing Filter: 'ExceptionTranslationFilter'
2020-08-19 21:59:14.615 DEBUG 12728 --- [http-nio-8068-exec-2] o.s.security.web.FilterChainProxy        : /api/v1/transporttypes/1 at position 11 of 11 in additional filter chain; firing Filter: 'FilterSecurityInterceptor'
2020-08-19 21:59:14.616 DEBUG 12728 --- [http-nio-8068-exec-2] o.s.s.w.u.matcher.AntPathRequestMatcher  : Checking match of request : '/api/v1/transporttypes/1'; against '/api/v1/sign/**'
2020-08-19 21:59:14.616 DEBUG 12728 --- [http-nio-8068-exec-2] o.s.s.w.u.matcher.AntPathRequestMatcher  : Checking match of request : '/api/v1/transporttypes/1'; against '/api/v1/admins/**'
2020-08-19 21:59:14.616 DEBUG 12728 --- [http-nio-8068-exec-2] o.s.s.w.u.matcher.AntPathRequestMatcher  : Checking match of request : '/api/v1/transporttypes/1'; against '/api/v1/customers/**'
2020-08-19 21:59:14.617 DEBUG 12728 --- [http-nio-8068-exec-2] o.s.s.w.u.matcher.AntPathRequestMatcher  : Checking match of request : '/api/v1/transporttypes/1'; against '/api/v1/contractors/**'
2020-08-19 21:59:14.617 DEBUG 12728 --- [http-nio-8068-exec-2] o.s.s.w.u.matcher.AntPathRequestMatcher  : Checking match of request : '/api/v1/transporttypes/1'; against '/api/v1/transporttypes/**'
2020-08-19 21:59:14.617 DEBUG 12728 --- [http-nio-8068-exec-2] o.s.s.w.a.i.FilterSecurityInterceptor    : Secure object: FilterInvocation: URL: /api/v1/transporttypes/1; Attributes: [hasAnyRole('ROLE_CONTRACTOR','ROLE_CUSTOMER')]
2020-08-19 21:59:14.617 DEBUG 12728 --- [http-nio-8068-exec-2] o.s.s.w.a.i.FilterSecurityInterceptor    : Previously Authenticated: org.springframework.security.authentication.UsernamePasswordAuthenticationToken@4b3f1341: Principal: ru.logisticplatform.security.jwt.JwtUser@54bec95b; Credentials: [PROTECTED]; Authenticated: true; Details: null; Granted Authorities: ROLE_CONTRACTOR
2020-08-19 21:59:14.623 DEBUG 12728 --- [http-nio-8068-exec-2] o.s.s.access.vote.AffirmativeBased       : Voter: org.springframework.security.web.access.expression.WebExpressionVoter@4a3764fe, returned: 1
2020-08-19 21:59:14.623 DEBUG 12728 --- [http-nio-8068-exec-2] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorization successful
2020-08-19 21:59:14.623 DEBUG 12728 --- [http-nio-8068-exec-2] o.s.s.w.a.i.FilterSecurityInterceptor    : RunAsManager did not change Authentication object
2020-08-19 21:59:14.623 DEBUG 12728 --- [http-nio-8068-exec-2] o.s.security.web.FilterChainProxy        : /api/v1/transporttypes/1 reached end of additional filter chain; proceeding with original chain
2020-08-19 21:59:14.686  INFO 12728 --- [http-nio-8068-exec-2] r.l.s.t.impl.TransportTypeServiceImpl    : IN TransportTypeServiceImpl findById - transportType: TransportType(name=ÐœÐ¸Ð½Ð¸ Ñ„ÑƒÑ€Ð³Ð¾Ð½ (ÐºÐ°Ð±Ð»ÑƒÐº), description=ÐžÑ‚Ð»Ð¸Ñ‡Ð½Ð¾Ðµ Ñ€ÐµÑˆÐµÐ½Ð¸Ðµ Ð´Ð»Ñ Ð´Ð¾ÑÑ‚Ð°Ð²ÐºÐ¸ Ð¼ÐµÐ»ÐºÐ¸Ñ… Ð³Ñ€ÑƒÐ·Ð¾Ð². ÐŸÐ¾Ð¼Ð¾Ð¶ÐµÑ‚ Ð¿ÐµÑ€ÐµÐ²ÐµÐ·Ñ‚Ð¸ Ð±Ñ‹Ñ‚Ð¾Ð²ÑƒÑŽ Ñ‚ÐµÑ…Ð½Ð¸ÐºÑƒ Ð¸ Ð½ÐµÐ±Ð¾Ð»ÑŒÑˆÐ¾Ðµ ÐºÐ¾Ð»Ð¸Ñ‡ÐµÑÑ‚Ð²Ð¾ Ð²ÐµÑ‰ÐµÐ¹., lenght=1.6, width=1.0, height=1.0, volume=1.6, carrying=500.0, transportations=[]) found by id: 1
2020-08-19 21:59:14.853 DEBUG 12728 --- [http-nio-8068-exec-2] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match the requestMatcher org.springframework.security.web.header.writers.HstsHeaderWriter$SecureRequestMatcher@6f62f9b
2020-08-19 21:59:14.862 DEBUG 12728 --- [http-nio-8068-exec-2] o.s.s.w.a.ExceptionTranslationFilter     : Chain processed normally
2020-08-19 21:59:14.862 DEBUG 12728 --- [http-nio-8068-exec-2] s.s.w.c.SecurityContextPersistenceFilter : SecurityContextHolder now cleared, as request processing completed
2020-08-19 21:59:23.300 DEBUG 12728 --- [http-nio-8068-exec-3] o.s.security.web.FilterChainProxy        : /api/v1/transporttypes/ at position 1 of 11 in additional filter chain; firing Filter: 'WebAsyncManagerIntegrationFilter'
2020-08-19 21:59:23.301 DEBUG 12728 --- [http-nio-8068-exec-3] o.s.security.web.FilterChainProxy        : /api/v1/transporttypes/ at position 2 of 11 in additional filter chain; firing Filter: 'SecurityContextPersistenceFilter'
2020-08-19 21:59:23.301 DEBUG 12728 --- [http-nio-8068-exec-3] o.s.security.web.FilterChainProxy        : /api/v1/transporttypes/ at position 3 of 11 in additional filter chain; firing Filter: 'HeaderWriterFilter'
2020-08-19 21:59:23.301 DEBUG 12728 --- [http-nio-8068-exec-3] o.s.security.web.FilterChainProxy        : /api/v1/transporttypes/ at position 4 of 11 in additional filter chain; firing Filter: 'LogoutFilter'
2020-08-19 21:59:23.301 DEBUG 12728 --- [http-nio-8068-exec-3] o.s.s.web.util.matcher.OrRequestMatcher  : Trying to match using Ant [pattern='/logout', GET]
2020-08-19 21:59:23.301 DEBUG 12728 --- [http-nio-8068-exec-3] o.s.s.w.u.matcher.AntPathRequestMatcher  : Checking match of request : '/api/v1/transporttypes/'; against '/logout'
2020-08-19 21:59:23.302 DEBUG 12728 --- [http-nio-8068-exec-3] o.s.s.web.util.matcher.OrRequestMatcher  : Trying to match using Ant [pattern='/logout', POST]
2020-08-19 21:59:23.302 DEBUG 12728 --- [http-nio-8068-exec-3] o.s.s.w.u.matcher.AntPathRequestMatcher  : Request 'GET /api/v1/transporttypes/' doesn't match 'POST /logout'
2020-08-19 21:59:23.302 DEBUG 12728 --- [http-nio-8068-exec-3] o.s.s.web.util.matcher.OrRequestMatcher  : Trying to match using Ant [pattern='/logout', PUT]
2020-08-19 21:59:23.302 DEBUG 12728 --- [http-nio-8068-exec-3] o.s.s.w.u.matcher.AntPathRequestMatcher  : Request 'GET /api/v1/transporttypes/' doesn't match 'PUT /logout'
2020-08-19 21:59:23.302 DEBUG 12728 --- [http-nio-8068-exec-3] o.s.s.web.util.matcher.OrRequestMatcher  : Trying to match using Ant [pattern='/logout', DELETE]
2020-08-19 21:59:23.302 DEBUG 12728 --- [http-nio-8068-exec-3] o.s.s.w.u.matcher.AntPathRequestMatcher  : Request 'GET /api/v1/transporttypes/' doesn't match 'DELETE /logout'
2020-08-19 21:59:23.302 DEBUG 12728 --- [http-nio-8068-exec-3] o.s.s.web.util.matcher.OrRequestMatcher  : No matches found
2020-08-19 21:59:23.302 DEBUG 12728 --- [http-nio-8068-exec-3] o.s.security.web.FilterChainProxy        : /api/v1/transporttypes/ at position 5 of 11 in additional filter chain; firing Filter: 'JwtTokenFilter'
2020-08-19 21:59:23.310  INFO 12728 --- [http-nio-8068-exec-3] r.l.service.user.impl.UserServiceImpl    : IN UserServiceImpl findByUsername - user: User{username='contractor1', firstName='firstNamecontractor1', lastName='lastNamecontractor1', email='emaicontractor1@mail.ru', phone='79119797601', password='$2a$10$3DhCz0.o.Qab.DOyPTtbTOFdNauditiMvzVN5MVQM6Q6snunxdU8C', roles=[Role{id: 2, name: ROLE_CONTRACTOR}], userStatus=ACTIVE} found by userName: contractor1
2020-08-19 21:59:23.311  INFO 12728 --- [http-nio-8068-exec-3] r.l.security.JwtUserDetailsService       : IN loadUserByUsername - user with username: contractor1 successfully loaded
2020-08-19 21:59:23.311 DEBUG 12728 --- [http-nio-8068-exec-3] o.s.security.web.FilterChainProxy        : /api/v1/transporttypes/ at position 6 of 11 in additional filter chain; firing Filter: 'RequestCacheAwareFilter'
2020-08-19 21:59:23.311 DEBUG 12728 --- [http-nio-8068-exec-3] o.s.security.web.FilterChainProxy        : /api/v1/transporttypes/ at position 7 of 11 in additional filter chain; firing Filter: 'SecurityContextHolderAwareRequestFilter'
2020-08-19 21:59:23.311 DEBUG 12728 --- [http-nio-8068-exec-3] o.s.security.web.FilterChainProxy        : /api/v1/transporttypes/ at position 8 of 11 in additional filter chain; firing Filter: 'AnonymousAuthenticationFilter'
2020-08-19 21:59:23.311 DEBUG 12728 --- [http-nio-8068-exec-3] o.s.s.w.a.AnonymousAuthenticationFilter  : SecurityContextHolder not populated with anonymous token, as it already contained: 'org.springframework.security.authentication.UsernamePasswordAuthenticationToken@cae02ea: Principal: ru.logisticplatform.security.jwt.JwtUser@132fd8f0; Credentials: [PROTECTED]; Authenticated: true; Details: null; Granted Authorities: ROLE_CONTRACTOR'
2020-08-19 21:59:23.311 DEBUG 12728 --- [http-nio-8068-exec-3] o.s.security.web.FilterChainProxy        : /api/v1/transporttypes/ at position 9 of 11 in additional filter chain; firing Filter: 'SessionManagementFilter'
2020-08-19 21:59:23.312 DEBUG 12728 --- [http-nio-8068-exec-3] s.CompositeSessionAuthenticationStrategy : Delegating to org.springframework.security.web.authentication.session.ChangeSessionIdAuthenticationStrategy@6e149395
2020-08-19 21:59:23.312 DEBUG 12728 --- [http-nio-8068-exec-3] o.s.security.web.FilterChainProxy        : /api/v1/transporttypes/ at position 10 of 11 in additional filter chain; firing Filter: 'ExceptionTranslationFilter'
2020-08-19 21:59:23.312 DEBUG 12728 --- [http-nio-8068-exec-3] o.s.security.web.FilterChainProxy        : /api/v1/transporttypes/ at position 11 of 11 in additional filter chain; firing Filter: 'FilterSecurityInterceptor'
2020-08-19 21:59:23.312 DEBUG 12728 --- [http-nio-8068-exec-3] o.s.s.w.u.matcher.AntPathRequestMatcher  : Checking match of request : '/api/v1/transporttypes/'; against '/api/v1/sign/**'
2020-08-19 21:59:23.312 DEBUG 12728 --- [http-nio-8068-exec-3] o.s.s.w.u.matcher.AntPathRequestMatcher  : Checking match of request : '/api/v1/transporttypes/'; against '/api/v1/admins/**'
2020-08-19 21:59:23.313 DEBUG 12728 --- [http-nio-8068-exec-3] o.s.s.w.u.matcher.AntPathRequestMatcher  : Checking match of request : '/api/v1/transporttypes/'; against '/api/v1/customers/**'
2020-08-19 21:59:23.313 DEBUG 12728 --- [http-nio-8068-exec-3] o.s.s.w.u.matcher.AntPathRequestMatcher  : Checking match of request : '/api/v1/transporttypes/'; against '/api/v1/contractors/**'
2020-08-19 21:59:23.313 DEBUG 12728 --- [http-nio-8068-exec-3] o.s.s.w.u.matcher.AntPathRequestMatcher  : Checking match of request : '/api/v1/transporttypes/'; against '/api/v1/transporttypes/**'
2020-08-19 21:59:23.313 DEBUG 12728 --- [http-nio-8068-exec-3] o.s.s.w.a.i.FilterSecurityInterceptor    : Secure object: FilterInvocation: URL: /api/v1/transporttypes/; Attributes: [hasAnyRole('ROLE_CONTRACTOR','ROLE_CUSTOMER')]
2020-08-19 21:59:23.313 DEBUG 12728 --- [http-nio-8068-exec-3] o.s.s.w.a.i.FilterSecurityInterceptor    : Previously Authenticated: org.springframework.security.authentication.UsernamePasswordAuthenticationToken@cae02ea: Principal: ru.logisticplatform.security.jwt.JwtUser@132fd8f0; Credentials: [PROTECTED]; Authenticated: true; Details: null; Granted Authorities: ROLE_CONTRACTOR
2020-08-19 21:59:23.314 DEBUG 12728 --- [http-nio-8068-exec-3] o.s.s.access.vote.AffirmativeBased       : Voter: org.springframework.security.web.access.expression.WebExpressionVoter@4a3764fe, returned: 1
2020-08-19 21:59:23.314 DEBUG 12728 --- [http-nio-8068-exec-3] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorization successful
2020-08-19 21:59:23.314 DEBUG 12728 --- [http-nio-8068-exec-3] o.s.s.w.a.i.FilterSecurityInterceptor    : RunAsManager did not change Authentication object
2020-08-19 21:59:23.314 DEBUG 12728 --- [http-nio-8068-exec-3] o.s.security.web.FilterChainProxy        : /api/v1/transporttypes/ reached end of additional filter chain; proceeding with original chain
2020-08-19 21:59:23.326 DEBUG 12728 --- [http-nio-8068-exec-3] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match the requestMatcher org.springframework.security.web.header.writers.HstsHeaderWriter$SecureRequestMatcher@6f62f9b
2020-08-19 21:59:23.326 DEBUG 12728 --- [http-nio-8068-exec-3] s.s.w.c.SecurityContextPersistenceFilter : SecurityContextHolder now cleared, as request processing completed
2020-08-19 21:59:23.336 ERROR 12728 --- [http-nio-8068-exec-3] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is java.lang.NullPointerException] with root cause

java.lang.NullPointerException: null
	at ru.logisticplatform.rest.transportation.TransportTypeRestControllerV1.getAllTransportType(TransportTypeRestControllerV1.java:67) ~[classes/:na]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_111]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_111]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_111]
	at java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_111]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:190) ~[spring-web-5.2.7.RELEASE.jar:5.2.7.RELEASE]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:138) ~[spring-web-5.2.7.RELEASE.jar:5.2.7.RELEASE]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:105) ~[spring-webmvc-5.2.7.RELEASE.jar:5.2.7.RELEASE]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:879) ~[spring-webmvc-5.2.7.RELEASE.jar:5.2.7.RELEASE]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:793) ~[spring-webmvc-5.2.7.RELEASE.jar:5.2.7.RELEASE]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-5.2.7.RELEASE.jar:5.2.7.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1040) ~[spring-webmvc-5.2.7.RELEASE.jar:5.2.7.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:943) ~[spring-webmvc-5.2.7.RELEASE.jar:5.2.7.RELEASE]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006) ~[spring-webmvc-5.2.7.RELEASE.jar:5.2.7.RELEASE]
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:898) ~[spring-webmvc-5.2.7.RELEASE.jar:5.2.7.RELEASE]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:634) ~[tomcat-embed-core-9.0.36.jar:9.0.36]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883) ~[spring-webmvc-5.2.7.RELEASE.jar:5.2.7.RELEASE]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:741) ~[tomcat-embed-core-9.0.36.jar:9.0.36]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231) ~[tomcat-embed-core-9.0.36.jar:9.0.36]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.36.jar:9.0.36]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53) ~[tomcat-embed-websocket-9.0.36.jar:9.0.36]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-9.0.36.jar:9.0.36]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.36.jar:9.0.36]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:320) ~[spring-security-web-5.3.3.RELEASE.jar:5.3.3.RELEASE]
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:126) ~[spring-security-web-5.3.3.RELEASE.jar:5.3.3.RELEASE]
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:90) ~[spring-security-web-5.3.3.RELEASE.jar:5.3.3.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.3.3.RELEASE.jar:5.3.3.RELEASE]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:118) ~[spring-security-web-5.3.3.RELEASE.jar:5.3.3.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.3.3.RELEASE.jar:5.3.3.RELEASE]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:137) ~[spring-security-web-5.3.3.RELEASE.jar:5.3.3.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.3.3.RELEASE.jar:5.3.3.RELEASE]
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:111) ~[spring-security-web-5.3.3.RELEASE.jar:5.3.3.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.3.3.RELEASE.jar:5.3.3.RELEASE]
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:158) ~[spring-security-web-5.3.3.RELEASE.jar:5.3.3.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.3.3.RELEASE.jar:5.3.3.RELEASE]
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-5.3.3.RELEASE.jar:5.3.3.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.3.3.RELEASE.jar:5.3.3.RELEASE]
	at ru.logisticplatform.security.jwt.JwtTokenFilter.doFilter(JwtTokenFilter.java:34) ~[classes/:na]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.3.3.RELEASE.jar:5.3.3.RELEASE]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:116) ~[spring-security-web-5.3.3.RELEASE.jar:5.3.3.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.3.3.RELEASE.jar:5.3.3.RELEASE]
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:92) ~[spring-security-web-5.3.3.RELEASE.jar:5.3.3.RELEASE]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:77) ~[spring-security-web-5.3.3.RELEASE.jar:5.3.3.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.2.7.RELEASE.jar:5.2.7.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.3.3.RELEASE.jar:5.3.3.RELEASE]
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:105) ~[spring-security-web-5.3.3.RELEASE.jar:5.3.3.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.3.3.RELEASE.jar:5.3.3.RELEASE]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:56) ~[spring-security-web-5.3.3.RELEASE.jar:5.3.3.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.2.7.RELEASE.jar:5.2.7.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.3.3.RELEASE.jar:5.3.3.RELEASE]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:215) ~[spring-security-web-5.3.3.RELEASE.jar:5.3.3.RELEASE]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:178) ~[spring-security-web-5.3.3.RELEASE.jar:5.3.3.RELEASE]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:358) ~[spring-web-5.2.7.RELEASE.jar:5.2.7.RELEASE]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:271) ~[spring-web-5.2.7.RELEASE.jar:5.2.7.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-9.0.36.jar:9.0.36]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.36.jar:9.0.36]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-5.2.7.RELEASE.jar:5.2.7.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.2.7.RELEASE.jar:5.2.7.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-9.0.36.jar:9.0.36]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.36.jar:9.0.36]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-5.2.7.RELEASE.jar:5.2.7.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.2.7.RELEASE.jar:5.2.7.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-9.0.36.jar:9.0.36]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.36.jar:9.0.36]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-5.2.7.RELEASE.jar:5.2.7.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.2.7.RELEASE.jar:5.2.7.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-9.0.36.jar:9.0.36]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.36.jar:9.0.36]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:202) ~[tomcat-embed-core-9.0.36.jar:9.0.36]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96) [tomcat-embed-core-9.0.36.jar:9.0.36]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541) [tomcat-embed-core-9.0.36.jar:9.0.36]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:139) [tomcat-embed-core-9.0.36.jar:9.0.36]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92) [tomcat-embed-core-9.0.36.jar:9.0.36]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) [tomcat-embed-core-9.0.36.jar:9.0.36]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343) [tomcat-embed-core-9.0.36.jar:9.0.36]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:373) [tomcat-embed-core-9.0.36.jar:9.0.36]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65) [tomcat-embed-core-9.0.36.jar:9.0.36]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:868) [tomcat-embed-core-9.0.36.jar:9.0.36]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1590) [tomcat-embed-core-9.0.36.jar:9.0.36]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) [tomcat-embed-core-9.0.36.jar:9.0.36]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142) [na:1.8.0_111]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617) [na:1.8.0_111]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) [tomcat-embed-core-9.0.36.jar:9.0.36]
	at java.lang.Thread.run(Thread.java:745) [na:1.8.0_111]

2020-08-19 21:59:23.341 DEBUG 12728 --- [http-nio-8068-exec-3] o.s.security.web.FilterChainProxy        : /error at position 1 of 11 in additional filter chain; firing Filter: 'WebAsyncManagerIntegrationFilter'
2020-08-19 21:59:23.341 DEBUG 12728 --- [http-nio-8068-exec-3] o.s.security.web.FilterChainProxy        : /error at position 2 of 11 in additional filter chain; firing Filter: 'SecurityContextPersistenceFilter'
2020-08-19 21:59:23.342 DEBUG 12728 --- [http-nio-8068-exec-3] o.s.security.web.FilterChainProxy        : /error at position 3 of 11 in additional filter chain; firing Filter: 'HeaderWriterFilter'
2020-08-19 21:59:23.342 DEBUG 12728 --- [http-nio-8068-exec-3] o.s.security.web.FilterChainProxy        : /error at position 4 of 11 in additional filter chain; firing Filter: 'LogoutFilter'
2020-08-19 21:59:23.342 DEBUG 12728 --- [http-nio-8068-exec-3] o.s.s.web.util.matcher.OrRequestMatcher  : Trying to match using Ant [pattern='/logout', GET]
2020-08-19 21:59:23.342 DEBUG 12728 --- [http-nio-8068-exec-3] o.s.s.w.u.matcher.AntPathRequestMatcher  : Checking match of request : '/error'; against '/logout'
2020-08-19 21:59:23.342 DEBUG 12728 --- [http-nio-8068-exec-3] o.s.s.web.util.matcher.OrRequestMatcher  : Trying to match using Ant [pattern='/logout', POST]
2020-08-19 21:59:23.342 DEBUG 12728 --- [http-nio-8068-exec-3] o.s.s.w.u.matcher.AntPathRequestMatcher  : Request 'GET /error' doesn't match 'POST /logout'
2020-08-19 21:59:23.342 DEBUG 12728 --- [http-nio-8068-exec-3] o.s.s.web.util.matcher.OrRequestMatcher  : Trying to match using Ant [pattern='/logout', PUT]
2020-08-19 21:59:23.342 DEBUG 12728 --- [http-nio-8068-exec-3] o.s.s.w.u.matcher.AntPathRequestMatcher  : Request 'GET /error' doesn't match 'PUT /logout'
2020-08-19 21:59:23.342 DEBUG 12728 --- [http-nio-8068-exec-3] o.s.s.web.util.matcher.OrRequestMatcher  : Trying to match using Ant [pattern='/logout', DELETE]
2020-08-19 21:59:23.342 DEBUG 12728 --- [http-nio-8068-exec-3] o.s.s.w.u.matcher.AntPathRequestMatcher  : Request 'GET /error' doesn't match 'DELETE /logout'
2020-08-19 21:59:23.342 DEBUG 12728 --- [http-nio-8068-exec-3] o.s.s.web.util.matcher.OrRequestMatcher  : No matches found
2020-08-19 21:59:23.342 DEBUG 12728 --- [http-nio-8068-exec-3] o.s.security.web.FilterChainProxy        : /error at position 5 of 11 in additional filter chain; firing Filter: 'JwtTokenFilter'
2020-08-19 21:59:23.348  INFO 12728 --- [http-nio-8068-exec-3] r.l.service.user.impl.UserServiceImpl    : IN UserServiceImpl findByUsername - user: User{username='contractor1', firstName='firstNamecontractor1', lastName='lastNamecontractor1', email='emaicontractor1@mail.ru', phone='79119797601', password='$2a$10$3DhCz0.o.Qab.DOyPTtbTOFdNauditiMvzVN5MVQM6Q6snunxdU8C', roles=[Role{id: 2, name: ROLE_CONTRACTOR}], userStatus=ACTIVE} found by userName: contractor1
2020-08-19 21:59:23.348  INFO 12728 --- [http-nio-8068-exec-3] r.l.security.JwtUserDetailsService       : IN loadUserByUsername - user with username: contractor1 successfully loaded
2020-08-19 21:59:23.348 DEBUG 12728 --- [http-nio-8068-exec-3] o.s.security.web.FilterChainProxy        : /error at position 6 of 11 in additional filter chain; firing Filter: 'RequestCacheAwareFilter'
2020-08-19 21:59:23.348 DEBUG 12728 --- [http-nio-8068-exec-3] o.s.security.web.FilterChainProxy        : /error at position 7 of 11 in additional filter chain; firing Filter: 'SecurityContextHolderAwareRequestFilter'
2020-08-19 21:59:23.348 DEBUG 12728 --- [http-nio-8068-exec-3] o.s.security.web.FilterChainProxy        : /error at position 8 of 11 in additional filter chain; firing Filter: 'AnonymousAuthenticationFilter'
2020-08-19 21:59:23.348 DEBUG 12728 --- [http-nio-8068-exec-3] o.s.s.w.a.AnonymousAuthenticationFilter  : SecurityContextHolder not populated with anonymous token, as it already contained: 'org.springframework.security.authentication.UsernamePasswordAuthenticationToken@738baef5: Principal: ru.logisticplatform.security.jwt.JwtUser@6c0a74ef; Credentials: [PROTECTED]; Authenticated: true; Details: null; Granted Authorities: ROLE_CONTRACTOR'
2020-08-19 21:59:23.348 DEBUG 12728 --- [http-nio-8068-exec-3] o.s.security.web.FilterChainProxy        : /error at position 9 of 11 in additional filter chain; firing Filter: 'SessionManagementFilter'
2020-08-19 21:59:23.348 DEBUG 12728 --- [http-nio-8068-exec-3] o.s.security.web.FilterChainProxy        : /error at position 10 of 11 in additional filter chain; firing Filter: 'ExceptionTranslationFilter'
2020-08-19 21:59:23.348 DEBUG 12728 --- [http-nio-8068-exec-3] o.s.security.web.FilterChainProxy        : /error at position 11 of 11 in additional filter chain; firing Filter: 'FilterSecurityInterceptor'
2020-08-19 21:59:23.349 DEBUG 12728 --- [http-nio-8068-exec-3] o.s.security.web.FilterChainProxy        : /error reached end of additional filter chain; proceeding with original chain
2020-08-19 21:59:23.372 DEBUG 12728 --- [http-nio-8068-exec-3] o.s.s.w.a.ExceptionTranslationFilter     : Chain processed normally
2020-08-19 21:59:23.372 DEBUG 12728 --- [http-nio-8068-exec-3] s.s.w.c.SecurityContextPersistenceFilter : SecurityContextHolder now cleared, as request processing completed
2020-08-19 22:00:20.260 DEBUG 12728 --- [http-nio-8068-exec-5] o.s.security.web.FilterChainProxy        : /api/v1/transporttypes/ at position 1 of 11 in additional filter chain; firing Filter: 'WebAsyncManagerIntegrationFilter'
2020-08-19 22:00:20.260 DEBUG 12728 --- [http-nio-8068-exec-5] o.s.security.web.FilterChainProxy        : /api/v1/transporttypes/ at position 2 of 11 in additional filter chain; firing Filter: 'SecurityContextPersistenceFilter'
2020-08-19 22:00:20.260 DEBUG 12728 --- [http-nio-8068-exec-5] o.s.security.web.FilterChainProxy        : /api/v1/transporttypes/ at position 3 of 11 in additional filter chain; firing Filter: 'HeaderWriterFilter'
2020-08-19 22:00:20.260 DEBUG 12728 --- [http-nio-8068-exec-5] o.s.security.web.FilterChainProxy        : /api/v1/transporttypes/ at position 4 of 11 in additional filter chain; firing Filter: 'LogoutFilter'
2020-08-19 22:00:20.260 DEBUG 12728 --- [http-nio-8068-exec-5] o.s.s.web.util.matcher.OrRequestMatcher  : Trying to match using Ant [pattern='/logout', GET]
2020-08-19 22:00:20.261 DEBUG 12728 --- [http-nio-8068-exec-5] o.s.s.w.u.matcher.AntPathRequestMatcher  : Checking match of request : '/api/v1/transporttypes/'; against '/logout'
2020-08-19 22:00:20.261 DEBUG 12728 --- [http-nio-8068-exec-5] o.s.s.web.util.matcher.OrRequestMatcher  : Trying to match using Ant [pattern='/logout', POST]
2020-08-19 22:00:20.261 DEBUG 12728 --- [http-nio-8068-exec-5] o.s.s.w.u.matcher.AntPathRequestMatcher  : Request 'GET /api/v1/transporttypes/' doesn't match 'POST /logout'
2020-08-19 22:00:20.261 DEBUG 12728 --- [http-nio-8068-exec-5] o.s.s.web.util.matcher.OrRequestMatcher  : Trying to match using Ant [pattern='/logout', PUT]
2020-08-19 22:00:20.261 DEBUG 12728 --- [http-nio-8068-exec-5] o.s.s.w.u.matcher.AntPathRequestMatcher  : Request 'GET /api/v1/transporttypes/' doesn't match 'PUT /logout'
2020-08-19 22:00:20.261 DEBUG 12728 --- [http-nio-8068-exec-5] o.s.s.web.util.matcher.OrRequestMatcher  : Trying to match using Ant [pattern='/logout', DELETE]
2020-08-19 22:00:20.261 DEBUG 12728 --- [http-nio-8068-exec-5] o.s.s.w.u.matcher.AntPathRequestMatcher  : Request 'GET /api/v1/transporttypes/' doesn't match 'DELETE /logout'
2020-08-19 22:00:20.261 DEBUG 12728 --- [http-nio-8068-exec-5] o.s.s.web.util.matcher.OrRequestMatcher  : No matches found
2020-08-19 22:00:20.261 DEBUG 12728 --- [http-nio-8068-exec-5] o.s.security.web.FilterChainProxy        : /api/v1/transporttypes/ at position 5 of 11 in additional filter chain; firing Filter: 'JwtTokenFilter'
2020-08-19 22:00:20.267  INFO 12728 --- [http-nio-8068-exec-5] r.l.service.user.impl.UserServiceImpl    : IN UserServiceImpl findByUsername - user: User{username='contractor1', firstName='firstNamecontractor1', lastName='lastNamecontractor1', email='emaicontractor1@mail.ru', phone='79119797601', password='$2a$10$3DhCz0.o.Qab.DOyPTtbTOFdNauditiMvzVN5MVQM6Q6snunxdU8C', roles=[Role{id: 2, name: ROLE_CONTRACTOR}], userStatus=ACTIVE} found by userName: contractor1
2020-08-19 22:00:20.267  INFO 12728 --- [http-nio-8068-exec-5] r.l.security.JwtUserDetailsService       : IN loadUserByUsername - user with username: contractor1 successfully loaded
2020-08-19 22:00:20.268 DEBUG 12728 --- [http-nio-8068-exec-5] o.s.security.web.FilterChainProxy        : /api/v1/transporttypes/ at position 6 of 11 in additional filter chain; firing Filter: 'RequestCacheAwareFilter'
2020-08-19 22:00:20.268 DEBUG 12728 --- [http-nio-8068-exec-5] o.s.security.web.FilterChainProxy        : /api/v1/transporttypes/ at position 7 of 11 in additional filter chain; firing Filter: 'SecurityContextHolderAwareRequestFilter'
2020-08-19 22:00:20.268 DEBUG 12728 --- [http-nio-8068-exec-5] o.s.security.web.FilterChainProxy        : /api/v1/transporttypes/ at position 8 of 11 in additional filter chain; firing Filter: 'AnonymousAuthenticationFilter'
2020-08-19 22:00:20.268 DEBUG 12728 --- [http-nio-8068-exec-5] o.s.s.w.a.AnonymousAuthenticationFilter  : SecurityContextHolder not populated with anonymous token, as it already contained: 'org.springframework.security.authentication.UsernamePasswordAuthenticationToken@21f38beb: Principal: ru.logisticplatform.security.jwt.JwtUser@3e7251f1; Credentials: [PROTECTED]; Authenticated: true; Details: null; Granted Authorities: ROLE_CONTRACTOR'
2020-08-19 22:00:20.268 DEBUG 12728 --- [http-nio-8068-exec-5] o.s.security.web.FilterChainProxy        : /api/v1/transporttypes/ at position 9 of 11 in additional filter chain; firing Filter: 'SessionManagementFilter'
2020-08-19 22:00:20.268 DEBUG 12728 --- [http-nio-8068-exec-5] s.CompositeSessionAuthenticationStrategy : Delegating to org.springframework.security.web.authentication.session.ChangeSessionIdAuthenticationStrategy@6e149395
2020-08-19 22:00:20.268 DEBUG 12728 --- [http-nio-8068-exec-5] o.s.security.web.FilterChainProxy        : /api/v1/transporttypes/ at position 10 of 11 in additional filter chain; firing Filter: 'ExceptionTranslationFilter'
2020-08-19 22:00:20.268 DEBUG 12728 --- [http-nio-8068-exec-5] o.s.security.web.FilterChainProxy        : /api/v1/transporttypes/ at position 11 of 11 in additional filter chain; firing Filter: 'FilterSecurityInterceptor'
2020-08-19 22:00:20.268 DEBUG 12728 --- [http-nio-8068-exec-5] o.s.s.w.u.matcher.AntPathRequestMatcher  : Checking match of request : '/api/v1/transporttypes/'; against '/api/v1/sign/**'
2020-08-19 22:00:20.268 DEBUG 12728 --- [http-nio-8068-exec-5] o.s.s.w.u.matcher.AntPathRequestMatcher  : Checking match of request : '/api/v1/transporttypes/'; against '/api/v1/admins/**'
2020-08-19 22:00:20.268 DEBUG 12728 --- [http-nio-8068-exec-5] o.s.s.w.u.matcher.AntPathRequestMatcher  : Checking match of request : '/api/v1/transporttypes/'; against '/api/v1/customers/**'
2020-08-19 22:00:20.268 DEBUG 12728 --- [http-nio-8068-exec-5] o.s.s.w.u.matcher.AntPathRequestMatcher  : Checking match of request : '/api/v1/transporttypes/'; against '/api/v1/contractors/**'
2020-08-19 22:00:20.268 DEBUG 12728 --- [http-nio-8068-exec-5] o.s.s.w.u.matcher.AntPathRequestMatcher  : Checking match of request : '/api/v1/transporttypes/'; against '/api/v1/transporttypes/**'
2020-08-19 22:00:20.269 DEBUG 12728 --- [http-nio-8068-exec-5] o.s.s.w.a.i.FilterSecurityInterceptor    : Secure object: FilterInvocation: URL: /api/v1/transporttypes/; Attributes: [hasAnyRole('ROLE_CONTRACTOR','ROLE_CUSTOMER')]
2020-08-19 22:00:20.269 DEBUG 12728 --- [http-nio-8068-exec-5] o.s.s.w.a.i.FilterSecurityInterceptor    : Previously Authenticated: org.springframework.security.authentication.UsernamePasswordAuthenticationToken@21f38beb: Principal: ru.logisticplatform.security.jwt.JwtUser@3e7251f1; Credentials: [PROTECTED]; Authenticated: true; Details: null; Granted Authorities: ROLE_CONTRACTOR
2020-08-19 22:00:20.269 DEBUG 12728 --- [http-nio-8068-exec-5] o.s.s.access.vote.AffirmativeBased       : Voter: org.springframework.security.web.access.expression.WebExpressionVoter@4a3764fe, returned: 1
2020-08-19 22:00:20.269 DEBUG 12728 --- [http-nio-8068-exec-5] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorization successful
2020-08-19 22:00:20.269 DEBUG 12728 --- [http-nio-8068-exec-5] o.s.s.w.a.i.FilterSecurityInterceptor    : RunAsManager did not change Authentication object
2020-08-19 22:00:20.269 DEBUG 12728 --- [http-nio-8068-exec-5] o.s.security.web.FilterChainProxy        : /api/v1/transporttypes/ reached end of additional filter chain; proceeding with original chain
2020-08-19 22:01:23.209  WARN 12728 --- [HikariPool-2 housekeeper] com.zaxxer.hikari.pool.HikariPool        : HikariPool-2 - Thread starvation or clock leap detected (housekeeper delta=1m19s85ms982Âµs).
2020-08-19 22:01:23.210 DEBUG 12728 --- [http-nio-8068-exec-5] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match the requestMatcher org.springframework.security.web.header.writers.HstsHeaderWriter$SecureRequestMatcher@6f62f9b
2020-08-19 22:01:23.211 DEBUG 12728 --- [http-nio-8068-exec-5] s.s.w.c.SecurityContextPersistenceFilter : SecurityContextHolder now cleared, as request processing completed
2020-08-19 22:01:23.212 ERROR 12728 --- [http-nio-8068-exec-5] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is java.lang.NullPointerException] with root cause

java.lang.NullPointerException: null
	at ru.logisticplatform.rest.transportation.TransportTypeRestControllerV1.getAllTransportType(TransportTypeRestControllerV1.java:67) ~[classes/:na]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_111]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_111]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_111]
	at java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_111]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:190) ~[spring-web-5.2.7.RELEASE.jar:5.2.7.RELEASE]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:138) ~[spring-web-5.2.7.RELEASE.jar:5.2.7.RELEASE]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:105) ~[spring-webmvc-5.2.7.RELEASE.jar:5.2.7.RELEASE]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:879) ~[spring-webmvc-5.2.7.RELEASE.jar:5.2.7.RELEASE]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:793) ~[spring-webmvc-5.2.7.RELEASE.jar:5.2.7.RELEASE]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-5.2.7.RELEASE.jar:5.2.7.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1040) ~[spring-webmvc-5.2.7.RELEASE.jar:5.2.7.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:943) ~[spring-webmvc-5.2.7.RELEASE.jar:5.2.7.RELEASE]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006) ~[spring-webmvc-5.2.7.RELEASE.jar:5.2.7.RELEASE]
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:898) ~[spring-webmvc-5.2.7.RELEASE.jar:5.2.7.RELEASE]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:634) ~[tomcat-embed-core-9.0.36.jar:9.0.36]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883) ~[spring-webmvc-5.2.7.RELEASE.jar:5.2.7.RELEASE]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:741) ~[tomcat-embed-core-9.0.36.jar:9.0.36]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231) ~[tomcat-embed-core-9.0.36.jar:9.0.36]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.36.jar:9.0.36]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53) ~[tomcat-embed-websocket-9.0.36.jar:9.0.36]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-9.0.36.jar:9.0.36]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.36.jar:9.0.36]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:320) ~[spring-security-web-5.3.3.RELEASE.jar:5.3.3.RELEASE]
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:126) ~[spring-security-web-5.3.3.RELEASE.jar:5.3.3.RELEASE]
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:90) ~[spring-security-web-5.3.3.RELEASE.jar:5.3.3.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.3.3.RELEASE.jar:5.3.3.RELEASE]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:118) ~[spring-security-web-5.3.3.RELEASE.jar:5.3.3.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.3.3.RELEASE.jar:5.3.3.RELEASE]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:137) ~[spring-security-web-5.3.3.RELEASE.jar:5.3.3.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.3.3.RELEASE.jar:5.3.3.RELEASE]
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:111) ~[spring-security-web-5.3.3.RELEASE.jar:5.3.3.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.3.3.RELEASE.jar:5.3.3.RELEASE]
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:158) ~[spring-security-web-5.3.3.RELEASE.jar:5.3.3.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.3.3.RELEASE.jar:5.3.3.RELEASE]
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-5.3.3.RELEASE.jar:5.3.3.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.3.3.RELEASE.jar:5.3.3.RELEASE]
	at ru.logisticplatform.security.jwt.JwtTokenFilter.doFilter(JwtTokenFilter.java:34) ~[classes/:na]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.3.3.RELEASE.jar:5.3.3.RELEASE]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:116) ~[spring-security-web-5.3.3.RELEASE.jar:5.3.3.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.3.3.RELEASE.jar:5.3.3.RELEASE]
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:92) ~[spring-security-web-5.3.3.RELEASE.jar:5.3.3.RELEASE]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:77) ~[spring-security-web-5.3.3.RELEASE.jar:5.3.3.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.2.7.RELEASE.jar:5.2.7.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.3.3.RELEASE.jar:5.3.3.RELEASE]
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:105) ~[spring-security-web-5.3.3.RELEASE.jar:5.3.3.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.3.3.RELEASE.jar:5.3.3.RELEASE]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:56) ~[spring-security-web-5.3.3.RELEASE.jar:5.3.3.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.2.7.RELEASE.jar:5.2.7.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.3.3.RELEASE.jar:5.3.3.RELEASE]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:215) ~[spring-security-web-5.3.3.RELEASE.jar:5.3.3.RELEASE]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:178) ~[spring-security-web-5.3.3.RELEASE.jar:5.3.3.RELEASE]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:358) ~[spring-web-5.2.7.RELEASE.jar:5.2.7.RELEASE]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:271) ~[spring-web-5.2.7.RELEASE.jar:5.2.7.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-9.0.36.jar:9.0.36]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.36.jar:9.0.36]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-5.2.7.RELEASE.jar:5.2.7.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.2.7.RELEASE.jar:5.2.7.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-9.0.36.jar:9.0.36]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.36.jar:9.0.36]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-5.2.7.RELEASE.jar:5.2.7.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.2.7.RELEASE.jar:5.2.7.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-9.0.36.jar:9.0.36]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.36.jar:9.0.36]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-5.2.7.RELEASE.jar:5.2.7.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.2.7.RELEASE.jar:5.2.7.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-9.0.36.jar:9.0.36]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.36.jar:9.0.36]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:202) ~[tomcat-embed-core-9.0.36.jar:9.0.36]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96) [tomcat-embed-core-9.0.36.jar:9.0.36]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541) [tomcat-embed-core-9.0.36.jar:9.0.36]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:139) [tomcat-embed-core-9.0.36.jar:9.0.36]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92) [tomcat-embed-core-9.0.36.jar:9.0.36]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) [tomcat-embed-core-9.0.36.jar:9.0.36]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343) [tomcat-embed-core-9.0.36.jar:9.0.36]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:373) [tomcat-embed-core-9.0.36.jar:9.0.36]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65) [tomcat-embed-core-9.0.36.jar:9.0.36]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:868) [tomcat-embed-core-9.0.36.jar:9.0.36]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1590) [tomcat-embed-core-9.0.36.jar:9.0.36]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) [tomcat-embed-core-9.0.36.jar:9.0.36]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142) [na:1.8.0_111]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617) [na:1.8.0_111]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) [tomcat-embed-core-9.0.36.jar:9.0.36]
	at java.lang.Thread.run(Thread.java:745) [na:1.8.0_111]

2020-08-19 22:01:23.214 DEBUG 12728 --- [http-nio-8068-exec-5] o.s.security.web.FilterChainProxy        : /error at position 1 of 11 in additional filter chain; firing Filter: 'WebAsyncManagerIntegrationFilter'
2020-08-19 22:01:23.214 DEBUG 12728 --- [http-nio-8068-exec-5] o.s.security.web.FilterChainProxy        : /error at position 2 of 11 in additional filter chain; firing Filter: 'SecurityContextPersistenceFilter'
2020-08-19 22:01:23.214 DEBUG 12728 --- [http-nio-8068-exec-5] o.s.security.web.FilterChainProxy        : /error at position 3 of 11 in additional filter chain; firing Filter: 'HeaderWriterFilter'
2020-08-19 22:01:23.215 DEBUG 12728 --- [http-nio-8068-exec-5] o.s.security.web.FilterChainProxy        : /error at position 4 of 11 in additional filter chain; firing Filter: 'LogoutFilter'
2020-08-19 22:01:23.215 DEBUG 12728 --- [http-nio-8068-exec-5] o.s.s.web.util.matcher.OrRequestMatcher  : Trying to match using Ant [pattern='/logout', GET]
2020-08-19 22:01:23.215 DEBUG 12728 --- [http-nio-8068-exec-5] o.s.s.w.u.matcher.AntPathRequestMatcher  : Checking match of request : '/error'; against '/logout'
2020-08-19 22:01:23.215 DEBUG 12728 --- [http-nio-8068-exec-5] o.s.s.web.util.matcher.OrRequestMatcher  : Trying to match using Ant [pattern='/logout', POST]
2020-08-19 22:01:23.215 DEBUG 12728 --- [http-nio-8068-exec-5] o.s.s.w.u.matcher.AntPathRequestMatcher  : Request 'GET /error' doesn't match 'POST /logout'
2020-08-19 22:01:23.215 DEBUG 12728 --- [http-nio-8068-exec-5] o.s.s.web.util.matcher.OrRequestMatcher  : Trying to match using Ant [pattern='/logout', PUT]
2020-08-19 22:01:23.215 DEBUG 12728 --- [http-nio-8068-exec-5] o.s.s.w.u.matcher.AntPathRequestMatcher  : Request 'GET /error' doesn't match 'PUT /logout'
2020-08-19 22:01:23.215 DEBUG 12728 --- [http-nio-8068-exec-5] o.s.s.web.util.matcher.OrRequestMatcher  : Trying to match using Ant [pattern='/logout', DELETE]
2020-08-19 22:01:23.215 DEBUG 12728 --- [http-nio-8068-exec-5] o.s.s.w.u.matcher.AntPathRequestMatcher  : Request 'GET /error' doesn't match 'DELETE /logout'
2020-08-19 22:01:23.215 DEBUG 12728 --- [http-nio-8068-exec-5] o.s.s.web.util.matcher.OrRequestMatcher  : No matches found
2020-08-19 22:01:23.216 DEBUG 12728 --- [http-nio-8068-exec-5] o.s.security.web.FilterChainProxy        : /error at position 5 of 11 in additional filter chain; firing Filter: 'JwtTokenFilter'
2020-08-19 22:01:23.222  INFO 12728 --- [http-nio-8068-exec-5] r.l.service.user.impl.UserServiceImpl    : IN UserServiceImpl findByUsername - user: User{username='contractor1', firstName='firstNamecontractor1', lastName='lastNamecontractor1', email='emaicontractor1@mail.ru', phone='79119797601', password='$2a$10$3DhCz0.o.Qab.DOyPTtbTOFdNauditiMvzVN5MVQM6Q6snunxdU8C', roles=[Role{id: 2, name: ROLE_CONTRACTOR}], userStatus=ACTIVE} found by userName: contractor1
2020-08-19 22:01:23.222  INFO 12728 --- [http-nio-8068-exec-5] r.l.security.JwtUserDetailsService       : IN loadUserByUsername - user with username: contractor1 successfully loaded
2020-08-19 22:01:23.222 DEBUG 12728 --- [http-nio-8068-exec-5] o.s.security.web.FilterChainProxy        : /error at position 6 of 11 in additional filter chain; firing Filter: 'RequestCacheAwareFilter'
2020-08-19 22:01:23.222 DEBUG 12728 --- [http-nio-8068-exec-5] o.s.security.web.FilterChainProxy        : /error at position 7 of 11 in additional filter chain; firing Filter: 'SecurityContextHolderAwareRequestFilter'
2020-08-19 22:01:23.222 DEBUG 12728 --- [http-nio-8068-exec-5] o.s.security.web.FilterChainProxy        : /error at position 8 of 11 in additional filter chain; firing Filter: 'AnonymousAuthenticationFilter'
2020-08-19 22:01:23.222 DEBUG 12728 --- [http-nio-8068-exec-5] o.s.s.w.a.AnonymousAuthenticationFilter  : SecurityContextHolder not populated with anonymous token, as it already contained: 'org.springframework.security.authentication.UsernamePasswordAuthenticationToken@e52c3df: Principal: ru.logisticplatform.security.jwt.JwtUser@11d319c5; Credentials: [PROTECTED]; Authenticated: true; Details: null; Granted Authorities: ROLE_CONTRACTOR'
2020-08-19 22:01:23.222 DEBUG 12728 --- [http-nio-8068-exec-5] o.s.security.web.FilterChainProxy        : /error at position 9 of 11 in additional filter chain; firing Filter: 'SessionManagementFilter'
2020-08-19 22:01:23.222 DEBUG 12728 --- [http-nio-8068-exec-5] o.s.security.web.FilterChainProxy        : /error at position 10 of 11 in additional filter chain; firing Filter: 'ExceptionTranslationFilter'
2020-08-19 22:01:23.222 DEBUG 12728 --- [http-nio-8068-exec-5] o.s.security.web.FilterChainProxy        : /error at position 11 of 11 in additional filter chain; firing Filter: 'FilterSecurityInterceptor'
2020-08-19 22:01:23.223 DEBUG 12728 --- [http-nio-8068-exec-5] o.s.security.web.FilterChainProxy        : /error reached end of additional filter chain; proceeding with original chain
2020-08-19 22:01:23.226 DEBUG 12728 --- [http-nio-8068-exec-5] o.s.s.w.a.ExceptionTranslationFilter     : Chain processed normally
2020-08-19 22:01:23.226 DEBUG 12728 --- [http-nio-8068-exec-5] s.s.w.c.SecurityContextPersistenceFilter : SecurityContextHolder now cleared, as request processing completed
2020-08-19 22:01:23.478  INFO 12728 --- [SpringContextShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2020-08-19 22:01:23.482  INFO 12728 --- [SpringContextShutdownHook] o.s.s.concurrent.ThreadPoolTaskExecutor  : Shutting down ExecutorService 'applicationTaskExecutor'
2020-08-19 22:01:23.483  INFO 12728 --- [SpringContextShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-2 - Shutdown initiated...
2020-08-19 22:01:23.494  INFO 12728 --- [SpringContextShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-2 - Shutdown completed.
2020-08-19 22:04:03.244  INFO 14112 --- [main] r.l.LogisticPlatformApplication          : Starting LogisticPlatformApplication on DESKTOP-KQ9S95L with PID 14112 (G:\JAVA\avalon\VKR\_logisticplatform\logisticplatform\target\classes started by x in G:\JAVA\avalon\VKR\_logisticplatform\logisticplatform)
2020-08-19 22:04:03.250  INFO 14112 --- [main] r.l.LogisticPlatformApplication          : No active profile set, falling back to default profiles: default
2020-08-19 22:04:04.514  INFO 14112 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFERRED mode.
2020-08-19 22:04:04.678  INFO 14112 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 149ms. Found 9 JPA repository interfaces.
2020-08-19 22:04:05.446  INFO 14112 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8068 (http)
2020-08-19 22:04:05.457  INFO 14112 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2020-08-19 22:04:05.458  INFO 14112 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.36]
2020-08-19 22:04:05.622  INFO 14112 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2020-08-19 22:04:05.623  INFO 14112 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 2288 ms
2020-08-19 22:04:05.772  INFO 14112 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2020-08-19 22:04:06.347  INFO 14112 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2020-08-19 22:04:07.927  INFO 14112 --- [main] liquibase.executor.jvm.JdbcExecutor      : SELECT COUNT(*) FROM logisticplatform.DATABASECHANGELOGLOCK
2020-08-19 22:04:07.934  INFO 14112 --- [main] liquibase.executor.jvm.JdbcExecutor      : SELECT COUNT(*) FROM logisticplatform.DATABASECHANGELOGLOCK
2020-08-19 22:04:07.937  INFO 14112 --- [main] liquibase.executor.jvm.JdbcExecutor      : SELECT `LOCKED` FROM logisticplatform.DATABASECHANGELOGLOCK WHERE ID=1
2020-08-19 22:04:08.009  INFO 14112 --- [main] l.lockservice.StandardLockService        : Successfully acquired change log lock
2020-08-19 22:04:11.080  INFO 14112 --- [main] liquibase.executor.jvm.JdbcExecutor      : SELECT MD5SUM FROM logisticplatform.DATABASECHANGELOG WHERE MD5SUM IS NOT NULL LIMIT 1
2020-08-19 22:04:11.081  INFO 14112 --- [main] liquibase.executor.jvm.JdbcExecutor      : SELECT COUNT(*) FROM logisticplatform.DATABASECHANGELOG
2020-08-19 22:04:11.083  INFO 14112 --- [main] l.c.StandardChangeLogHistoryService      : Reading from logisticplatform.DATABASECHANGELOG
2020-08-19 22:04:11.083  INFO 14112 --- [main] liquibase.executor.jvm.JdbcExecutor      : SELECT * FROM logisticplatform.DATABASECHANGELOG ORDER BY DATEEXECUTED ASC, ORDEREXECUTED ASC
2020-08-19 22:04:11.217  INFO 14112 --- [main] l.lockservice.StandardLockService        : Successfully released change log lock
2020-08-19 22:04:11.218  INFO 14112 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2020-08-19 22:04:11.237  INFO 14112 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2020-08-19 22:04:11.372  INFO 14112 --- [main] o.s.s.concurrent.ThreadPoolTaskExecutor  : Initializing ExecutorService 'applicationTaskExecutor'
2020-08-19 22:04:11.383  INFO 14112 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-2 - Starting...
2020-08-19 22:04:11.383  WARN 14112 --- [main] com.zaxxer.hikari.util.DriverDataSource  : Registered driver with driverClassName=com.mysql.jdbc.Driver was not found, trying direct instantiation.
2020-08-19 22:04:11.430  INFO 14112 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-2 - Start completed.
2020-08-19 22:04:11.488  INFO 14112 --- [task-1] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2020-08-19 22:04:11.543  WARN 14112 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2020-08-19 22:04:11.553  INFO 14112 --- [task-1] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.4.17.Final
2020-08-19 22:04:11.748  INFO 14112 --- [task-1] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.0.Final}
2020-08-19 22:04:11.912  INFO 14112 --- [task-1] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2020-08-19 22:04:12.082 DEBUG 14112 --- [main] eGlobalAuthenticationAutowiredConfigurer : Eagerly initializing {org.springframework.boot.autoconfigure.security.servlet.WebSecurityEnablerConfiguration=org.springframework.boot.autoconfigure.security.servlet.WebSecurityEnablerConfiguration@56887c8f}
2020-08-19 22:04:12.184 DEBUG 14112 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression 'permitAll', for Ant [pattern='/api/v1/sign/**']
2020-08-19 22:04:12.187 DEBUG 14112 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression 'hasRole('ROLE_ADMIN')', for Ant [pattern='/api/v1/admins/**']
2020-08-19 22:04:12.414 DEBUG 14112 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression 'hasRole('ROLE_CUSTOMER')', for Ant [pattern='/api/v1/customers/**']
2020-08-19 22:04:12.414 DEBUG 14112 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression 'hasRole('ROLE_CONTRACTOR')', for Ant [pattern='/api/v1/contractors/**']
2020-08-19 22:04:12.415 DEBUG 14112 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression 'hasAnyRole('ROLE_CONTRACTOR','ROLE_CUSTOMER')', for Ant [pattern='/api/v1/transporttypes/**']
2020-08-19 22:04:12.415 DEBUG 14112 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression 'authenticated', for any request
2020-08-19 22:04:12.421 DEBUG 14112 --- [main] o.s.s.w.a.i.FilterSecurityInterceptor    : Validated configuration attributes
2020-08-19 22:04:12.423 DEBUG 14112 --- [main] o.s.s.w.a.i.FilterSecurityInterceptor    : Validated configuration attributes
2020-08-19 22:04:12.426  INFO 14112 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: any request, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@5923210, org.springframework.security.web.context.SecurityContextPersistenceFilter@7683d632, org.springframework.security.web.header.HeaderWriterFilter@7369208e, org.springframework.security.web.authentication.logout.LogoutFilter@6b9fc5c7, ru.logisticplatform.security.jwt.JwtTokenFilter@70dd79f7, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@693ed09d, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@2396408a, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@4ee19768, org.springframework.security.web.session.SessionManagementFilter@1f24e33d, org.springframework.security.web.access.ExceptionTranslationFilter@24ce5d4c, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@6a358906]
2020-08-19 22:04:12.492  INFO 14112 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8068 (http) with context path ''
2020-08-19 22:04:12.495  INFO 14112 --- [main] DeferredRepositoryInitializationListener : Triggering deferred initialization of Spring Data repositoriesâ€¦
2020-08-19 22:04:13.162  INFO 14112 --- [task-1] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2020-08-19 22:04:13.175  INFO 14112 --- [task-1] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2020-08-19 22:04:13.733  INFO 14112 --- [main] DeferredRepositoryInitializationListener : Spring Data repositories initialized!
2020-08-19 22:04:13.744  INFO 14112 --- [main] r.l.LogisticPlatformApplication          : Started LogisticPlatformApplication in 11.613 seconds (JVM running for 12.727)
2020-08-19 22:06:47.883  INFO 14112 --- [http-nio-8068-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2020-08-19 22:06:47.883  INFO 14112 --- [http-nio-8068-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2020-08-19 22:06:47.891  INFO 14112 --- [http-nio-8068-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 8 ms
2020-08-19 22:06:47.906 DEBUG 14112 --- [http-nio-8068-exec-1] o.s.security.web.FilterChainProxy        : /api/v1/transporttypes/ at position 1 of 11 in additional filter chain; firing Filter: 'WebAsyncManagerIntegrationFilter'
2020-08-19 22:06:47.907 DEBUG 14112 --- [http-nio-8068-exec-1] o.s.security.web.FilterChainProxy        : /api/v1/transporttypes/ at position 2 of 11 in additional filter chain; firing Filter: 'SecurityContextPersistenceFilter'
2020-08-19 22:06:47.910 DEBUG 14112 --- [http-nio-8068-exec-1] o.s.security.web.FilterChainProxy        : /api/v1/transporttypes/ at position 3 of 11 in additional filter chain; firing Filter: 'HeaderWriterFilter'
2020-08-19 22:06:47.912 DEBUG 14112 --- [http-nio-8068-exec-1] o.s.security.web.FilterChainProxy        : /api/v1/transporttypes/ at position 4 of 11 in additional filter chain; firing Filter: 'LogoutFilter'
2020-08-19 22:06:47.912 DEBUG 14112 --- [http-nio-8068-exec-1] o.s.s.web.util.matcher.OrRequestMatcher  : Trying to match using Ant [pattern='/logout', GET]
2020-08-19 22:06:47.912 DEBUG 14112 --- [http-nio-8068-exec-1] o.s.s.w.u.matcher.AntPathRequestMatcher  : Checking match of request : '/api/v1/transporttypes/'; against '/logout'
2020-08-19 22:06:47.912 DEBUG 14112 --- [http-nio-8068-exec-1] o.s.s.web.util.matcher.OrRequestMatcher  : Trying to match using Ant [pattern='/logout', POST]
2020-08-19 22:06:47.913 DEBUG 14112 --- [http-nio-8068-exec-1] o.s.s.w.u.matcher.AntPathRequestMatcher  : Request 'GET /api/v1/transporttypes/' doesn't match 'POST /logout'
2020-08-19 22:06:47.913 DEBUG 14112 --- [http-nio-8068-exec-1] o.s.s.web.util.matcher.OrRequestMatcher  : Trying to match using Ant [pattern='/logout', PUT]
2020-08-19 22:06:47.913 DEBUG 14112 --- [http-nio-8068-exec-1] o.s.s.w.u.matcher.AntPathRequestMatcher  : Request 'GET /api/v1/transporttypes/' doesn't match 'PUT /logout'
2020-08-19 22:06:47.913 DEBUG 14112 --- [http-nio-8068-exec-1] o.s.s.web.util.matcher.OrRequestMatcher  : Trying to match using Ant [pattern='/logout', DELETE]
2020-08-19 22:06:47.913 DEBUG 14112 --- [http-nio-8068-exec-1] o.s.s.w.u.matcher.AntPathRequestMatcher  : Request 'GET /api/v1/transporttypes/' doesn't match 'DELETE /logout'
2020-08-19 22:06:47.913 DEBUG 14112 --- [http-nio-8068-exec-1] o.s.s.web.util.matcher.OrRequestMatcher  : No matches found
2020-08-19 22:06:47.913 DEBUG 14112 --- [http-nio-8068-exec-1] o.s.security.web.FilterChainProxy        : /api/v1/transporttypes/ at position 5 of 11 in additional filter chain; firing Filter: 'JwtTokenFilter'
2020-08-19 22:06:48.192  INFO 14112 --- [http-nio-8068-exec-1] r.l.service.user.impl.UserServiceImpl    : IN UserServiceImpl findByUsername - user: User{username='contractor1', firstName='firstNamecontractor1', lastName='lastNamecontractor1', email='emaicontractor1@mail.ru', phone='79119797601', password='$2a$10$3DhCz0.o.Qab.DOyPTtbTOFdNauditiMvzVN5MVQM6Q6snunxdU8C', roles=[Role{id: 2, name: ROLE_CONTRACTOR}], userStatus=ACTIVE} found by userName: contractor1
2020-08-19 22:06:48.194  INFO 14112 --- [http-nio-8068-exec-1] r.l.security.JwtUserDetailsService       : IN loadUserByUsername - user with username: contractor1 successfully loaded
2020-08-19 22:06:48.195 DEBUG 14112 --- [http-nio-8068-exec-1] o.s.security.web.FilterChainProxy        : /api/v1/transporttypes/ at position 6 of 11 in additional filter chain; firing Filter: 'RequestCacheAwareFilter'
2020-08-19 22:06:48.195 DEBUG 14112 --- [http-nio-8068-exec-1] o.s.security.web.FilterChainProxy        : /api/v1/transporttypes/ at position 7 of 11 in additional filter chain; firing Filter: 'SecurityContextHolderAwareRequestFilter'
2020-08-19 22:06:48.196 DEBUG 14112 --- [http-nio-8068-exec-1] o.s.security.web.FilterChainProxy        : /api/v1/transporttypes/ at position 8 of 11 in additional filter chain; firing Filter: 'AnonymousAuthenticationFilter'
2020-08-19 22:06:48.197 DEBUG 14112 --- [http-nio-8068-exec-1] o.s.s.w.a.AnonymousAuthenticationFilter  : SecurityContextHolder not populated with anonymous token, as it already contained: 'org.springframework.security.authentication.UsernamePasswordAuthenticationToken@738ecb2d: Principal: ru.logisticplatform.security.jwt.JwtUser@6c0f1137; Credentials: [PROTECTED]; Authenticated: true; Details: null; Granted Authorities: ROLE_CONTRACTOR'
2020-08-19 22:06:48.197 DEBUG 14112 --- [http-nio-8068-exec-1] o.s.security.web.FilterChainProxy        : /api/v1/transporttypes/ at position 9 of 11 in additional filter chain; firing Filter: 'SessionManagementFilter'
2020-08-19 22:06:48.197 DEBUG 14112 --- [http-nio-8068-exec-1] s.CompositeSessionAuthenticationStrategy : Delegating to org.springframework.security.web.authentication.session.ChangeSessionIdAuthenticationStrategy@64c37088
2020-08-19 22:06:48.197 DEBUG 14112 --- [http-nio-8068-exec-1] o.s.security.web.FilterChainProxy        : /api/v1/transporttypes/ at position 10 of 11 in additional filter chain; firing Filter: 'ExceptionTranslationFilter'
2020-08-19 22:06:48.197 DEBUG 14112 --- [http-nio-8068-exec-1] o.s.security.web.FilterChainProxy        : /api/v1/transporttypes/ at position 11 of 11 in additional filter chain; firing Filter: 'FilterSecurityInterceptor'
2020-08-19 22:06:48.198 DEBUG 14112 --- [http-nio-8068-exec-1] o.s.s.w.u.matcher.AntPathRequestMatcher  : Checking match of request : '/api/v1/transporttypes/'; against '/api/v1/sign/**'
2020-08-19 22:06:48.198 DEBUG 14112 --- [http-nio-8068-exec-1] o.s.s.w.u.matcher.AntPathRequestMatcher  : Checking match of request : '/api/v1/transporttypes/'; against '/api/v1/admins/**'
2020-08-19 22:06:48.198 DEBUG 14112 --- [http-nio-8068-exec-1] o.s.s.w.u.matcher.AntPathRequestMatcher  : Checking match of request : '/api/v1/transporttypes/'; against '/api/v1/customers/**'
2020-08-19 22:06:48.198 DEBUG 14112 --- [http-nio-8068-exec-1] o.s.s.w.u.matcher.AntPathRequestMatcher  : Checking match of request : '/api/v1/transporttypes/'; against '/api/v1/contractors/**'
2020-08-19 22:06:48.198 DEBUG 14112 --- [http-nio-8068-exec-1] o.s.s.w.u.matcher.AntPathRequestMatcher  : Checking match of request : '/api/v1/transporttypes/'; against '/api/v1/transporttypes/**'
2020-08-19 22:06:48.198 DEBUG 14112 --- [http-nio-8068-exec-1] o.s.s.w.a.i.FilterSecurityInterceptor    : Secure object: FilterInvocation: URL: /api/v1/transporttypes/; Attributes: [hasAnyRole('ROLE_CONTRACTOR','ROLE_CUSTOMER')]
2020-08-19 22:06:48.199 DEBUG 14112 --- [http-nio-8068-exec-1] o.s.s.w.a.i.FilterSecurityInterceptor    : Previously Authenticated: org.springframework.security.authentication.UsernamePasswordAuthenticationToken@738ecb2d: Principal: ru.logisticplatform.security.jwt.JwtUser@6c0f1137; Credentials: [PROTECTED]; Authenticated: true; Details: null; Granted Authorities: ROLE_CONTRACTOR
2020-08-19 22:06:48.203 DEBUG 14112 --- [http-nio-8068-exec-1] o.s.s.access.vote.AffirmativeBased       : Voter: org.springframework.security.web.access.expression.WebExpressionVoter@73d8aab3, returned: 1
2020-08-19 22:06:48.203 DEBUG 14112 --- [http-nio-8068-exec-1] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorization successful
2020-08-19 22:06:48.203 DEBUG 14112 --- [http-nio-8068-exec-1] o.s.s.w.a.i.FilterSecurityInterceptor    : RunAsManager did not change Authentication object
2020-08-19 22:06:48.203 DEBUG 14112 --- [http-nio-8068-exec-1] o.s.security.web.FilterChainProxy        : /api/v1/transporttypes/ reached end of additional filter chain; proceeding with original chain
2020-08-19 22:06:48.223  INFO 14112 --- [http-nio-8068-exec-1] r.l.s.t.impl.TransportTypeServiceImpl    : IN TransportTypeServiceImpl getAll
2020-08-19 22:06:48.415 DEBUG 14112 --- [http-nio-8068-exec-1] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match the requestMatcher org.springframework.security.web.header.writers.HstsHeaderWriter$SecureRequestMatcher@6648eda6
2020-08-19 22:06:48.425 DEBUG 14112 --- [http-nio-8068-exec-1] o.s.s.w.a.ExceptionTranslationFilter     : Chain processed normally
2020-08-19 22:06:48.425 DEBUG 14112 --- [http-nio-8068-exec-1] s.s.w.c.SecurityContextPersistenceFilter : SecurityContextHolder now cleared, as request processing completed
2020-08-19 22:07:23.709 DEBUG 14112 --- [http-nio-8068-exec-3] o.s.security.web.FilterChainProxy        : /api/v1/sign/in at position 1 of 11 in additional filter chain; firing Filter: 'WebAsyncManagerIntegrationFilter'
2020-08-19 22:07:23.709 DEBUG 14112 --- [http-nio-8068-exec-3] o.s.security.web.FilterChainProxy        : /api/v1/sign/in at position 2 of 11 in additional filter chain; firing Filter: 'SecurityContextPersistenceFilter'
2020-08-19 22:07:23.709 DEBUG 14112 --- [http-nio-8068-exec-3] o.s.security.web.FilterChainProxy        : /api/v1/sign/in at position 3 of 11 in additional filter chain; firing Filter: 'HeaderWriterFilter'
2020-08-19 22:07:23.709 DEBUG 14112 --- [http-nio-8068-exec-3] o.s.security.web.FilterChainProxy        : /api/v1/sign/in at position 4 of 11 in additional filter chain; firing Filter: 'LogoutFilter'
2020-08-19 22:07:23.710 DEBUG 14112 --- [http-nio-8068-exec-3] o.s.s.web.util.matcher.OrRequestMatcher  : Trying to match using Ant [pattern='/logout', GET]
2020-08-19 22:07:23.710 DEBUG 14112 --- [http-nio-8068-exec-3] o.s.s.w.u.matcher.AntPathRequestMatcher  : Request 'POST /api/v1/sign/in' doesn't match 'GET /logout'
2020-08-19 22:07:23.710 DEBUG 14112 --- [http-nio-8068-exec-3] o.s.s.web.util.matcher.OrRequestMatcher  : Trying to match using Ant [pattern='/logout', POST]
2020-08-19 22:07:23.710 DEBUG 14112 --- [http-nio-8068-exec-3] o.s.s.w.u.matcher.AntPathRequestMatcher  : Checking match of request : '/api/v1/sign/in'; against '/logout'
2020-08-19 22:07:23.710 DEBUG 14112 --- [http-nio-8068-exec-3] o.s.s.web.util.matcher.OrRequestMatcher  : Trying to match using Ant [pattern='/logout', PUT]
2020-08-19 22:07:23.710 DEBUG 14112 --- [http-nio-8068-exec-3] o.s.s.w.u.matcher.AntPathRequestMatcher  : Request 'POST /api/v1/sign/in' doesn't match 'PUT /logout'
2020-08-19 22:07:23.710 DEBUG 14112 --- [http-nio-8068-exec-3] o.s.s.web.util.matcher.OrRequestMatcher  : Trying to match using Ant [pattern='/logout', DELETE]
2020-08-19 22:07:23.710 DEBUG 14112 --- [http-nio-8068-exec-3] o.s.s.w.u.matcher.AntPathRequestMatcher  : Request 'POST /api/v1/sign/in' doesn't match 'DELETE /logout'
2020-08-19 22:07:23.711 DEBUG 14112 --- [http-nio-8068-exec-3] o.s.s.web.util.matcher.OrRequestMatcher  : No matches found
2020-08-19 22:07:23.711 DEBUG 14112 --- [http-nio-8068-exec-3] o.s.security.web.FilterChainProxy        : /api/v1/sign/in at position 5 of 11 in additional filter chain; firing Filter: 'JwtTokenFilter'
2020-08-19 22:07:23.711 DEBUG 14112 --- [http-nio-8068-exec-3] o.s.security.web.FilterChainProxy        : /api/v1/sign/in at position 6 of 11 in additional filter chain; firing Filter: 'RequestCacheAwareFilter'
2020-08-19 22:07:23.711 DEBUG 14112 --- [http-nio-8068-exec-3] o.s.security.web.FilterChainProxy        : /api/v1/sign/in at position 7 of 11 in additional filter chain; firing Filter: 'SecurityContextHolderAwareRequestFilter'
2020-08-19 22:07:23.711 DEBUG 14112 --- [http-nio-8068-exec-3] o.s.security.web.FilterChainProxy        : /api/v1/sign/in at position 8 of 11 in additional filter chain; firing Filter: 'AnonymousAuthenticationFilter'
2020-08-19 22:07:23.712 DEBUG 14112 --- [http-nio-8068-exec-3] o.s.s.w.a.AnonymousAuthenticationFilter  : Populated SecurityContextHolder with anonymous token: 'org.springframework.security.authentication.AnonymousAuthenticationToken@3d83e88a: Principal: anonymousUser; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_ANONYMOUS'
2020-08-19 22:07:23.713 DEBUG 14112 --- [http-nio-8068-exec-3] o.s.security.web.FilterChainProxy        : /api/v1/sign/in at position 9 of 11 in additional filter chain; firing Filter: 'SessionManagementFilter'
2020-08-19 22:07:23.713 DEBUG 14112 --- [http-nio-8068-exec-3] o.s.security.web.FilterChainProxy        : /api/v1/sign/in at position 10 of 11 in additional filter chain; firing Filter: 'ExceptionTranslationFilter'
2020-08-19 22:07:23.713 DEBUG 14112 --- [http-nio-8068-exec-3] o.s.security.web.FilterChainProxy        : /api/v1/sign/in at position 11 of 11 in additional filter chain; firing Filter: 'FilterSecurityInterceptor'
2020-08-19 22:07:23.713 DEBUG 14112 --- [http-nio-8068-exec-3] o.s.s.w.u.matcher.AntPathRequestMatcher  : Checking match of request : '/api/v1/sign/in'; against '/api/v1/sign/**'
2020-08-19 22:07:23.713 DEBUG 14112 --- [http-nio-8068-exec-3] o.s.s.w.a.i.FilterSecurityInterceptor    : Secure object: FilterInvocation: URL: /api/v1/sign/in; Attributes: [permitAll]
2020-08-19 22:07:23.713 DEBUG 14112 --- [http-nio-8068-exec-3] o.s.s.w.a.i.FilterSecurityInterceptor    : Previously Authenticated: org.springframework.security.authentication.AnonymousAuthenticationToken@3d83e88a: Principal: anonymousUser; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_ANONYMOUS
2020-08-19 22:07:23.718 DEBUG 14112 --- [http-nio-8068-exec-3] o.s.s.access.vote.AffirmativeBased       : Voter: org.springframework.security.web.access.expression.WebExpressionVoter@73d8aab3, returned: 1
2020-08-19 22:07:23.718 DEBUG 14112 --- [http-nio-8068-exec-3] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorization successful
2020-08-19 22:07:23.718 DEBUG 14112 --- [http-nio-8068-exec-3] o.s.s.w.a.i.FilterSecurityInterceptor    : RunAsManager did not change Authentication object
2020-08-19 22:07:23.718 DEBUG 14112 --- [http-nio-8068-exec-3] o.s.security.web.FilterChainProxy        : /api/v1/sign/in reached end of additional filter chain; proceeding with original chain
2020-08-19 22:07:23.763 DEBUG 14112 --- [http-nio-8068-exec-3] o.s.s.authentication.ProviderManager     : Authentication attempt using org.springframework.security.authentication.dao.DaoAuthenticationProvider
2020-08-19 22:07:23.898  INFO 14112 --- [http-nio-8068-exec-3] r.l.service.user.impl.UserServiceImpl    : IN UserServiceImpl findByUsername - user: User{username='customer4', firstName='firstName4', lastName='lastName4', email='email4@mail.ru', phone='79449797604', password='$2a$10$4o.U..Oyp9g4PWTeQXZR9OGvYC5ITi4EFkcxlnZtCU4iUf5jjvaS6', roles=[Role{id: 3, name: ROLE_CUSTOMER}], userStatus=ACTIVE} found by userName: customer4
2020-08-19 22:07:23.898  INFO 14112 --- [http-nio-8068-exec-3] r.l.security.JwtUserDetailsService       : IN loadUserByUsername - user with username: customer4 successfully loaded
2020-08-19 22:07:24.029  INFO 14112 --- [http-nio-8068-exec-3] r.l.service.user.impl.UserServiceImpl    : IN UserServiceImpl findByUsername - user: User{username='customer4', firstName='firstName4', lastName='lastName4', email='email4@mail.ru', phone='79449797604', password='$2a$10$4o.U..Oyp9g4PWTeQXZR9OGvYC5ITi4EFkcxlnZtCU4iUf5jjvaS6', roles=[Role{id: 3, name: ROLE_CUSTOMER}], userStatus=ACTIVE} found by userName: customer4
2020-08-19 22:07:24.052 DEBUG 14112 --- [http-nio-8068-exec-3] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match the requestMatcher org.springframework.security.web.header.writers.HstsHeaderWriter$SecureRequestMatcher@6648eda6
2020-08-19 22:07:24.053 DEBUG 14112 --- [http-nio-8068-exec-3] o.s.s.w.a.ExceptionTranslationFilter     : Chain processed normally
2020-08-19 22:07:24.053 DEBUG 14112 --- [http-nio-8068-exec-3] s.s.w.c.SecurityContextPersistenceFilter : SecurityContextHolder now cleared, as request processing completed
2020-08-19 22:07:34.490 DEBUG 14112 --- [http-nio-8068-exec-4] o.s.security.web.FilterChainProxy        : /api/v1/transporttypes/ at position 1 of 11 in additional filter chain; firing Filter: 'WebAsyncManagerIntegrationFilter'
2020-08-19 22:07:34.491 DEBUG 14112 --- [http-nio-8068-exec-4] o.s.security.web.FilterChainProxy        : /api/v1/transporttypes/ at position 2 of 11 in additional filter chain; firing Filter: 'SecurityContextPersistenceFilter'
2020-08-19 22:07:34.491 DEBUG 14112 --- [http-nio-8068-exec-4] o.s.security.web.FilterChainProxy        : /api/v1/transporttypes/ at position 3 of 11 in additional filter chain; firing Filter: 'HeaderWriterFilter'
2020-08-19 22:07:34.491 DEBUG 14112 --- [http-nio-8068-exec-4] o.s.security.web.FilterChainProxy        : /api/v1/transporttypes/ at position 4 of 11 in additional filter chain; firing Filter: 'LogoutFilter'
2020-08-19 22:07:34.491 DEBUG 14112 --- [http-nio-8068-exec-4] o.s.s.web.util.matcher.OrRequestMatcher  : Trying to match using Ant [pattern='/logout', GET]
2020-08-19 22:07:34.491 DEBUG 14112 --- [http-nio-8068-exec-4] o.s.s.w.u.matcher.AntPathRequestMatcher  : Checking match of request : '/api/v1/transporttypes/'; against '/logout'
2020-08-19 22:07:34.491 DEBUG 14112 --- [http-nio-8068-exec-4] o.s.s.web.util.matcher.OrRequestMatcher  : Trying to match using Ant [pattern='/logout', POST]
2020-08-19 22:07:34.492 DEBUG 14112 --- [http-nio-8068-exec-4] o.s.s.w.u.matcher.AntPathRequestMatcher  : Request 'GET /api/v1/transporttypes/' doesn't match 'POST /logout'
2020-08-19 22:07:34.492 DEBUG 14112 --- [http-nio-8068-exec-4] o.s.s.web.util.matcher.OrRequestMatcher  : Trying to match using Ant [pattern='/logout', PUT]
2020-08-19 22:07:34.492 DEBUG 14112 --- [http-nio-8068-exec-4] o.s.s.w.u.matcher.AntPathRequestMatcher  : Request 'GET /api/v1/transporttypes/' doesn't match 'PUT /logout'
2020-08-19 22:07:34.492 DEBUG 14112 --- [http-nio-8068-exec-4] o.s.s.web.util.matcher.OrRequestMatcher  : Trying to match using Ant [pattern='/logout', DELETE]
2020-08-19 22:07:34.492 DEBUG 14112 --- [http-nio-8068-exec-4] o.s.s.w.u.matcher.AntPathRequestMatcher  : Request 'GET /api/v1/transporttypes/' doesn't match 'DELETE /logout'
2020-08-19 22:07:34.492 DEBUG 14112 --- [http-nio-8068-exec-4] o.s.s.web.util.matcher.OrRequestMatcher  : No matches found
2020-08-19 22:07:34.492 DEBUG 14112 --- [http-nio-8068-exec-4] o.s.security.web.FilterChainProxy        : /api/v1/transporttypes/ at position 5 of 11 in additional filter chain; firing Filter: 'JwtTokenFilter'
2020-08-19 22:07:34.500  INFO 14112 --- [http-nio-8068-exec-4] r.l.service.user.impl.UserServiceImpl    : IN UserServiceImpl findByUsername - user: User{username='customer4', firstName='firstName4', lastName='lastName4', email='email4@mail.ru', phone='79449797604', password='$2a$10$4o.U..Oyp9g4PWTeQXZR9OGvYC5ITi4EFkcxlnZtCU4iUf5jjvaS6', roles=[Role{id: 3, name: ROLE_CUSTOMER}], userStatus=ACTIVE} found by userName: customer4
2020-08-19 22:07:34.500  INFO 14112 --- [http-nio-8068-exec-4] r.l.security.JwtUserDetailsService       : IN loadUserByUsername - user with username: customer4 successfully loaded
2020-08-19 22:07:34.500 DEBUG 14112 --- [http-nio-8068-exec-4] o.s.security.web.FilterChainProxy        : /api/v1/transporttypes/ at position 6 of 11 in additional filter chain; firing Filter: 'RequestCacheAwareFilter'
2020-08-19 22:07:34.500 DEBUG 14112 --- [http-nio-8068-exec-4] o.s.security.web.FilterChainProxy        : /api/v1/transporttypes/ at position 7 of 11 in additional filter chain; firing Filter: 'SecurityContextHolderAwareRequestFilter'
2020-08-19 22:07:34.500 DEBUG 14112 --- [http-nio-8068-exec-4] o.s.security.web.FilterChainProxy        : /api/v1/transporttypes/ at position 8 of 11 in additional filter chain; firing Filter: 'AnonymousAuthenticationFilter'
2020-08-19 22:07:34.500 DEBUG 14112 --- [http-nio-8068-exec-4] o.s.s.w.a.AnonymousAuthenticationFilter  : SecurityContextHolder not populated with anonymous token, as it already contained: 'org.springframework.security.authentication.UsernamePasswordAuthenticationToken@c7c04f73: Principal: ru.logisticplatform.security.jwt.JwtUser@1198fd30; Credentials: [PROTECTED]; Authenticated: true; Details: null; Granted Authorities: ROLE_CUSTOMER'
2020-08-19 22:07:34.501 DEBUG 14112 --- [http-nio-8068-exec-4] o.s.security.web.FilterChainProxy        : /api/v1/transporttypes/ at position 9 of 11 in additional filter chain; firing Filter: 'SessionManagementFilter'
2020-08-19 22:07:34.501 DEBUG 14112 --- [http-nio-8068-exec-4] s.CompositeSessionAuthenticationStrategy : Delegating to org.springframework.security.web.authentication.session.ChangeSessionIdAuthenticationStrategy@64c37088
2020-08-19 22:07:34.501 DEBUG 14112 --- [http-nio-8068-exec-4] o.s.security.web.FilterChainProxy        : /api/v1/transporttypes/ at position 10 of 11 in additional filter chain; firing Filter: 'ExceptionTranslationFilter'
2020-08-19 22:07:34.501 DEBUG 14112 --- [http-nio-8068-exec-4] o.s.security.web.FilterChainProxy        : /api/v1/transporttypes/ at position 11 of 11 in additional filter chain; firing Filter: 'FilterSecurityInterceptor'
2020-08-19 22:07:34.501 DEBUG 14112 --- [http-nio-8068-exec-4] o.s.s.w.u.matcher.AntPathRequestMatcher  : Checking match of request : '/api/v1/transporttypes/'; against '/api/v1/sign/**'
2020-08-19 22:07:34.501 DEBUG 14112 --- [http-nio-8068-exec-4] o.s.s.w.u.matcher.AntPathRequestMatcher  : Checking match of request : '/api/v1/transporttypes/'; against '/api/v1/admins/**'
2020-08-19 22:07:34.501 DEBUG 14112 --- [http-nio-8068-exec-4] o.s.s.w.u.matcher.AntPathRequestMatcher  : Checking match of request : '/api/v1/transporttypes/'; against '/api/v1/customers/**'
2020-08-19 22:07:34.501 DEBUG 14112 --- [http-nio-8068-exec-4] o.s.s.w.u.matcher.AntPathRequestMatcher  : Checking match of request : '/api/v1/transporttypes/'; against '/api/v1/contractors/**'
2020-08-19 22:07:34.501 DEBUG 14112 --- [http-nio-8068-exec-4] o.s.s.w.u.matcher.AntPathRequestMatcher  : Checking match of request : '/api/v1/transporttypes/'; against '/api/v1/transporttypes/**'
2020-08-19 22:07:34.502 DEBUG 14112 --- [http-nio-8068-exec-4] o.s.s.w.a.i.FilterSecurityInterceptor    : Secure object: FilterInvocation: URL: /api/v1/transporttypes/; Attributes: [hasAnyRole('ROLE_CONTRACTOR','ROLE_CUSTOMER')]
2020-08-19 22:07:34.502 DEBUG 14112 --- [http-nio-8068-exec-4] o.s.s.w.a.i.FilterSecurityInterceptor    : Previously Authenticated: org.springframework.security.authentication.UsernamePasswordAuthenticationToken@c7c04f73: Principal: ru.logisticplatform.security.jwt.JwtUser@1198fd30; Credentials: [PROTECTED]; Authenticated: true; Details: null; Granted Authorities: ROLE_CUSTOMER
2020-08-19 22:07:34.503 DEBUG 14112 --- [http-nio-8068-exec-4] o.s.s.access.vote.AffirmativeBased       : Voter: org.springframework.security.web.access.expression.WebExpressionVoter@73d8aab3, returned: 1
2020-08-19 22:07:34.503 DEBUG 14112 --- [http-nio-8068-exec-4] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorization successful
2020-08-19 22:07:34.503 DEBUG 14112 --- [http-nio-8068-exec-4] o.s.s.w.a.i.FilterSecurityInterceptor    : RunAsManager did not change Authentication object
2020-08-19 22:07:34.503 DEBUG 14112 --- [http-nio-8068-exec-4] o.s.security.web.FilterChainProxy        : /api/v1/transporttypes/ reached end of additional filter chain; proceeding with original chain
2020-08-19 22:07:34.504  INFO 14112 --- [http-nio-8068-exec-4] r.l.s.t.impl.TransportTypeServiceImpl    : IN TransportTypeServiceImpl getAll
2020-08-19 22:07:34.513 DEBUG 14112 --- [http-nio-8068-exec-4] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match the requestMatcher org.springframework.security.web.header.writers.HstsHeaderWriter$SecureRequestMatcher@6648eda6
2020-08-19 22:07:34.514 DEBUG 14112 --- [http-nio-8068-exec-4] o.s.s.w.a.ExceptionTranslationFilter     : Chain processed normally
2020-08-19 22:07:34.514 DEBUG 14112 --- [http-nio-8068-exec-4] s.s.w.c.SecurityContextPersistenceFilter : SecurityContextHolder now cleared, as request processing completed
2020-08-19 22:07:44.419 DEBUG 14112 --- [http-nio-8068-exec-5] o.s.security.web.FilterChainProxy        : /api/v1/transporttypes/ at position 1 of 11 in additional filter chain; firing Filter: 'WebAsyncManagerIntegrationFilter'
2020-08-19 22:07:44.419 DEBUG 14112 --- [http-nio-8068-exec-5] o.s.security.web.FilterChainProxy        : /api/v1/transporttypes/ at position 2 of 11 in additional filter chain; firing Filter: 'SecurityContextPersistenceFilter'
2020-08-19 22:07:44.419 DEBUG 14112 --- [http-nio-8068-exec-5] o.s.security.web.FilterChainProxy        : /api/v1/transporttypes/ at position 3 of 11 in additional filter chain; firing Filter: 'HeaderWriterFilter'
2020-08-19 22:07:44.419 DEBUG 14112 --- [http-nio-8068-exec-5] o.s.security.web.FilterChainProxy        : /api/v1/transporttypes/ at position 4 of 11 in additional filter chain; firing Filter: 'LogoutFilter'
2020-08-19 22:07:44.419 DEBUG 14112 --- [http-nio-8068-exec-5] o.s.s.web.util.matcher.OrRequestMatcher  : Trying to match using Ant [pattern='/logout', GET]
2020-08-19 22:07:44.419 DEBUG 14112 --- [http-nio-8068-exec-5] o.s.s.w.u.matcher.AntPathRequestMatcher  : Checking match of request : '/api/v1/transporttypes/'; against '/logout'
2020-08-19 22:07:44.419 DEBUG 14112 --- [http-nio-8068-exec-5] o.s.s.web.util.matcher.OrRequestMatcher  : Trying to match using Ant [pattern='/logout', POST]
2020-08-19 22:07:44.419 DEBUG 14112 --- [http-nio-8068-exec-5] o.s.s.w.u.matcher.AntPathRequestMatcher  : Request 'GET /api/v1/transporttypes/' doesn't match 'POST /logout'
2020-08-19 22:07:44.420 DEBUG 14112 --- [http-nio-8068-exec-5] o.s.s.web.util.matcher.OrRequestMatcher  : Trying to match using Ant [pattern='/logout', PUT]
2020-08-19 22:07:44.420 DEBUG 14112 --- [http-nio-8068-exec-5] o.s.s.w.u.matcher.AntPathRequestMatcher  : Request 'GET /api/v1/transporttypes/' doesn't match 'PUT /logout'
2020-08-19 22:07:44.420 DEBUG 14112 --- [http-nio-8068-exec-5] o.s.s.web.util.matcher.OrRequestMatcher  : Trying to match using Ant [pattern='/logout', DELETE]
2020-08-19 22:07:44.420 DEBUG 14112 --- [http-nio-8068-exec-5] o.s.s.w.u.matcher.AntPathRequestMatcher  : Request 'GET /api/v1/transporttypes/' doesn't match 'DELETE /logout'
2020-08-19 22:07:44.420 DEBUG 14112 --- [http-nio-8068-exec-5] o.s.s.web.util.matcher.OrRequestMatcher  : No matches found
2020-08-19 22:07:44.420 DEBUG 14112 --- [http-nio-8068-exec-5] o.s.security.web.FilterChainProxy        : /api/v1/transporttypes/ at position 5 of 11 in additional filter chain; firing Filter: 'JwtTokenFilter'
2020-08-19 22:07:44.426  INFO 14112 --- [http-nio-8068-exec-5] r.l.service.user.impl.UserServiceImpl    : IN UserServiceImpl findByUsername - user: User{username='customer4', firstName='firstName4', lastName='lastName4', email='email4@mail.ru', phone='79449797604', password='$2a$10$4o.U..Oyp9g4PWTeQXZR9OGvYC5ITi4EFkcxlnZtCU4iUf5jjvaS6', roles=[Role{id: 3, name: ROLE_CUSTOMER}], userStatus=ACTIVE} found by userName: customer4
2020-08-19 22:07:44.426  INFO 14112 --- [http-nio-8068-exec-5] r.l.security.JwtUserDetailsService       : IN loadUserByUsername - user with username: customer4 successfully loaded
2020-08-19 22:07:44.426 DEBUG 14112 --- [http-nio-8068-exec-5] o.s.security.web.FilterChainProxy        : /api/v1/transporttypes/ at position 6 of 11 in additional filter chain; firing Filter: 'RequestCacheAwareFilter'
2020-08-19 22:07:44.426 DEBUG 14112 --- [http-nio-8068-exec-5] o.s.security.web.FilterChainProxy        : /api/v1/transporttypes/ at position 7 of 11 in additional filter chain; firing Filter: 'SecurityContextHolderAwareRequestFilter'
2020-08-19 22:07:44.426 DEBUG 14112 --- [http-nio-8068-exec-5] o.s.security.web.FilterChainProxy        : /api/v1/transporttypes/ at position 8 of 11 in additional filter chain; firing Filter: 'AnonymousAuthenticationFilter'
2020-08-19 22:07:44.427 DEBUG 14112 --- [http-nio-8068-exec-5] o.s.s.w.a.AnonymousAuthenticationFilter  : SecurityContextHolder not populated with anonymous token, as it already contained: 'org.springframework.security.authentication.UsernamePasswordAuthenticationToken@9c685b54: Principal: ru.logisticplatform.security.jwt.JwtUser@4a30e917; Credentials: [PROTECTED]; Authenticated: true; Details: null; Granted Authorities: ROLE_CUSTOMER'
2020-08-19 22:07:44.427 DEBUG 14112 --- [http-nio-8068-exec-5] o.s.security.web.FilterChainProxy        : /api/v1/transporttypes/ at position 9 of 11 in additional filter chain; firing Filter: 'SessionManagementFilter'
2020-08-19 22:07:44.427 DEBUG 14112 --- [http-nio-8068-exec-5] s.CompositeSessionAuthenticationStrategy : Delegating to org.springframework.security.web.authentication.session.ChangeSessionIdAuthenticationStrategy@64c37088
2020-08-19 22:07:44.427 DEBUG 14112 --- [http-nio-8068-exec-5] o.s.security.web.FilterChainProxy        : /api/v1/transporttypes/ at position 10 of 11 in additional filter chain; firing Filter: 'ExceptionTranslationFilter'
2020-08-19 22:07:44.427 DEBUG 14112 --- [http-nio-8068-exec-5] o.s.security.web.FilterChainProxy        : /api/v1/transporttypes/ at position 11 of 11 in additional filter chain; firing Filter: 'FilterSecurityInterceptor'
2020-08-19 22:07:44.427 DEBUG 14112 --- [http-nio-8068-exec-5] o.s.s.w.u.matcher.AntPathRequestMatcher  : Checking match of request : '/api/v1/transporttypes/'; against '/api/v1/sign/**'
2020-08-19 22:07:44.427 DEBUG 14112 --- [http-nio-8068-exec-5] o.s.s.w.u.matcher.AntPathRequestMatcher  : Checking match of request : '/api/v1/transporttypes/'; against '/api/v1/admins/**'
2020-08-19 22:07:44.427 DEBUG 14112 --- [http-nio-8068-exec-5] o.s.s.w.u.matcher.AntPathRequestMatcher  : Checking match of request : '/api/v1/transporttypes/'; against '/api/v1/customers/**'
2020-08-19 22:07:44.427 DEBUG 14112 --- [http-nio-8068-exec-5] o.s.s.w.u.matcher.AntPathRequestMatcher  : Checking match of request : '/api/v1/transporttypes/'; against '/api/v1/contractors/**'
2020-08-19 22:07:44.427 DEBUG 14112 --- [http-nio-8068-exec-5] o.s.s.w.u.matcher.AntPathRequestMatcher  : Checking match of request : '/api/v1/transporttypes/'; against '/api/v1/transporttypes/**'
2020-08-19 22:07:44.427 DEBUG 14112 --- [http-nio-8068-exec-5] o.s.s.w.a.i.FilterSecurityInterceptor    : Secure object: FilterInvocation: URL: /api/v1/transporttypes/; Attributes: [hasAnyRole('ROLE_CONTRACTOR','ROLE_CUSTOMER')]
2020-08-19 22:07:44.427 DEBUG 14112 --- [http-nio-8068-exec-5] o.s.s.w.a.i.FilterSecurityInterceptor    : Previously Authenticated: org.springframework.security.authentication.UsernamePasswordAuthenticationToken@9c685b54: Principal: ru.logisticplatform.security.jwt.JwtUser@4a30e917; Credentials: [PROTECTED]; Authenticated: true; Details: null; Granted Authorities: ROLE_CUSTOMER
2020-08-19 22:07:44.428 DEBUG 14112 --- [http-nio-8068-exec-5] o.s.s.access.vote.AffirmativeBased       : Voter: org.springframework.security.web.access.expression.WebExpressionVoter@73d8aab3, returned: 1
2020-08-19 22:07:44.428 DEBUG 14112 --- [http-nio-8068-exec-5] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorization successful
2020-08-19 22:07:44.428 DEBUG 14112 --- [http-nio-8068-exec-5] o.s.s.w.a.i.FilterSecurityInterceptor    : RunAsManager did not change Authentication object
2020-08-19 22:07:44.428 DEBUG 14112 --- [http-nio-8068-exec-5] o.s.security.web.FilterChainProxy        : /api/v1/transporttypes/ reached end of additional filter chain; proceeding with original chain
2020-08-19 22:07:44.428  INFO 14112 --- [http-nio-8068-exec-5] r.l.s.t.impl.TransportTypeServiceImpl    : IN TransportTypeServiceImpl getAll
2020-08-19 22:07:44.436 DEBUG 14112 --- [http-nio-8068-exec-5] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match the requestMatcher org.springframework.security.web.header.writers.HstsHeaderWriter$SecureRequestMatcher@6648eda6
2020-08-19 22:07:44.438 DEBUG 14112 --- [http-nio-8068-exec-5] o.s.s.w.a.ExceptionTranslationFilter     : Chain processed normally
2020-08-19 22:07:44.438 DEBUG 14112 --- [http-nio-8068-exec-5] s.s.w.c.SecurityContextPersistenceFilter : SecurityContextHolder now cleared, as request processing completed
2020-08-19 22:07:47.408 DEBUG 14112 --- [http-nio-8068-exec-6] o.s.security.web.FilterChainProxy        : /api/v1/transporttypes/8 at position 1 of 11 in additional filter chain; firing Filter: 'WebAsyncManagerIntegrationFilter'
2020-08-19 22:07:47.408 DEBUG 14112 --- [http-nio-8068-exec-6] o.s.security.web.FilterChainProxy        : /api/v1/transporttypes/8 at position 2 of 11 in additional filter chain; firing Filter: 'SecurityContextPersistenceFilter'
2020-08-19 22:07:47.409 DEBUG 14112 --- [http-nio-8068-exec-6] o.s.security.web.FilterChainProxy        : /api/v1/transporttypes/8 at position 3 of 11 in additional filter chain; firing Filter: 'HeaderWriterFilter'
2020-08-19 22:07:47.409 DEBUG 14112 --- [http-nio-8068-exec-6] o.s.security.web.FilterChainProxy        : /api/v1/transporttypes/8 at position 4 of 11 in additional filter chain; firing Filter: 'LogoutFilter'
2020-08-19 22:07:47.409 DEBUG 14112 --- [http-nio-8068-exec-6] o.s.s.web.util.matcher.OrRequestMatcher  : Trying to match using Ant [pattern='/logout', GET]
2020-08-19 22:07:47.409 DEBUG 14112 --- [http-nio-8068-exec-6] o.s.s.w.u.matcher.AntPathRequestMatcher  : Checking match of request : '/api/v1/transporttypes/8'; against '/logout'
2020-08-19 22:07:47.409 DEBUG 14112 --- [http-nio-8068-exec-6] o.s.s.web.util.matcher.OrRequestMatcher  : Trying to match using Ant [pattern='/logout', POST]
2020-08-19 22:07:47.409 DEBUG 14112 --- [http-nio-8068-exec-6] o.s.s.w.u.matcher.AntPathRequestMatcher  : Request 'GET /api/v1/transporttypes/8' doesn't match 'POST /logout'
2020-08-19 22:07:47.409 DEBUG 14112 --- [http-nio-8068-exec-6] o.s.s.web.util.matcher.OrRequestMatcher  : Trying to match using Ant [pattern='/logout', PUT]
2020-08-19 22:07:47.409 DEBUG 14112 --- [http-nio-8068-exec-6] o.s.s.w.u.matcher.AntPathRequestMatcher  : Request 'GET /api/v1/transporttypes/8' doesn't match 'PUT /logout'
2020-08-19 22:07:47.409 DEBUG 14112 --- [http-nio-8068-exec-6] o.s.s.web.util.matcher.OrRequestMatcher  : Trying to match using Ant [pattern='/logout', DELETE]
2020-08-19 22:07:47.409 DEBUG 14112 --- [http-nio-8068-exec-6] o.s.s.w.u.matcher.AntPathRequestMatcher  : Request 'GET /api/v1/transporttypes/8' doesn't match 'DELETE /logout'
2020-08-19 22:07:47.409 DEBUG 14112 --- [http-nio-8068-exec-6] o.s.s.web.util.matcher.OrRequestMatcher  : No matches found
2020-08-19 22:07:47.410 DEBUG 14112 --- [http-nio-8068-exec-6] o.s.security.web.FilterChainProxy        : /api/v1/transporttypes/8 at position 5 of 11 in additional filter chain; firing Filter: 'JwtTokenFilter'
2020-08-19 22:07:47.417  INFO 14112 --- [http-nio-8068-exec-6] r.l.service.user.impl.UserServiceImpl    : IN UserServiceImpl findByUsername - user: User{username='customer4', firstName='firstName4', lastName='lastName4', email='email4@mail.ru', phone='79449797604', password='$2a$10$4o.U..Oyp9g4PWTeQXZR9OGvYC5ITi4EFkcxlnZtCU4iUf5jjvaS6', roles=[Role{id: 3, name: ROLE_CUSTOMER}], userStatus=ACTIVE} found by userName: customer4
2020-08-19 22:07:47.417  INFO 14112 --- [http-nio-8068-exec-6] r.l.security.JwtUserDetailsService       : IN loadUserByUsername - user with username: customer4 successfully loaded
2020-08-19 22:07:47.417 DEBUG 14112 --- [http-nio-8068-exec-6] o.s.security.web.FilterChainProxy        : /api/v1/transporttypes/8 at position 6 of 11 in additional filter chain; firing Filter: 'RequestCacheAwareFilter'
2020-08-19 22:07:47.417 DEBUG 14112 --- [http-nio-8068-exec-6] o.s.security.web.FilterChainProxy        : /api/v1/transporttypes/8 at position 7 of 11 in additional filter chain; firing Filter: 'SecurityContextHolderAwareRequestFilter'
2020-08-19 22:07:47.418 DEBUG 14112 --- [http-nio-8068-exec-6] o.s.security.web.FilterChainProxy        : /api/v1/transporttypes/8 at position 8 of 11 in additional filter chain; firing Filter: 'AnonymousAuthenticationFilter'
2020-08-19 22:07:47.418 DEBUG 14112 --- [http-nio-8068-exec-6] o.s.s.w.a.AnonymousAuthenticationFilter  : SecurityContextHolder not populated with anonymous token, as it already contained: 'org.springframework.security.authentication.UsernamePasswordAuthenticationToken@cea9cf05: Principal: ru.logisticplatform.security.jwt.JwtUser@18f17d46; Credentials: [PROTECTED]; Authenticated: true; Details: null; Granted Authorities: ROLE_CUSTOMER'
2020-08-19 22:07:47.418 DEBUG 14112 --- [http-nio-8068-exec-6] o.s.security.web.FilterChainProxy        : /api/v1/transporttypes/8 at position 9 of 11 in additional filter chain; firing Filter: 'SessionManagementFilter'
2020-08-19 22:07:47.418 DEBUG 14112 --- [http-nio-8068-exec-6] s.CompositeSessionAuthenticationStrategy : Delegating to org.springframework.security.web.authentication.session.ChangeSessionIdAuthenticationStrategy@64c37088
2020-08-19 22:07:47.418 DEBUG 14112 --- [http-nio-8068-exec-6] o.s.security.web.FilterChainProxy        : /api/v1/transporttypes/8 at position 10 of 11 in additional filter chain; firing Filter: 'ExceptionTranslationFilter'
2020-08-19 22:07:47.418 DEBUG 14112 --- [http-nio-8068-exec-6] o.s.security.web.FilterChainProxy        : /api/v1/transporttypes/8 at position 11 of 11 in additional filter chain; firing Filter: 'FilterSecurityInterceptor'
2020-08-19 22:07:47.418 DEBUG 14112 --- [http-nio-8068-exec-6] o.s.s.w.u.matcher.AntPathRequestMatcher  : Checking match of request : '/api/v1/transporttypes/8'; against '/api/v1/sign/**'
2020-08-19 22:07:47.418 DEBUG 14112 --- [http-nio-8068-exec-6] o.s.s.w.u.matcher.AntPathRequestMatcher  : Checking match of request : '/api/v1/transporttypes/8'; against '/api/v1/admins/**'
2020-08-19 22:07:47.418 DEBUG 14112 --- [http-nio-8068-exec-6] o.s.s.w.u.matcher.AntPathRequestMatcher  : Checking match of request : '/api/v1/transporttypes/8'; against '/api/v1/customers/**'
2020-08-19 22:07:47.418 DEBUG 14112 --- [http-nio-8068-exec-6] o.s.s.w.u.matcher.AntPathRequestMatcher  : Checking match of request : '/api/v1/transporttypes/8'; against '/api/v1/contractors/**'
2020-08-19 22:07:47.418 DEBUG 14112 --- [http-nio-8068-exec-6] o.s.s.w.u.matcher.AntPathRequestMatcher  : Checking match of request : '/api/v1/transporttypes/8'; against '/api/v1/transporttypes/**'
2020-08-19 22:07:47.419 DEBUG 14112 --- [http-nio-8068-exec-6] o.s.s.w.a.i.FilterSecurityInterceptor    : Secure object: FilterInvocation: URL: /api/v1/transporttypes/8; Attributes: [hasAnyRole('ROLE_CONTRACTOR','ROLE_CUSTOMER')]
2020-08-19 22:07:47.419 DEBUG 14112 --- [http-nio-8068-exec-6] o.s.s.w.a.i.FilterSecurityInterceptor    : Previously Authenticated: org.springframework.security.authentication.UsernamePasswordAuthenticationToken@cea9cf05: Principal: ru.logisticplatform.security.jwt.JwtUser@18f17d46; Credentials: [PROTECTED]; Authenticated: true; Details: null; Granted Authorities: ROLE_CUSTOMER
2020-08-19 22:07:47.419 DEBUG 14112 --- [http-nio-8068-exec-6] o.s.s.access.vote.AffirmativeBased       : Voter: org.springframework.security.web.access.expression.WebExpressionVoter@73d8aab3, returned: 1
2020-08-19 22:07:47.419 DEBUG 14112 --- [http-nio-8068-exec-6] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorization successful
2020-08-19 22:07:47.419 DEBUG 14112 --- [http-nio-8068-exec-6] o.s.s.w.a.i.FilterSecurityInterceptor    : RunAsManager did not change Authentication object
2020-08-19 22:07:47.419 DEBUG 14112 --- [http-nio-8068-exec-6] o.s.security.web.FilterChainProxy        : /api/v1/transporttypes/8 reached end of additional filter chain; proceeding with original chain
2020-08-19 22:07:47.431  WARN 14112 --- [http-nio-8068-exec-6] r.l.s.t.impl.TransportTypeServiceImpl    : IN TransportTypeServiceImpl findById - no transportType found by id: 8
2020-08-19 22:07:47.432 DEBUG 14112 --- [http-nio-8068-exec-6] o.s.s.w.a.ExceptionTranslationFilter     : Chain processed normally
2020-08-19 22:07:47.432 DEBUG 14112 --- [http-nio-8068-exec-6] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match the requestMatcher org.springframework.security.web.header.writers.HstsHeaderWriter$SecureRequestMatcher@6648eda6
2020-08-19 22:07:47.432 DEBUG 14112 --- [http-nio-8068-exec-6] s.s.w.c.SecurityContextPersistenceFilter : SecurityContextHolder now cleared, as request processing completed
2020-08-19 22:10:28.568  INFO 14112 --- [SpringContextShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2020-08-19 22:10:28.571  INFO 14112 --- [SpringContextShutdownHook] o.s.s.concurrent.ThreadPoolTaskExecutor  : Shutting down ExecutorService 'applicationTaskExecutor'
2020-08-19 22:10:28.572  INFO 14112 --- [SpringContextShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-2 - Shutdown initiated...
2020-08-19 22:10:28.576  INFO 14112 --- [SpringContextShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-2 - Shutdown completed.
2020-08-19 22:21:13.347  INFO 14872 --- [main] r.l.LogisticPlatformApplication          : Starting LogisticPlatformApplication on DESKTOP-KQ9S95L with PID 14872 (G:\JAVA\avalon\VKR\_logisticplatform\logisticplatform\target\classes started by x in G:\JAVA\avalon\VKR\_logisticplatform\logisticplatform)
2020-08-19 22:21:13.352  INFO 14872 --- [main] r.l.LogisticPlatformApplication          : No active profile set, falling back to default profiles: default
2020-08-19 22:21:14.555  INFO 14872 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFERRED mode.
2020-08-19 22:21:14.703  INFO 14872 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 137ms. Found 9 JPA repository interfaces.
2020-08-19 22:21:15.439  INFO 14872 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8068 (http)
2020-08-19 22:21:15.451  INFO 14872 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2020-08-19 22:21:15.451  INFO 14872 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.36]
2020-08-19 22:21:15.621  INFO 14872 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2020-08-19 22:21:15.622  INFO 14872 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 2205 ms
2020-08-19 22:21:15.774  INFO 14872 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2020-08-19 22:21:16.288  INFO 14872 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2020-08-19 22:21:18.212  INFO 14872 --- [main] liquibase.executor.jvm.JdbcExecutor      : SELECT COUNT(*) FROM logisticplatform.DATABASECHANGELOGLOCK
2020-08-19 22:21:18.220  INFO 14872 --- [main] liquibase.executor.jvm.JdbcExecutor      : SELECT COUNT(*) FROM logisticplatform.DATABASECHANGELOGLOCK
2020-08-19 22:21:18.223  INFO 14872 --- [main] liquibase.executor.jvm.JdbcExecutor      : SELECT `LOCKED` FROM logisticplatform.DATABASECHANGELOGLOCK WHERE ID=1
2020-08-19 22:21:18.298  INFO 14872 --- [main] l.lockservice.StandardLockService        : Successfully acquired change log lock
2020-08-19 22:21:21.541  INFO 14872 --- [main] liquibase.executor.jvm.JdbcExecutor      : SELECT MD5SUM FROM logisticplatform.DATABASECHANGELOG WHERE MD5SUM IS NOT NULL LIMIT 1
2020-08-19 22:21:21.542  INFO 14872 --- [main] liquibase.executor.jvm.JdbcExecutor      : SELECT COUNT(*) FROM logisticplatform.DATABASECHANGELOG
2020-08-19 22:21:21.544  INFO 14872 --- [main] l.c.StandardChangeLogHistoryService      : Reading from logisticplatform.DATABASECHANGELOG
2020-08-19 22:21:21.544  INFO 14872 --- [main] liquibase.executor.jvm.JdbcExecutor      : SELECT * FROM logisticplatform.DATABASECHANGELOG ORDER BY DATEEXECUTED ASC, ORDEREXECUTED ASC
2020-08-19 22:21:21.675  INFO 14872 --- [main] l.lockservice.StandardLockService        : Successfully released change log lock
2020-08-19 22:21:21.676  INFO 14872 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2020-08-19 22:21:21.693  INFO 14872 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2020-08-19 22:21:21.807  INFO 14872 --- [main] o.s.s.concurrent.ThreadPoolTaskExecutor  : Initializing ExecutorService 'applicationTaskExecutor'
2020-08-19 22:21:21.818  INFO 14872 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-2 - Starting...
2020-08-19 22:21:21.819  WARN 14872 --- [main] com.zaxxer.hikari.util.DriverDataSource  : Registered driver with driverClassName=com.mysql.jdbc.Driver was not found, trying direct instantiation.
2020-08-19 22:21:21.837  INFO 14872 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-2 - Start completed.
2020-08-19 22:21:21.900  INFO 14872 --- [task-1] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2020-08-19 22:21:21.967  WARN 14872 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2020-08-19 22:21:21.975  INFO 14872 --- [task-1] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.4.17.Final
2020-08-19 22:21:22.206  INFO 14872 --- [task-1] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.0.Final}
2020-08-19 22:21:22.377  INFO 14872 --- [task-1] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2020-08-19 22:21:22.543 DEBUG 14872 --- [main] eGlobalAuthenticationAutowiredConfigurer : Eagerly initializing {org.springframework.boot.autoconfigure.security.servlet.WebSecurityEnablerConfiguration=org.springframework.boot.autoconfigure.security.servlet.WebSecurityEnablerConfiguration@7f6a6d46}
2020-08-19 22:21:22.650 DEBUG 14872 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression 'permitAll', for Ant [pattern='/api/v1/sign/**']
2020-08-19 22:21:22.653 DEBUG 14872 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression 'hasRole('ROLE_ADMIN')', for Ant [pattern='/api/v1/admins/**']
2020-08-19 22:21:22.655 DEBUG 14872 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression 'hasRole('ROLE_CUSTOMER')', for Ant [pattern='/api/v1/customers/**']
2020-08-19 22:21:22.655 DEBUG 14872 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression 'hasRole('ROLE_CONTRACTOR')', for Ant [pattern='/api/v1/contractors/**']
2020-08-19 22:21:22.655 DEBUG 14872 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression 'hasAnyRole('ROLE_CONTRACTOR','ROLE_CUSTOMER')', for Ant [pattern='/api/v1/transporttypes/**']
2020-08-19 22:21:22.655 DEBUG 14872 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression 'authenticated', for any request
2020-08-19 22:21:22.890 DEBUG 14872 --- [main] o.s.s.w.a.i.FilterSecurityInterceptor    : Validated configuration attributes
2020-08-19 22:21:22.891 DEBUG 14872 --- [main] o.s.s.w.a.i.FilterSecurityInterceptor    : Validated configuration attributes
2020-08-19 22:21:22.895  INFO 14872 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: any request, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@415419a4, org.springframework.security.web.context.SecurityContextPersistenceFilter@1a99692, org.springframework.security.web.header.HeaderWriterFilter@118f2486, org.springframework.security.web.authentication.logout.LogoutFilter@59cb10e0, ru.logisticplatform.security.jwt.JwtTokenFilter@65b69ccb, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@7a85454b, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@407d2a01, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@4a9f0360, org.springframework.security.web.session.SessionManagementFilter@1fa24e7, org.springframework.security.web.access.ExceptionTranslationFilter@5a079446, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@2ecf4b3e]
2020-08-19 22:21:22.964  INFO 14872 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8068 (http) with context path ''
2020-08-19 22:21:22.966  INFO 14872 --- [main] DeferredRepositoryInitializationListener : Triggering deferred initialization of Spring Data repositoriesâ€¦
2020-08-19 22:21:23.703  INFO 14872 --- [task-1] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2020-08-19 22:21:23.722  INFO 14872 --- [task-1] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2020-08-19 22:21:24.558  INFO 14872 --- [main] DeferredRepositoryInitializationListener : Spring Data repositories initialized!
2020-08-19 22:21:24.571  INFO 14872 --- [main] r.l.LogisticPlatformApplication          : Started LogisticPlatformApplication in 12.092 seconds (JVM running for 13.139)
2020-08-19 22:21:28.544  INFO 14872 --- [http-nio-8068-exec-2] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2020-08-19 22:21:28.544  INFO 14872 --- [http-nio-8068-exec-2] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2020-08-19 22:21:28.553  INFO 14872 --- [http-nio-8068-exec-2] o.s.web.servlet.DispatcherServlet        : Completed initialization in 9 ms
2020-08-19 22:21:28.570 DEBUG 14872 --- [http-nio-8068-exec-2] o.s.security.web.FilterChainProxy        : /api/v1/sign/in at position 1 of 11 in additional filter chain; firing Filter: 'WebAsyncManagerIntegrationFilter'
2020-08-19 22:21:28.571 DEBUG 14872 --- [http-nio-8068-exec-2] o.s.security.web.FilterChainProxy        : /api/v1/sign/in at position 2 of 11 in additional filter chain; firing Filter: 'SecurityContextPersistenceFilter'
2020-08-19 22:21:28.574 DEBUG 14872 --- [http-nio-8068-exec-2] o.s.security.web.FilterChainProxy        : /api/v1/sign/in at position 3 of 11 in additional filter chain; firing Filter: 'HeaderWriterFilter'
2020-08-19 22:21:28.575 DEBUG 14872 --- [http-nio-8068-exec-2] o.s.security.web.FilterChainProxy        : /api/v1/sign/in at position 4 of 11 in additional filter chain; firing Filter: 'LogoutFilter'
2020-08-19 22:21:28.576 DEBUG 14872 --- [http-nio-8068-exec-2] o.s.s.web.util.matcher.OrRequestMatcher  : Trying to match using Ant [pattern='/logout', GET]
2020-08-19 22:21:28.576 DEBUG 14872 --- [http-nio-8068-exec-2] o.s.s.w.u.matcher.AntPathRequestMatcher  : Request 'POST /api/v1/sign/in' doesn't match 'GET /logout'
2020-08-19 22:21:28.576 DEBUG 14872 --- [http-nio-8068-exec-2] o.s.s.web.util.matcher.OrRequestMatcher  : Trying to match using Ant [pattern='/logout', POST]
2020-08-19 22:21:28.576 DEBUG 14872 --- [http-nio-8068-exec-2] o.s.s.w.u.matcher.AntPathRequestMatcher  : Checking match of request : '/api/v1/sign/in'; against '/logout'
2020-08-19 22:21:28.576 DEBUG 14872 --- [http-nio-8068-exec-2] o.s.s.web.util.matcher.OrRequestMatcher  : Trying to match using Ant [pattern='/logout', PUT]
2020-08-19 22:21:28.576 DEBUG 14872 --- [http-nio-8068-exec-2] o.s.s.w.u.matcher.AntPathRequestMatcher  : Request 'POST /api/v1/sign/in' doesn't match 'PUT /logout'
2020-08-19 22:21:28.576 DEBUG 14872 --- [http-nio-8068-exec-2] o.s.s.web.util.matcher.OrRequestMatcher  : Trying to match using Ant [pattern='/logout', DELETE]
2020-08-19 22:21:28.577 DEBUG 14872 --- [http-nio-8068-exec-2] o.s.s.w.u.matcher.AntPathRequestMatcher  : Request 'POST /api/v1/sign/in' doesn't match 'DELETE /logout'
2020-08-19 22:21:28.577 DEBUG 14872 --- [http-nio-8068-exec-2] o.s.s.web.util.matcher.OrRequestMatcher  : No matches found
2020-08-19 22:21:28.577 DEBUG 14872 --- [http-nio-8068-exec-2] o.s.security.web.FilterChainProxy        : /api/v1/sign/in at position 5 of 11 in additional filter chain; firing Filter: 'JwtTokenFilter'
2020-08-19 22:21:28.577 DEBUG 14872 --- [http-nio-8068-exec-2] o.s.security.web.FilterChainProxy        : /api/v1/sign/in at position 6 of 11 in additional filter chain; firing Filter: 'RequestCacheAwareFilter'
2020-08-19 22:21:28.577 DEBUG 14872 --- [http-nio-8068-exec-2] o.s.security.web.FilterChainProxy        : /api/v1/sign/in at position 7 of 11 in additional filter chain; firing Filter: 'SecurityContextHolderAwareRequestFilter'
2020-08-19 22:21:28.579 DEBUG 14872 --- [http-nio-8068-exec-2] o.s.security.web.FilterChainProxy        : /api/v1/sign/in at position 8 of 11 in additional filter chain; firing Filter: 'AnonymousAuthenticationFilter'
2020-08-19 22:21:28.580 DEBUG 14872 --- [http-nio-8068-exec-2] o.s.s.w.a.AnonymousAuthenticationFilter  : Populated SecurityContextHolder with anonymous token: 'org.springframework.security.authentication.AnonymousAuthenticationToken@d4e48e7: Principal: anonymousUser; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_ANONYMOUS'
2020-08-19 22:21:28.580 DEBUG 14872 --- [http-nio-8068-exec-2] o.s.security.web.FilterChainProxy        : /api/v1/sign/in at position 9 of 11 in additional filter chain; firing Filter: 'SessionManagementFilter'
2020-08-19 22:21:28.580 DEBUG 14872 --- [http-nio-8068-exec-2] o.s.security.web.FilterChainProxy        : /api/v1/sign/in at position 10 of 11 in additional filter chain; firing Filter: 'ExceptionTranslationFilter'
2020-08-19 22:21:28.581 DEBUG 14872 --- [http-nio-8068-exec-2] o.s.security.web.FilterChainProxy        : /api/v1/sign/in at position 11 of 11 in additional filter chain; firing Filter: 'FilterSecurityInterceptor'
2020-08-19 22:21:28.581 DEBUG 14872 --- [http-nio-8068-exec-2] o.s.s.w.u.matcher.AntPathRequestMatcher  : Checking match of request : '/api/v1/sign/in'; against '/api/v1/sign/**'
2020-08-19 22:21:28.581 DEBUG 14872 --- [http-nio-8068-exec-2] o.s.s.w.a.i.FilterSecurityInterceptor    : Secure object: FilterInvocation: URL: /api/v1/sign/in; Attributes: [permitAll]
2020-08-19 22:21:28.582 DEBUG 14872 --- [http-nio-8068-exec-2] o.s.s.w.a.i.FilterSecurityInterceptor    : Previously Authenticated: org.springframework.security.authentication.AnonymousAuthenticationToken@d4e48e7: Principal: anonymousUser; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_ANONYMOUS
2020-08-19 22:21:28.588 DEBUG 14872 --- [http-nio-8068-exec-2] o.s.s.access.vote.AffirmativeBased       : Voter: org.springframework.security.web.access.expression.WebExpressionVoter@3f7fbc05, returned: 1
2020-08-19 22:21:28.588 DEBUG 14872 --- [http-nio-8068-exec-2] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorization successful
2020-08-19 22:21:28.588 DEBUG 14872 --- [http-nio-8068-exec-2] o.s.s.w.a.i.FilterSecurityInterceptor    : RunAsManager did not change Authentication object
2020-08-19 22:21:28.588 DEBUG 14872 --- [http-nio-8068-exec-2] o.s.security.web.FilterChainProxy        : /api/v1/sign/in reached end of additional filter chain; proceeding with original chain
2020-08-19 22:21:28.691 DEBUG 14872 --- [http-nio-8068-exec-2] o.s.s.authentication.ProviderManager     : Authentication attempt using org.springframework.security.authentication.dao.DaoAuthenticationProvider
2020-08-19 22:21:29.067  INFO 14872 --- [http-nio-8068-exec-2] r.l.service.user.impl.UserServiceImpl    : IN UserServiceImpl findByUsername - user: User{username='customer4', firstName='firstName4', lastName='lastName4', email='email4@mail.ru', phone='79449797604', password='$2a$10$4o.U..Oyp9g4PWTeQXZR9OGvYC5ITi4EFkcxlnZtCU4iUf5jjvaS6', roles=[Role{id: 3, name: ROLE_CUSTOMER}], userStatus=ACTIVE} found by userName: customer4
2020-08-19 22:21:29.069  INFO 14872 --- [http-nio-8068-exec-2] r.l.security.JwtUserDetailsService       : IN loadUserByUsername - user with username: customer4 successfully loaded
2020-08-19 22:21:29.201  INFO 14872 --- [http-nio-8068-exec-2] r.l.service.user.impl.UserServiceImpl    : IN UserServiceImpl findByUsername - user: User{username='customer4', firstName='firstName4', lastName='lastName4', email='email4@mail.ru', phone='79449797604', password='$2a$10$4o.U..Oyp9g4PWTeQXZR9OGvYC5ITi4EFkcxlnZtCU4iUf5jjvaS6', roles=[Role{id: 3, name: ROLE_CUSTOMER}], userStatus=ACTIVE} found by userName: customer4
2020-08-19 22:21:29.279 DEBUG 14872 --- [http-nio-8068-exec-2] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match the requestMatcher org.springframework.security.web.header.writers.HstsHeaderWriter$SecureRequestMatcher@2219b675
2020-08-19 22:21:29.288 DEBUG 14872 --- [http-nio-8068-exec-2] o.s.s.w.a.ExceptionTranslationFilter     : Chain processed normally
2020-08-19 22:21:29.288 DEBUG 14872 --- [http-nio-8068-exec-2] s.s.w.c.SecurityContextPersistenceFilter : SecurityContextHolder now cleared, as request processing completed
2020-08-19 22:24:25.369 DEBUG 14872 --- [http-nio-8068-exec-5] o.s.security.web.FilterChainProxy        : /api/v1/sign/in at position 1 of 11 in additional filter chain; firing Filter: 'WebAsyncManagerIntegrationFilter'
2020-08-19 22:24:25.369 DEBUG 14872 --- [http-nio-8068-exec-5] o.s.security.web.FilterChainProxy        : /api/v1/sign/in at position 2 of 11 in additional filter chain; firing Filter: 'SecurityContextPersistenceFilter'
2020-08-19 22:24:25.369 DEBUG 14872 --- [http-nio-8068-exec-5] o.s.security.web.FilterChainProxy        : /api/v1/sign/in at position 3 of 11 in additional filter chain; firing Filter: 'HeaderWriterFilter'
2020-08-19 22:24:25.369 DEBUG 14872 --- [http-nio-8068-exec-5] o.s.security.web.FilterChainProxy        : /api/v1/sign/in at position 4 of 11 in additional filter chain; firing Filter: 'LogoutFilter'
2020-08-19 22:24:25.370 DEBUG 14872 --- [http-nio-8068-exec-5] o.s.s.web.util.matcher.OrRequestMatcher  : Trying to match using Ant [pattern='/logout', GET]
2020-08-19 22:24:25.370 DEBUG 14872 --- [http-nio-8068-exec-5] o.s.s.w.u.matcher.AntPathRequestMatcher  : Request 'POST /api/v1/sign/in' doesn't match 'GET /logout'
2020-08-19 22:24:25.370 DEBUG 14872 --- [http-nio-8068-exec-5] o.s.s.web.util.matcher.OrRequestMatcher  : Trying to match using Ant [pattern='/logout', POST]
2020-08-19 22:24:25.370 DEBUG 14872 --- [http-nio-8068-exec-5] o.s.s.w.u.matcher.AntPathRequestMatcher  : Checking match of request : '/api/v1/sign/in'; against '/logout'
2020-08-19 22:24:25.370 DEBUG 14872 --- [http-nio-8068-exec-5] o.s.s.web.util.matcher.OrRequestMatcher  : Trying to match using Ant [pattern='/logout', PUT]
2020-08-19 22:24:25.370 DEBUG 14872 --- [http-nio-8068-exec-5] o.s.s.w.u.matcher.AntPathRequestMatcher  : Request 'POST /api/v1/sign/in' doesn't match 'PUT /logout'
2020-08-19 22:24:25.370 DEBUG 14872 --- [http-nio-8068-exec-5] o.s.s.web.util.matcher.OrRequestMatcher  : Trying to match using Ant [pattern='/logout', DELETE]
2020-08-19 22:24:25.370 DEBUG 14872 --- [http-nio-8068-exec-5] o.s.s.w.u.matcher.AntPathRequestMatcher  : Request 'POST /api/v1/sign/in' doesn't match 'DELETE /logout'
2020-08-19 22:24:25.371 DEBUG 14872 --- [http-nio-8068-exec-5] o.s.s.web.util.matcher.OrRequestMatcher  : No matches found
2020-08-19 22:24:25.371 DEBUG 14872 --- [http-nio-8068-exec-5] o.s.security.web.FilterChainProxy        : /api/v1/sign/in at position 5 of 11 in additional filter chain; firing Filter: 'JwtTokenFilter'
2020-08-19 22:24:25.371 DEBUG 14872 --- [http-nio-8068-exec-5] o.s.security.web.FilterChainProxy        : /api/v1/sign/in at position 6 of 11 in additional filter chain; firing Filter: 'RequestCacheAwareFilter'
2020-08-19 22:24:25.371 DEBUG 14872 --- [http-nio-8068-exec-5] o.s.security.web.FilterChainProxy        : /api/v1/sign/in at position 7 of 11 in additional filter chain; firing Filter: 'SecurityContextHolderAwareRequestFilter'
2020-08-19 22:24:25.371 DEBUG 14872 --- [http-nio-8068-exec-5] o.s.security.web.FilterChainProxy        : /api/v1/sign/in at position 8 of 11 in additional filter chain; firing Filter: 'AnonymousAuthenticationFilter'
2020-08-19 22:24:25.371 DEBUG 14872 --- [http-nio-8068-exec-5] o.s.s.w.a.AnonymousAuthenticationFilter  : Populated SecurityContextHolder with anonymous token: 'org.springframework.security.authentication.AnonymousAuthenticationToken@d4e48e7: Principal: anonymousUser; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_ANONYMOUS'
2020-08-19 22:24:25.371 DEBUG 14872 --- [http-nio-8068-exec-5] o.s.security.web.FilterChainProxy        : /api/v1/sign/in at position 9 of 11 in additional filter chain; firing Filter: 'SessionManagementFilter'
2020-08-19 22:24:25.371 DEBUG 14872 --- [http-nio-8068-exec-5] o.s.security.web.FilterChainProxy        : /api/v1/sign/in at position 10 of 11 in additional filter chain; firing Filter: 'ExceptionTranslationFilter'
2020-08-19 22:24:25.371 DEBUG 14872 --- [http-nio-8068-exec-5] o.s.security.web.FilterChainProxy        : /api/v1/sign/in at position 11 of 11 in additional filter chain; firing Filter: 'FilterSecurityInterceptor'
2020-08-19 22:24:25.371 DEBUG 14872 --- [http-nio-8068-exec-5] o.s.s.w.u.matcher.AntPathRequestMatcher  : Checking match of request : '/api/v1/sign/in'; against '/api/v1/sign/**'
2020-08-19 22:24:25.372 DEBUG 14872 --- [http-nio-8068-exec-5] o.s.s.w.a.i.FilterSecurityInterceptor    : Secure object: FilterInvocation: URL: /api/v1/sign/in; Attributes: [permitAll]
2020-08-19 22:24:25.372 DEBUG 14872 --- [http-nio-8068-exec-5] o.s.s.w.a.i.FilterSecurityInterceptor    : Previously Authenticated: org.springframework.security.authentication.AnonymousAuthenticationToken@d4e48e7: Principal: anonymousUser; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_ANONYMOUS
2020-08-19 22:24:25.372 DEBUG 14872 --- [http-nio-8068-exec-5] o.s.s.access.vote.AffirmativeBased       : Voter: org.springframework.security.web.access.expression.WebExpressionVoter@3f7fbc05, returned: 1
2020-08-19 22:24:25.372 DEBUG 14872 --- [http-nio-8068-exec-5] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorization successful
2020-08-19 22:24:25.372 DEBUG 14872 --- [http-nio-8068-exec-5] o.s.s.w.a.i.FilterSecurityInterceptor    : RunAsManager did not change Authentication object
2020-08-19 22:24:25.372 DEBUG 14872 --- [http-nio-8068-exec-5] o.s.security.web.FilterChainProxy        : /api/v1/sign/in reached end of additional filter chain; proceeding with original chain
2020-08-19 22:24:25.374 DEBUG 14872 --- [http-nio-8068-exec-5] o.s.s.authentication.ProviderManager     : Authentication attempt using org.springframework.security.authentication.dao.DaoAuthenticationProvider
2020-08-19 22:24:25.379  INFO 14872 --- [http-nio-8068-exec-5] r.l.service.user.impl.UserServiceImpl    : IN UserServiceImpl findByUsername - user: User{username='customer3', firstName='firstName3', lastName='lastName3', email='email3@mail.ru', phone='79339797603', password='$2a$10$xDCVWzkV0osns7uDyLOXKeqyzu6FgAFSQkYstDP95o.z61Bn9ghJq', roles=[Role{id: 3, name: ROLE_CUSTOMER}], userStatus=ACTIVE} found by userName: customer3
2020-08-19 22:24:25.380  INFO 14872 --- [http-nio-8068-exec-5] r.l.security.JwtUserDetailsService       : IN loadUserByUsername - user with username: customer3 successfully loaded
2020-08-19 22:24:25.506  INFO 14872 --- [http-nio-8068-exec-5] r.l.service.user.impl.UserServiceImpl    : IN UserServiceImpl findByUsername - user: User{username='customer3', firstName='firstName3', lastName='lastName3', email='email3@mail.ru', phone='79339797603', password='$2a$10$xDCVWzkV0osns7uDyLOXKeqyzu6FgAFSQkYstDP95o.z61Bn9ghJq', roles=[Role{id: 3, name: ROLE_CUSTOMER}], userStatus=ACTIVE} found by userName: customer3
2020-08-19 22:24:25.508 DEBUG 14872 --- [http-nio-8068-exec-5] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match the requestMatcher org.springframework.security.web.header.writers.HstsHeaderWriter$SecureRequestMatcher@2219b675
2020-08-19 22:24:25.509 DEBUG 14872 --- [http-nio-8068-exec-5] o.s.s.w.a.ExceptionTranslationFilter     : Chain processed normally
2020-08-19 22:24:25.509 DEBUG 14872 --- [http-nio-8068-exec-5] s.s.w.c.SecurityContextPersistenceFilter : SecurityContextHolder now cleared, as request processing completed
2020-08-19 22:24:34.799 DEBUG 14872 --- [http-nio-8068-exec-6] o.s.security.web.FilterChainProxy        : /api/v1/sign/in at position 1 of 11 in additional filter chain; firing Filter: 'WebAsyncManagerIntegrationFilter'
2020-08-19 22:24:34.799 DEBUG 14872 --- [http-nio-8068-exec-6] o.s.security.web.FilterChainProxy        : /api/v1/sign/in at position 2 of 11 in additional filter chain; firing Filter: 'SecurityContextPersistenceFilter'
2020-08-19 22:24:34.800 DEBUG 14872 --- [http-nio-8068-exec-6] o.s.security.web.FilterChainProxy        : /api/v1/sign/in at position 3 of 11 in additional filter chain; firing Filter: 'HeaderWriterFilter'
2020-08-19 22:24:34.800 DEBUG 14872 --- [http-nio-8068-exec-6] o.s.security.web.FilterChainProxy        : /api/v1/sign/in at position 4 of 11 in additional filter chain; firing Filter: 'LogoutFilter'
2020-08-19 22:24:34.800 DEBUG 14872 --- [http-nio-8068-exec-6] o.s.s.web.util.matcher.OrRequestMatcher  : Trying to match using Ant [pattern='/logout', GET]
2020-08-19 22:24:34.800 DEBUG 14872 --- [http-nio-8068-exec-6] o.s.s.w.u.matcher.AntPathRequestMatcher  : Request 'POST /api/v1/sign/in' doesn't match 'GET /logout'
2020-08-19 22:24:34.800 DEBUG 14872 --- [http-nio-8068-exec-6] o.s.s.web.util.matcher.OrRequestMatcher  : Trying to match using Ant [pattern='/logout', POST]
2020-08-19 22:24:34.800 DEBUG 14872 --- [http-nio-8068-exec-6] o.s.s.w.u.matcher.AntPathRequestMatcher  : Checking match of request : '/api/v1/sign/in'; against '/logout'
2020-08-19 22:24:34.800 DEBUG 14872 --- [http-nio-8068-exec-6] o.s.s.web.util.matcher.OrRequestMatcher  : Trying to match using Ant [pattern='/logout', PUT]
2020-08-19 22:24:34.800 DEBUG 14872 --- [http-nio-8068-exec-6] o.s.s.w.u.matcher.AntPathRequestMatcher  : Request 'POST /api/v1/sign/in' doesn't match 'PUT /logout'
2020-08-19 22:24:34.801 DEBUG 14872 --- [http-nio-8068-exec-6] o.s.s.web.util.matcher.OrRequestMatcher  : Trying to match using Ant [pattern='/logout', DELETE]
2020-08-19 22:24:34.801 DEBUG 14872 --- [http-nio-8068-exec-6] o.s.s.w.u.matcher.AntPathRequestMatcher  : Request 'POST /api/v1/sign/in' doesn't match 'DELETE /logout'
2020-08-19 22:24:34.801 DEBUG 14872 --- [http-nio-8068-exec-6] o.s.s.web.util.matcher.OrRequestMatcher  : No matches found
2020-08-19 22:24:34.801 DEBUG 14872 --- [http-nio-8068-exec-6] o.s.security.web.FilterChainProxy        : /api/v1/sign/in at position 5 of 11 in additional filter chain; firing Filter: 'JwtTokenFilter'
2020-08-19 22:24:34.801 DEBUG 14872 --- [http-nio-8068-exec-6] o.s.security.web.FilterChainProxy        : /api/v1/sign/in at position 6 of 11 in additional filter chain; firing Filter: 'RequestCacheAwareFilter'
2020-08-19 22:24:34.801 DEBUG 14872 --- [http-nio-8068-exec-6] o.s.security.web.FilterChainProxy        : /api/v1/sign/in at position 7 of 11 in additional filter chain; firing Filter: 'SecurityContextHolderAwareRequestFilter'
2020-08-19 22:24:34.801 DEBUG 14872 --- [http-nio-8068-exec-6] o.s.security.web.FilterChainProxy        : /api/v1/sign/in at position 8 of 11 in additional filter chain; firing Filter: 'AnonymousAuthenticationFilter'
2020-08-19 22:24:34.802 DEBUG 14872 --- [http-nio-8068-exec-6] o.s.s.w.a.AnonymousAuthenticationFilter  : Populated SecurityContextHolder with anonymous token: 'org.springframework.security.authentication.AnonymousAuthenticationToken@d4e48e7: Principal: anonymousUser; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_ANONYMOUS'
2020-08-19 22:24:34.802 DEBUG 14872 --- [http-nio-8068-exec-6] o.s.security.web.FilterChainProxy        : /api/v1/sign/in at position 9 of 11 in additional filter chain; firing Filter: 'SessionManagementFilter'
2020-08-19 22:24:34.802 DEBUG 14872 --- [http-nio-8068-exec-6] o.s.security.web.FilterChainProxy        : /api/v1/sign/in at position 10 of 11 in additional filter chain; firing Filter: 'ExceptionTranslationFilter'
2020-08-19 22:24:34.802 DEBUG 14872 --- [http-nio-8068-exec-6] o.s.security.web.FilterChainProxy        : /api/v1/sign/in at position 11 of 11 in additional filter chain; firing Filter: 'FilterSecurityInterceptor'
2020-08-19 22:24:34.802 DEBUG 14872 --- [http-nio-8068-exec-6] o.s.s.w.u.matcher.AntPathRequestMatcher  : Checking match of request : '/api/v1/sign/in'; against '/api/v1/sign/**'
2020-08-19 22:24:34.802 DEBUG 14872 --- [http-nio-8068-exec-6] o.s.s.w.a.i.FilterSecurityInterceptor    : Secure object: FilterInvocation: URL: /api/v1/sign/in; Attributes: [permitAll]
2020-08-19 22:24:34.802 DEBUG 14872 --- [http-nio-8068-exec-6] o.s.s.w.a.i.FilterSecurityInterceptor    : Previously Authenticated: org.springframework.security.authentication.AnonymousAuthenticationToken@d4e48e7: Principal: anonymousUser; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_ANONYMOUS
2020-08-19 22:24:34.803 DEBUG 14872 --- [http-nio-8068-exec-6] o.s.s.access.vote.AffirmativeBased       : Voter: org.springframework.security.web.access.expression.WebExpressionVoter@3f7fbc05, returned: 1
2020-08-19 22:24:34.803 DEBUG 14872 --- [http-nio-8068-exec-6] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorization successful
2020-08-19 22:24:34.803 DEBUG 14872 --- [http-nio-8068-exec-6] o.s.s.w.a.i.FilterSecurityInterceptor    : RunAsManager did not change Authentication object
2020-08-19 22:24:34.803 DEBUG 14872 --- [http-nio-8068-exec-6] o.s.security.web.FilterChainProxy        : /api/v1/sign/in reached end of additional filter chain; proceeding with original chain
2020-08-19 22:24:34.804 DEBUG 14872 --- [http-nio-8068-exec-6] o.s.s.authentication.ProviderManager     : Authentication attempt using org.springframework.security.authentication.dao.DaoAuthenticationProvider
2020-08-19 22:24:34.808  INFO 14872 --- [http-nio-8068-exec-6] r.l.service.user.impl.UserServiceImpl    : IN UserServiceImpl findByUsername - user: User{username='customer3', firstName='firstName3', lastName='lastName3', email='email3@mail.ru', phone='79339797603', password='$2a$10$xDCVWzkV0osns7uDyLOXKeqyzu6FgAFSQkYstDP95o.z61Bn9ghJq', roles=[Role{id: 3, name: ROLE_CUSTOMER}], userStatus=DELETED} found by userName: customer3
2020-08-19 22:24:34.809  INFO 14872 --- [http-nio-8068-exec-6] r.l.security.JwtUserDetailsService       : IN loadUserByUsername - user with username: customer3 successfully loaded
2020-08-19 22:24:34.809 DEBUG 14872 --- [http-nio-8068-exec-6] o.s.s.a.dao.DaoAuthenticationProvider    : User account is disabled
2020-08-19 22:24:34.835 DEBUG 14872 --- [http-nio-8068-exec-6] o.s.s.w.a.ExceptionTranslationFilter     : Authentication exception occurred; redirecting to authentication entry point

org.springframework.security.authentication.BadCredentialsException: Invalid username or password
	at ru.logisticplatform.rest.user.SignRestControllerV1.login(SignRestControllerV1.java:96) ~[classes/:na]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_111]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_111]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_111]
	at java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_111]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:190) ~[spring-web-5.2.7.RELEASE.jar:5.2.7.RELEASE]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:138) ~[spring-web-5.2.7.RELEASE.jar:5.2.7.RELEASE]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:105) ~[spring-webmvc-5.2.7.RELEASE.jar:5.2.7.RELEASE]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:879) ~[spring-webmvc-5.2.7.RELEASE.jar:5.2.7.RELEASE]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:793) ~[spring-webmvc-5.2.7.RELEASE.jar:5.2.7.RELEASE]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-5.2.7.RELEASE.jar:5.2.7.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1040) ~[spring-webmvc-5.2.7.RELEASE.jar:5.2.7.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:943) ~[spring-webmvc-5.2.7.RELEASE.jar:5.2.7.RELEASE]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006) ~[spring-webmvc-5.2.7.RELEASE.jar:5.2.7.RELEASE]
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909) ~[spring-webmvc-5.2.7.RELEASE.jar:5.2.7.RELEASE]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:660) ~[tomcat-embed-core-9.0.36.jar:9.0.36]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883) ~[spring-webmvc-5.2.7.RELEASE.jar:5.2.7.RELEASE]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:741) ~[tomcat-embed-core-9.0.36.jar:9.0.36]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231) [tomcat-embed-core-9.0.36.jar:9.0.36]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-9.0.36.jar:9.0.36]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53) ~[tomcat-embed-websocket-9.0.36.jar:9.0.36]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-9.0.36.jar:9.0.36]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-9.0.36.jar:9.0.36]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:320) [spring-security-web-5.3.3.RELEASE.jar:5.3.3.RELEASE]
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:126) ~[spring-security-web-5.3.3.RELEASE.jar:5.3.3.RELEASE]
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:90) ~[spring-security-web-5.3.3.RELEASE.jar:5.3.3.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) [spring-security-web-5.3.3.RELEASE.jar:5.3.3.RELEASE]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:118) ~[spring-security-web-5.3.3.RELEASE.jar:5.3.3.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) [spring-security-web-5.3.3.RELEASE.jar:5.3.3.RELEASE]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:137) [spring-security-web-5.3.3.RELEASE.jar:5.3.3.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) [spring-security-web-5.3.3.RELEASE.jar:5.3.3.RELEASE]
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:111) [spring-security-web-5.3.3.RELEASE.jar:5.3.3.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) [spring-security-web-5.3.3.RELEASE.jar:5.3.3.RELEASE]
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:158) [spring-security-web-5.3.3.RELEASE.jar:5.3.3.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) [spring-security-web-5.3.3.RELEASE.jar:5.3.3.RELEASE]
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) [spring-security-web-5.3.3.RELEASE.jar:5.3.3.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) [spring-security-web-5.3.3.RELEASE.jar:5.3.3.RELEASE]
	at ru.logisticplatform.security.jwt.JwtTokenFilter.doFilter(JwtTokenFilter.java:34) [classes/:na]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) [spring-security-web-5.3.3.RELEASE.jar:5.3.3.RELEASE]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:116) [spring-security-web-5.3.3.RELEASE.jar:5.3.3.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) [spring-security-web-5.3.3.RELEASE.jar:5.3.3.RELEASE]
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:92) [spring-security-web-5.3.3.RELEASE.jar:5.3.3.RELEASE]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:77) [spring-security-web-5.3.3.RELEASE.jar:5.3.3.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) [spring-web-5.2.7.RELEASE.jar:5.2.7.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) [spring-security-web-5.3.3.RELEASE.jar:5.3.3.RELEASE]
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:105) [spring-security-web-5.3.3.RELEASE.jar:5.3.3.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) [spring-security-web-5.3.3.RELEASE.jar:5.3.3.RELEASE]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:56) [spring-security-web-5.3.3.RELEASE.jar:5.3.3.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) [spring-web-5.2.7.RELEASE.jar:5.2.7.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) [spring-security-web-5.3.3.RELEASE.jar:5.3.3.RELEASE]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:215) [spring-security-web-5.3.3.RELEASE.jar:5.3.3.RELEASE]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:178) [spring-security-web-5.3.3.RELEASE.jar:5.3.3.RELEASE]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:358) [spring-web-5.2.7.RELEASE.jar:5.2.7.RELEASE]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:271) [spring-web-5.2.7.RELEASE.jar:5.2.7.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-9.0.36.jar:9.0.36]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-9.0.36.jar:9.0.36]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) [spring-web-5.2.7.RELEASE.jar:5.2.7.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) [spring-web-5.2.7.RELEASE.jar:5.2.7.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-9.0.36.jar:9.0.36]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-9.0.36.jar:9.0.36]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) [spring-web-5.2.7.RELEASE.jar:5.2.7.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) [spring-web-5.2.7.RELEASE.jar:5.2.7.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-9.0.36.jar:9.0.36]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-9.0.36.jar:9.0.36]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) [spring-web-5.2.7.RELEASE.jar:5.2.7.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) [spring-web-5.2.7.RELEASE.jar:5.2.7.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-9.0.36.jar:9.0.36]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-9.0.36.jar:9.0.36]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:202) [tomcat-embed-core-9.0.36.jar:9.0.36]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96) [tomcat-embed-core-9.0.36.jar:9.0.36]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541) [tomcat-embed-core-9.0.36.jar:9.0.36]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:139) [tomcat-embed-core-9.0.36.jar:9.0.36]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92) [tomcat-embed-core-9.0.36.jar:9.0.36]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) [tomcat-embed-core-9.0.36.jar:9.0.36]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343) [tomcat-embed-core-9.0.36.jar:9.0.36]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:373) [tomcat-embed-core-9.0.36.jar:9.0.36]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65) [tomcat-embed-core-9.0.36.jar:9.0.36]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:868) [tomcat-embed-core-9.0.36.jar:9.0.36]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1590) [tomcat-embed-core-9.0.36.jar:9.0.36]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) [tomcat-embed-core-9.0.36.jar:9.0.36]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142) [na:1.8.0_111]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617) [na:1.8.0_111]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) [tomcat-embed-core-9.0.36.jar:9.0.36]
	at java.lang.Thread.run(Thread.java:745) [na:1.8.0_111]

2020-08-19 22:24:34.836 DEBUG 14872 --- [http-nio-8068-exec-6] o.s.s.w.a.ExceptionTranslationFilter     : Calling Authentication entry point.
2020-08-19 22:24:34.837 DEBUG 14872 --- [http-nio-8068-exec-6] o.s.s.w.a.Http403ForbiddenEntryPoint     : Pre-authenticated entry point called. Rejecting access
2020-08-19 22:24:34.837 DEBUG 14872 --- [http-nio-8068-exec-6] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match the requestMatcher org.springframework.security.web.header.writers.HstsHeaderWriter$SecureRequestMatcher@2219b675
2020-08-19 22:24:34.837 DEBUG 14872 --- [http-nio-8068-exec-6] s.s.w.c.SecurityContextPersistenceFilter : SecurityContextHolder now cleared, as request processing completed
2020-08-19 22:24:34.841 DEBUG 14872 --- [http-nio-8068-exec-6] o.s.security.web.FilterChainProxy        : /error at position 1 of 11 in additional filter chain; firing Filter: 'WebAsyncManagerIntegrationFilter'
2020-08-19 22:24:34.841 DEBUG 14872 --- [http-nio-8068-exec-6] o.s.security.web.FilterChainProxy        : /error at position 2 of 11 in additional filter chain; firing Filter: 'SecurityContextPersistenceFilter'
2020-08-19 22:24:34.841 DEBUG 14872 --- [http-nio-8068-exec-6] o.s.security.web.FilterChainProxy        : /error at position 3 of 11 in additional filter chain; firing Filter: 'HeaderWriterFilter'
2020-08-19 22:24:34.841 DEBUG 14872 --- [http-nio-8068-exec-6] o.s.security.web.FilterChainProxy        : /error at position 4 of 11 in additional filter chain; firing Filter: 'LogoutFilter'
2020-08-19 22:24:34.841 DEBUG 14872 --- [http-nio-8068-exec-6] o.s.s.web.util.matcher.OrRequestMatcher  : Trying to match using Ant [pattern='/logout', GET]
2020-08-19 22:24:34.841 DEBUG 14872 --- [http-nio-8068-exec-6] o.s.s.w.u.matcher.AntPathRequestMatcher  : Request 'POST /error' doesn't match 'GET /logout'
2020-08-19 22:24:34.841 DEBUG 14872 --- [http-nio-8068-exec-6] o.s.s.web.util.matcher.OrRequestMatcher  : Trying to match using Ant [pattern='/logout', POST]
2020-08-19 22:24:34.841 DEBUG 14872 --- [http-nio-8068-exec-6] o.s.s.w.u.matcher.AntPathRequestMatcher  : Checking match of request : '/error'; against '/logout'
2020-08-19 22:24:34.841 DEBUG 14872 --- [http-nio-8068-exec-6] o.s.s.web.util.matcher.OrRequestMatcher  : Trying to match using Ant [pattern='/logout', PUT]
2020-08-19 22:24:34.841 DEBUG 14872 --- [http-nio-8068-exec-6] o.s.s.w.u.matcher.AntPathRequestMatcher  : Request 'POST /error' doesn't match 'PUT /logout'
2020-08-19 22:24:34.841 DEBUG 14872 --- [http-nio-8068-exec-6] o.s.s.web.util.matcher.OrRequestMatcher  : Trying to match using Ant [pattern='/logout', DELETE]
2020-08-19 22:24:34.841 DEBUG 14872 --- [http-nio-8068-exec-6] o.s.s.w.u.matcher.AntPathRequestMatcher  : Request 'POST /error' doesn't match 'DELETE /logout'
2020-08-19 22:24:34.842 DEBUG 14872 --- [http-nio-8068-exec-6] o.s.s.web.util.matcher.OrRequestMatcher  : No matches found
2020-08-19 22:24:34.842 DEBUG 14872 --- [http-nio-8068-exec-6] o.s.security.web.FilterChainProxy        : /error at position 5 of 11 in additional filter chain; firing Filter: 'JwtTokenFilter'
2020-08-19 22:24:34.842 DEBUG 14872 --- [http-nio-8068-exec-6] o.s.security.web.FilterChainProxy        : /error at position 6 of 11 in additional filter chain; firing Filter: 'RequestCacheAwareFilter'
2020-08-19 22:24:34.842 DEBUG 14872 --- [http-nio-8068-exec-6] o.s.security.web.FilterChainProxy        : /error at position 7 of 11 in additional filter chain; firing Filter: 'SecurityContextHolderAwareRequestFilter'
2020-08-19 22:24:34.842 DEBUG 14872 --- [http-nio-8068-exec-6] o.s.security.web.FilterChainProxy        : /error at position 8 of 11 in additional filter chain; firing Filter: 'AnonymousAuthenticationFilter'
2020-08-19 22:24:34.842 DEBUG 14872 --- [http-nio-8068-exec-6] o.s.s.w.a.AnonymousAuthenticationFilter  : Populated SecurityContextHolder with anonymous token: 'org.springframework.security.authentication.AnonymousAuthenticationToken@d4e48e7: Principal: anonymousUser; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_ANONYMOUS'
2020-08-19 22:24:34.842 DEBUG 14872 --- [http-nio-8068-exec-6] o.s.security.web.FilterChainProxy        : /error at position 9 of 11 in additional filter chain; firing Filter: 'SessionManagementFilter'
2020-08-19 22:24:34.842 DEBUG 14872 --- [http-nio-8068-exec-6] o.s.security.web.FilterChainProxy        : /error at position 10 of 11 in additional filter chain; firing Filter: 'ExceptionTranslationFilter'
2020-08-19 22:24:34.842 DEBUG 14872 --- [http-nio-8068-exec-6] o.s.security.web.FilterChainProxy        : /error at position 11 of 11 in additional filter chain; firing Filter: 'FilterSecurityInterceptor'
2020-08-19 22:24:34.842 DEBUG 14872 --- [http-nio-8068-exec-6] o.s.security.web.FilterChainProxy        : /error reached end of additional filter chain; proceeding with original chain
2020-08-19 22:24:34.857 DEBUG 14872 --- [http-nio-8068-exec-6] o.s.s.w.a.ExceptionTranslationFilter     : Chain processed normally
2020-08-19 22:24:34.857 DEBUG 14872 --- [http-nio-8068-exec-6] s.s.w.c.SecurityContextPersistenceFilter : SecurityContextHolder now cleared, as request processing completed
2020-08-19 22:24:36.886 DEBUG 14872 --- [http-nio-8068-exec-7] o.s.security.web.FilterChainProxy        : /api/v1/sign/in at position 1 of 11 in additional filter chain; firing Filter: 'WebAsyncManagerIntegrationFilter'
2020-08-19 22:24:36.886 DEBUG 14872 --- [http-nio-8068-exec-7] o.s.security.web.FilterChainProxy        : /api/v1/sign/in at position 2 of 11 in additional filter chain; firing Filter: 'SecurityContextPersistenceFilter'
2020-08-19 22:24:36.886 DEBUG 14872 --- [http-nio-8068-exec-7] o.s.security.web.FilterChainProxy        : /api/v1/sign/in at position 3 of 11 in additional filter chain; firing Filter: 'HeaderWriterFilter'
2020-08-19 22:24:36.886 DEBUG 14872 --- [http-nio-8068-exec-7] o.s.security.web.FilterChainProxy        : /api/v1/sign/in at position 4 of 11 in additional filter chain; firing Filter: 'LogoutFilter'
2020-08-19 22:24:36.887 DEBUG 14872 --- [http-nio-8068-exec-7] o.s.s.web.util.matcher.OrRequestMatcher  : Trying to match using Ant [pattern='/logout', GET]
2020-08-19 22:24:36.887 DEBUG 14872 --- [http-nio-8068-exec-7] o.s.s.w.u.matcher.AntPathRequestMatcher  : Request 'POST /api/v1/sign/in' doesn't match 'GET /logout'
2020-08-19 22:24:36.887 DEBUG 14872 --- [http-nio-8068-exec-7] o.s.s.web.util.matcher.OrRequestMatcher  : Trying to match using Ant [pattern='/logout', POST]
2020-08-19 22:24:36.887 DEBUG 14872 --- [http-nio-8068-exec-7] o.s.s.w.u.matcher.AntPathRequestMatcher  : Checking match of request : '/api/v1/sign/in'; against '/logout'
2020-08-19 22:24:36.887 DEBUG 14872 --- [http-nio-8068-exec-7] o.s.s.web.util.matcher.OrRequestMatcher  : Trying to match using Ant [pattern='/logout', PUT]
2020-08-19 22:24:36.887 DEBUG 14872 --- [http-nio-8068-exec-7] o.s.s.w.u.matcher.AntPathRequestMatcher  : Request 'POST /api/v1/sign/in' doesn't match 'PUT /logout'
2020-08-19 22:24:36.887 DEBUG 14872 --- [http-nio-8068-exec-7] o.s.s.web.util.matcher.OrRequestMatcher  : Trying to match using Ant [pattern='/logout', DELETE]
2020-08-19 22:24:36.887 DEBUG 14872 --- [http-nio-8068-exec-7] o.s.s.w.u.matcher.AntPathRequestMatcher  : Request 'POST /api/v1/sign/in' doesn't match 'DELETE /logout'
2020-08-19 22:24:36.887 DEBUG 14872 --- [http-nio-8068-exec-7] o.s.s.web.util.matcher.OrRequestMatcher  : No matches found
2020-08-19 22:24:36.887 DEBUG 14872 --- [http-nio-8068-exec-7] o.s.security.web.FilterChainProxy        : /api/v1/sign/in at position 5 of 11 in additional filter chain; firing Filter: 'JwtTokenFilter'
2020-08-19 22:24:36.887 DEBUG 14872 --- [http-nio-8068-exec-7] o.s.security.web.FilterChainProxy        : /api/v1/sign/in at position 6 of 11 in additional filter chain; firing Filter: 'RequestCacheAwareFilter'
2020-08-19 22:24:36.888 DEBUG 14872 --- [http-nio-8068-exec-7] o.s.security.web.FilterChainProxy        : /api/v1/sign/in at position 7 of 11 in additional filter chain; firing Filter: 'SecurityContextHolderAwareRequestFilter'
2020-08-19 22:24:36.888 DEBUG 14872 --- [http-nio-8068-exec-7] o.s.security.web.FilterChainProxy        : /api/v1/sign/in at position 8 of 11 in additional filter chain; firing Filter: 'AnonymousAuthenticationFilter'
2020-08-19 22:24:36.888 DEBUG 14872 --- [http-nio-8068-exec-7] o.s.s.w.a.AnonymousAuthenticationFilter  : Populated SecurityContextHolder with anonymous token: 'org.springframework.security.authentication.AnonymousAuthenticationToken@d4e48e7: Principal: anonymousUser; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_ANONYMOUS'
2020-08-19 22:24:36.888 DEBUG 14872 --- [http-nio-8068-exec-7] o.s.security.web.FilterChainProxy        : /api/v1/sign/in at position 9 of 11 in additional filter chain; firing Filter: 'SessionManagementFilter'
2020-08-19 22:24:36.888 DEBUG 14872 --- [http-nio-8068-exec-7] o.s.security.web.FilterChainProxy        : /api/v1/sign/in at position 10 of 11 in additional filter chain; firing Filter: 'ExceptionTranslationFilter'
2020-08-19 22:24:36.888 DEBUG 14872 --- [http-nio-8068-exec-7] o.s.security.web.FilterChainProxy        : /api/v1/sign/in at position 11 of 11 in additional filter chain; firing Filter: 'FilterSecurityInterceptor'
2020-08-19 22:24:36.888 DEBUG 14872 --- [http-nio-8068-exec-7] o.s.s.w.u.matcher.AntPathRequestMatcher  : Checking match of request : '/api/v1/sign/in'; against '/api/v1/sign/**'
2020-08-19 22:24:36.888 DEBUG 14872 --- [http-nio-8068-exec-7] o.s.s.w.a.i.FilterSecurityInterceptor    : Secure object: FilterInvocation: URL: /api/v1/sign/in; Attributes: [permitAll]
2020-08-19 22:24:36.888 DEBUG 14872 --- [http-nio-8068-exec-7] o.s.s.w.a.i.FilterSecurityInterceptor    : Previously Authenticated: org.springframework.security.authentication.AnonymousAuthenticationToken@d4e48e7: Principal: anonymousUser; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_ANONYMOUS
2020-08-19 22:24:36.888 DEBUG 14872 --- [http-nio-8068-exec-7] o.s.s.access.vote.AffirmativeBased       : Voter: org.springframework.security.web.access.expression.WebExpressionVoter@3f7fbc05, returned: 1
2020-08-19 22:24:36.888 DEBUG 14872 --- [http-nio-8068-exec-7] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorization successful
2020-08-19 22:24:36.888 DEBUG 14872 --- [http-nio-8068-exec-7] o.s.s.w.a.i.FilterSecurityInterceptor    : RunAsManager did not change Authentication object
2020-08-19 22:24:36.889 DEBUG 14872 --- [http-nio-8068-exec-7] o.s.security.web.FilterChainProxy        : /api/v1/sign/in reached end of additional filter chain; proceeding with original chain
2020-08-19 22:24:36.890 DEBUG 14872 --- [http-nio-8068-exec-7] o.s.s.authentication.ProviderManager     : Authentication attempt using org.springframework.security.authentication.dao.DaoAuthenticationProvider
2020-08-19 22:24:36.894  INFO 14872 --- [http-nio-8068-exec-7] r.l.service.user.impl.UserServiceImpl    : IN UserServiceImpl findByUsername - user: User{username='customer3', firstName='firstName3', lastName='lastName3', email='email3@mail.ru', phone='79339797603', password='$2a$10$xDCVWzkV0osns7uDyLOXKeqyzu6FgAFSQkYstDP95o.z61Bn9ghJq', roles=[Role{id: 3, name: ROLE_CUSTOMER}], userStatus=DELETED} found by userName: customer3
2020-08-19 22:24:36.894  INFO 14872 --- [http-nio-8068-exec-7] r.l.security.JwtUserDetailsService       : IN loadUserByUsername - user with username: customer3 successfully loaded
2020-08-19 22:24:36.894 DEBUG 14872 --- [http-nio-8068-exec-7] o.s.s.a.dao.DaoAuthenticationProvider    : User account is disabled
2020-08-19 22:24:36.896 DEBUG 14872 --- [http-nio-8068-exec-7] o.s.s.w.a.ExceptionTranslationFilter     : Authentication exception occurred; redirecting to authentication entry point

org.springframework.security.authentication.BadCredentialsException: Invalid username or password
	at ru.logisticplatform.rest.user.SignRestControllerV1.login(SignRestControllerV1.java:96) ~[classes/:na]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_111]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_111]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_111]
	at java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_111]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:190) ~[spring-web-5.2.7.RELEASE.jar:5.2.7.RELEASE]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:138) ~[spring-web-5.2.7.RELEASE.jar:5.2.7.RELEASE]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:105) ~[spring-webmvc-5.2.7.RELEASE.jar:5.2.7.RELEASE]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:879) ~[spring-webmvc-5.2.7.RELEASE.jar:5.2.7.RELEASE]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:793) ~[spring-webmvc-5.2.7.RELEASE.jar:5.2.7.RELEASE]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-5.2.7.RELEASE.jar:5.2.7.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1040) ~[spring-webmvc-5.2.7.RELEASE.jar:5.2.7.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:943) ~[spring-webmvc-5.2.7.RELEASE.jar:5.2.7.RELEASE]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006) ~[spring-webmvc-5.2.7.RELEASE.jar:5.2.7.RELEASE]
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909) ~[spring-webmvc-5.2.7.RELEASE.jar:5.2.7.RELEASE]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:660) ~[tomcat-embed-core-9.0.36.jar:9.0.36]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883) ~[spring-webmvc-5.2.7.RELEASE.jar:5.2.7.RELEASE]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:741) ~[tomcat-embed-core-9.0.36.jar:9.0.36]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231) [tomcat-embed-core-9.0.36.jar:9.0.36]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-9.0.36.jar:9.0.36]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53) ~[tomcat-embed-websocket-9.0.36.jar:9.0.36]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-9.0.36.jar:9.0.36]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-9.0.36.jar:9.0.36]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:320) [spring-security-web-5.3.3.RELEASE.jar:5.3.3.RELEASE]
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:126) ~[spring-security-web-5.3.3.RELEASE.jar:5.3.3.RELEASE]
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:90) ~[spring-security-web-5.3.3.RELEASE.jar:5.3.3.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) [spring-security-web-5.3.3.RELEASE.jar:5.3.3.RELEASE]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:118) ~[spring-security-web-5.3.3.RELEASE.jar:5.3.3.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) [spring-security-web-5.3.3.RELEASE.jar:5.3.3.RELEASE]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:137) [spring-security-web-5.3.3.RELEASE.jar:5.3.3.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) [spring-security-web-5.3.3.RELEASE.jar:5.3.3.RELEASE]
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:111) [spring-security-web-5.3.3.RELEASE.jar:5.3.3.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) [spring-security-web-5.3.3.RELEASE.jar:5.3.3.RELEASE]
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:158) [spring-security-web-5.3.3.RELEASE.jar:5.3.3.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) [spring-security-web-5.3.3.RELEASE.jar:5.3.3.RELEASE]
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) [spring-security-web-5.3.3.RELEASE.jar:5.3.3.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) [spring-security-web-5.3.3.RELEASE.jar:5.3.3.RELEASE]
	at ru.logisticplatform.security.jwt.JwtTokenFilter.doFilter(JwtTokenFilter.java:34) [classes/:na]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) [spring-security-web-5.3.3.RELEASE.jar:5.3.3.RELEASE]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:116) [spring-security-web-5.3.3.RELEASE.jar:5.3.3.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) [spring-security-web-5.3.3.RELEASE.jar:5.3.3.RELEASE]
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:92) [spring-security-web-5.3.3.RELEASE.jar:5.3.3.RELEASE]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:77) [spring-security-web-5.3.3.RELEASE.jar:5.3.3.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) [spring-web-5.2.7.RELEASE.jar:5.2.7.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) [spring-security-web-5.3.3.RELEASE.jar:5.3.3.RELEASE]
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:105) [spring-security-web-5.3.3.RELEASE.jar:5.3.3.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) [spring-security-web-5.3.3.RELEASE.jar:5.3.3.RELEASE]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:56) [spring-security-web-5.3.3.RELEASE.jar:5.3.3.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) [spring-web-5.2.7.RELEASE.jar:5.2.7.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) [spring-security-web-5.3.3.RELEASE.jar:5.3.3.RELEASE]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:215) [spring-security-web-5.3.3.RELEASE.jar:5.3.3.RELEASE]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:178) [spring-security-web-5.3.3.RELEASE.jar:5.3.3.RELEASE]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:358) [spring-web-5.2.7.RELEASE.jar:5.2.7.RELEASE]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:271) [spring-web-5.2.7.RELEASE.jar:5.2.7.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-9.0.36.jar:9.0.36]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-9.0.36.jar:9.0.36]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) [spring-web-5.2.7.RELEASE.jar:5.2.7.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) [spring-web-5.2.7.RELEASE.jar:5.2.7.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-9.0.36.jar:9.0.36]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-9.0.36.jar:9.0.36]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) [spring-web-5.2.7.RELEASE.jar:5.2.7.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) [spring-web-5.2.7.RELEASE.jar:5.2.7.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-9.0.36.jar:9.0.36]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-9.0.36.jar:9.0.36]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) [spring-web-5.2.7.RELEASE.jar:5.2.7.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) [spring-web-5.2.7.RELEASE.jar:5.2.7.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-9.0.36.jar:9.0.36]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-9.0.36.jar:9.0.36]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:202) [tomcat-embed-core-9.0.36.jar:9.0.36]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96) [tomcat-embed-core-9.0.36.jar:9.0.36]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541) [tomcat-embed-core-9.0.36.jar:9.0.36]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:139) [tomcat-embed-core-9.0.36.jar:9.0.36]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92) [tomcat-embed-core-9.0.36.jar:9.0.36]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) [tomcat-embed-core-9.0.36.jar:9.0.36]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343) [tomcat-embed-core-9.0.36.jar:9.0.36]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:373) [tomcat-embed-core-9.0.36.jar:9.0.36]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65) [tomcat-embed-core-9.0.36.jar:9.0.36]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:868) [tomcat-embed-core-9.0.36.jar:9.0.36]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1590) [tomcat-embed-core-9.0.36.jar:9.0.36]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) [tomcat-embed-core-9.0.36.jar:9.0.36]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142) [na:1.8.0_111]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617) [na:1.8.0_111]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) [tomcat-embed-core-9.0.36.jar:9.0.36]
	at java.lang.Thread.run(Thread.java:745) [na:1.8.0_111]

2020-08-19 22:24:36.897 DEBUG 14872 --- [http-nio-8068-exec-7] o.s.s.w.a.ExceptionTranslationFilter     : Calling Authentication entry point.
2020-08-19 22:24:36.897 DEBUG 14872 --- [http-nio-8068-exec-7] o.s.s.w.a.Http403ForbiddenEntryPoint     : Pre-authenticated entry point called. Rejecting access
2020-08-19 22:24:36.897 DEBUG 14872 --- [http-nio-8068-exec-7] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match the requestMatcher org.springframework.security.web.header.writers.HstsHeaderWriter$SecureRequestMatcher@2219b675
2020-08-19 22:24:36.897 DEBUG 14872 --- [http-nio-8068-exec-7] s.s.w.c.SecurityContextPersistenceFilter : SecurityContextHolder now cleared, as request processing completed
2020-08-19 22:24:36.898 DEBUG 14872 --- [http-nio-8068-exec-7] o.s.security.web.FilterChainProxy        : /error at position 1 of 11 in additional filter chain; firing Filter: 'WebAsyncManagerIntegrationFilter'
2020-08-19 22:24:36.898 DEBUG 14872 --- [http-nio-8068-exec-7] o.s.security.web.FilterChainProxy        : /error at position 2 of 11 in additional filter chain; firing Filter: 'SecurityContextPersistenceFilter'
2020-08-19 22:24:36.898 DEBUG 14872 --- [http-nio-8068-exec-7] o.s.security.web.FilterChainProxy        : /error at position 3 of 11 in additional filter chain; firing Filter: 'HeaderWriterFilter'
2020-08-19 22:24:36.898 DEBUG 14872 --- [http-nio-8068-exec-7] o.s.security.web.FilterChainProxy        : /error at position 4 of 11 in additional filter chain; firing Filter: 'LogoutFilter'
2020-08-19 22:24:36.898 DEBUG 14872 --- [http-nio-8068-exec-7] o.s.s.web.util.matcher.OrRequestMatcher  : Trying to match using Ant [pattern='/logout', GET]
2020-08-19 22:24:36.898 DEBUG 14872 --- [http-nio-8068-exec-7] o.s.s.w.u.matcher.AntPathRequestMatcher  : Request 'POST /error' doesn't match 'GET /logout'
2020-08-19 22:24:36.898 DEBUG 14872 --- [http-nio-8068-exec-7] o.s.s.web.util.matcher.OrRequestMatcher  : Trying to match using Ant [pattern='/logout', POST]
2020-08-19 22:24:36.898 DEBUG 14872 --- [http-nio-8068-exec-7] o.s.s.w.u.matcher.AntPathRequestMatcher  : Checking match of request : '/error'; against '/logout'
2020-08-19 22:24:36.899 DEBUG 14872 --- [http-nio-8068-exec-7] o.s.s.web.util.matcher.OrRequestMatcher  : Trying to match using Ant [pattern='/logout', PUT]
2020-08-19 22:24:36.899 DEBUG 14872 --- [http-nio-8068-exec-7] o.s.s.w.u.matcher.AntPathRequestMatcher  : Request 'POST /error' doesn't match 'PUT /logout'
2020-08-19 22:24:36.899 DEBUG 14872 --- [http-nio-8068-exec-7] o.s.s.web.util.matcher.OrRequestMatcher  : Trying to match using Ant [pattern='/logout', DELETE]
2020-08-19 22:24:36.899 DEBUG 14872 --- [http-nio-8068-exec-7] o.s.s.w.u.matcher.AntPathRequestMatcher  : Request 'POST /error' doesn't match 'DELETE /logout'
2020-08-19 22:24:36.899 DEBUG 14872 --- [http-nio-8068-exec-7] o.s.s.web.util.matcher.OrRequestMatcher  : No matches found
2020-08-19 22:24:36.899 DEBUG 14872 --- [http-nio-8068-exec-7] o.s.security.web.FilterChainProxy        : /error at position 5 of 11 in additional filter chain; firing Filter: 'JwtTokenFilter'
2020-08-19 22:24:36.899 DEBUG 14872 --- [http-nio-8068-exec-7] o.s.security.web.FilterChainProxy        : /error at position 6 of 11 in additional filter chain; firing Filter: 'RequestCacheAwareFilter'
2020-08-19 22:24:36.899 DEBUG 14872 --- [http-nio-8068-exec-7] o.s.security.web.FilterChainProxy        : /error at position 7 of 11 in additional filter chain; firing Filter: 'SecurityContextHolderAwareRequestFilter'
2020-08-19 22:24:36.899 DEBUG 14872 --- [http-nio-8068-exec-7] o.s.security.web.FilterChainProxy        : /error at position 8 of 11 in additional filter chain; firing Filter: 'AnonymousAuthenticationFilter'
2020-08-19 22:24:36.899 DEBUG 14872 --- [http-nio-8068-exec-7] o.s.s.w.a.AnonymousAuthenticationFilter  : Populated SecurityContextHolder with anonymous token: 'org.springframework.security.authentication.AnonymousAuthenticationToken@d4e48e7: Principal: anonymousUser; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_ANONYMOUS'
2020-08-19 22:24:36.899 DEBUG 14872 --- [http-nio-8068-exec-7] o.s.security.web.FilterChainProxy        : /error at position 9 of 11 in additional filter chain; firing Filter: 'SessionManagementFilter'
2020-08-19 22:24:36.900 DEBUG 14872 --- [http-nio-8068-exec-7] o.s.security.web.FilterChainProxy        : /error at position 10 of 11 in additional filter chain; firing Filter: 'ExceptionTranslationFilter'
2020-08-19 22:24:36.900 DEBUG 14872 --- [http-nio-8068-exec-7] o.s.security.web.FilterChainProxy        : /error at position 11 of 11 in additional filter chain; firing Filter: 'FilterSecurityInterceptor'
2020-08-19 22:24:36.900 DEBUG 14872 --- [http-nio-8068-exec-7] o.s.security.web.FilterChainProxy        : /error reached end of additional filter chain; proceeding with original chain
2020-08-19 22:24:36.902 DEBUG 14872 --- [http-nio-8068-exec-7] o.s.s.w.a.ExceptionTranslationFilter     : Chain processed normally
2020-08-19 22:24:36.903 DEBUG 14872 --- [http-nio-8068-exec-7] s.s.w.c.SecurityContextPersistenceFilter : SecurityContextHolder now cleared, as request processing completed
2020-08-19 22:24:50.822 DEBUG 14872 --- [http-nio-8068-exec-8] o.s.security.web.FilterChainProxy        : /api/v1/sign/in at position 1 of 11 in additional filter chain; firing Filter: 'WebAsyncManagerIntegrationFilter'
2020-08-19 22:24:50.823 DEBUG 14872 --- [http-nio-8068-exec-8] o.s.security.web.FilterChainProxy        : /api/v1/sign/in at position 2 of 11 in additional filter chain; firing Filter: 'SecurityContextPersistenceFilter'
2020-08-19 22:24:50.823 DEBUG 14872 --- [http-nio-8068-exec-8] o.s.security.web.FilterChainProxy        : /api/v1/sign/in at position 3 of 11 in additional filter chain; firing Filter: 'HeaderWriterFilter'
2020-08-19 22:24:50.823 DEBUG 14872 --- [http-nio-8068-exec-8] o.s.security.web.FilterChainProxy        : /api/v1/sign/in at position 4 of 11 in additional filter chain; firing Filter: 'LogoutFilter'
2020-08-19 22:24:50.823 DEBUG 14872 --- [http-nio-8068-exec-8] o.s.s.web.util.matcher.OrRequestMatcher  : Trying to match using Ant [pattern='/logout', GET]
2020-08-19 22:24:50.823 DEBUG 14872 --- [http-nio-8068-exec-8] o.s.s.w.u.matcher.AntPathRequestMatcher  : Request 'POST /api/v1/sign/in' doesn't match 'GET /logout'
2020-08-19 22:24:50.823 DEBUG 14872 --- [http-nio-8068-exec-8] o.s.s.web.util.matcher.OrRequestMatcher  : Trying to match using Ant [pattern='/logout', POST]
2020-08-19 22:24:50.823 DEBUG 14872 --- [http-nio-8068-exec-8] o.s.s.w.u.matcher.AntPathRequestMatcher  : Checking match of request : '/api/v1/sign/in'; against '/logout'
2020-08-19 22:24:50.823 DEBUG 14872 --- [http-nio-8068-exec-8] o.s.s.web.util.matcher.OrRequestMatcher  : Trying to match using Ant [pattern='/logout', PUT]
2020-08-19 22:24:50.823 DEBUG 14872 --- [http-nio-8068-exec-8] o.s.s.w.u.matcher.AntPathRequestMatcher  : Request 'POST /api/v1/sign/in' doesn't match 'PUT /logout'
2020-08-19 22:24:50.823 DEBUG 14872 --- [http-nio-8068-exec-8] o.s.s.web.util.matcher.OrRequestMatcher  : Trying to match using Ant [pattern='/logout', DELETE]
2020-08-19 22:24:50.823 DEBUG 14872 --- [http-nio-8068-exec-8] o.s.s.w.u.matcher.AntPathRequestMatcher  : Request 'POST /api/v1/sign/in' doesn't match 'DELETE /logout'
2020-08-19 22:24:50.823 DEBUG 14872 --- [http-nio-8068-exec-8] o.s.s.web.util.matcher.OrRequestMatcher  : No matches found
2020-08-19 22:24:50.824 DEBUG 14872 --- [http-nio-8068-exec-8] o.s.security.web.FilterChainProxy        : /api/v1/sign/in at position 5 of 11 in additional filter chain; firing Filter: 'JwtTokenFilter'
2020-08-19 22:24:50.824 DEBUG 14872 --- [http-nio-8068-exec-8] o.s.security.web.FilterChainProxy        : /api/v1/sign/in at position 6 of 11 in additional filter chain; firing Filter: 'RequestCacheAwareFilter'
2020-08-19 22:24:50.824 DEBUG 14872 --- [http-nio-8068-exec-8] o.s.security.web.FilterChainProxy        : /api/v1/sign/in at position 7 of 11 in additional filter chain; firing Filter: 'SecurityContextHolderAwareRequestFilter'
2020-08-19 22:24:50.824 DEBUG 14872 --- [http-nio-8068-exec-8] o.s.security.web.FilterChainProxy        : /api/v1/sign/in at position 8 of 11 in additional filter chain; firing Filter: 'AnonymousAuthenticationFilter'
2020-08-19 22:24:50.824 DEBUG 14872 --- [http-nio-8068-exec-8] o.s.s.w.a.AnonymousAuthenticationFilter  : Populated SecurityContextHolder with anonymous token: 'org.springframework.security.authentication.AnonymousAuthenticationToken@d4e48e7: Principal: anonymousUser; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_ANONYMOUS'
2020-08-19 22:24:50.824 DEBUG 14872 --- [http-nio-8068-exec-8] o.s.security.web.FilterChainProxy        : /api/v1/sign/in at position 9 of 11 in additional filter chain; firing Filter: 'SessionManagementFilter'
2020-08-19 22:24:50.824 DEBUG 14872 --- [http-nio-8068-exec-8] o.s.security.web.FilterChainProxy        : /api/v1/sign/in at position 10 of 11 in additional filter chain; firing Filter: 'ExceptionTranslationFilter'
2020-08-19 22:24:50.824 DEBUG 14872 --- [http-nio-8068-exec-8] o.s.security.web.FilterChainProxy        : /api/v1/sign/in at position 11 of 11 in additional filter chain; firing Filter: 'FilterSecurityInterceptor'
2020-08-19 22:24:50.824 DEBUG 14872 --- [http-nio-8068-exec-8] o.s.s.w.u.matcher.AntPathRequestMatcher  : Checking match of request : '/api/v1/sign/in'; against '/api/v1/sign/**'
2020-08-19 22:24:50.825 DEBUG 14872 --- [http-nio-8068-exec-8] o.s.s.w.a.i.FilterSecurityInterceptor    : Secure object: FilterInvocation: URL: /api/v1/sign/in; Attributes: [permitAll]
2020-08-19 22:24:50.825 DEBUG 14872 --- [http-nio-8068-exec-8] o.s.s.w.a.i.FilterSecurityInterceptor    : Previously Authenticated: org.springframework.security.authentication.AnonymousAuthenticationToken@d4e48e7: Principal: anonymousUser; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_ANONYMOUS
2020-08-19 22:24:50.825 DEBUG 14872 --- [http-nio-8068-exec-8] o.s.s.access.vote.AffirmativeBased       : Voter: org.springframework.security.web.access.expression.WebExpressionVoter@3f7fbc05, returned: 1
2020-08-19 22:24:50.825 DEBUG 14872 --- [http-nio-8068-exec-8] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorization successful
2020-08-19 22:24:50.825 DEBUG 14872 --- [http-nio-8068-exec-8] o.s.s.w.a.i.FilterSecurityInterceptor    : RunAsManager did not change Authentication object
2020-08-19 22:24:50.825 DEBUG 14872 --- [http-nio-8068-exec-8] o.s.security.web.FilterChainProxy        : /api/v1/sign/in reached end of additional filter chain; proceeding with original chain
2020-08-19 22:24:50.826 DEBUG 14872 --- [http-nio-8068-exec-8] o.s.s.authentication.ProviderManager     : Authentication attempt using org.springframework.security.authentication.dao.DaoAuthenticationProvider
2020-08-19 22:24:50.831  INFO 14872 --- [http-nio-8068-exec-8] r.l.service.user.impl.UserServiceImpl    : IN UserServiceImpl findByUsername - user: User{username='customer3', firstName='firstName3', lastName='lastName3', email='email3@mail.ru', phone='79339797603', password='$2a$10$xDCVWzkV0osns7uDyLOXKeqyzu6FgAFSQkYstDP95o.z61Bn9ghJq', roles=[Role{id: 3, name: ROLE_CUSTOMER}], userStatus=DELETED} found by userName: customer3
2020-08-19 22:24:50.832  INFO 14872 --- [http-nio-8068-exec-8] r.l.security.JwtUserDetailsService       : IN loadUserByUsername - user with username: customer3 successfully loaded
2020-08-19 22:24:50.832 DEBUG 14872 --- [http-nio-8068-exec-8] o.s.s.a.dao.DaoAuthenticationProvider    : User account is disabled
2020-08-19 22:24:50.833 DEBUG 14872 --- [http-nio-8068-exec-8] o.s.s.w.a.ExceptionTranslationFilter     : Authentication exception occurred; redirecting to authentication entry point

org.springframework.security.authentication.BadCredentialsException: Invalid username or password
	at ru.logisticplatform.rest.user.SignRestControllerV1.login(SignRestControllerV1.java:96) ~[classes/:na]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_111]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_111]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_111]
	at java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_111]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:190) ~[spring-web-5.2.7.RELEASE.jar:5.2.7.RELEASE]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:138) ~[spring-web-5.2.7.RELEASE.jar:5.2.7.RELEASE]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:105) ~[spring-webmvc-5.2.7.RELEASE.jar:5.2.7.RELEASE]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:879) ~[spring-webmvc-5.2.7.RELEASE.jar:5.2.7.RELEASE]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:793) ~[spring-webmvc-5.2.7.RELEASE.jar:5.2.7.RELEASE]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-5.2.7.RELEASE.jar:5.2.7.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1040) ~[spring-webmvc-5.2.7.RELEASE.jar:5.2.7.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:943) ~[spring-webmvc-5.2.7.RELEASE.jar:5.2.7.RELEASE]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006) ~[spring-webmvc-5.2.7.RELEASE.jar:5.2.7.RELEASE]
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909) ~[spring-webmvc-5.2.7.RELEASE.jar:5.2.7.RELEASE]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:660) ~[tomcat-embed-core-9.0.36.jar:9.0.36]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883) ~[spring-webmvc-5.2.7.RELEASE.jar:5.2.7.RELEASE]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:741) ~[tomcat-embed-core-9.0.36.jar:9.0.36]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231) [tomcat-embed-core-9.0.36.jar:9.0.36]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-9.0.36.jar:9.0.36]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53) ~[tomcat-embed-websocket-9.0.36.jar:9.0.36]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-9.0.36.jar:9.0.36]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-9.0.36.jar:9.0.36]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:320) [spring-security-web-5.3.3.RELEASE.jar:5.3.3.RELEASE]
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:126) ~[spring-security-web-5.3.3.RELEASE.jar:5.3.3.RELEASE]
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:90) ~[spring-security-web-5.3.3.RELEASE.jar:5.3.3.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) [spring-security-web-5.3.3.RELEASE.jar:5.3.3.RELEASE]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:118) ~[spring-security-web-5.3.3.RELEASE.jar:5.3.3.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) [spring-security-web-5.3.3.RELEASE.jar:5.3.3.RELEASE]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:137) [spring-security-web-5.3.3.RELEASE.jar:5.3.3.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) [spring-security-web-5.3.3.RELEASE.jar:5.3.3.RELEASE]
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:111) [spring-security-web-5.3.3.RELEASE.jar:5.3.3.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) [spring-security-web-5.3.3.RELEASE.jar:5.3.3.RELEASE]
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:158) [spring-security-web-5.3.3.RELEASE.jar:5.3.3.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) [spring-security-web-5.3.3.RELEASE.jar:5.3.3.RELEASE]
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) [spring-security-web-5.3.3.RELEASE.jar:5.3.3.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) [spring-security-web-5.3.3.RELEASE.jar:5.3.3.RELEASE]
	at ru.logisticplatform.security.jwt.JwtTokenFilter.doFilter(JwtTokenFilter.java:34) [classes/:na]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) [spring-security-web-5.3.3.RELEASE.jar:5.3.3.RELEASE]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:116) [spring-security-web-5.3.3.RELEASE.jar:5.3.3.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) [spring-security-web-5.3.3.RELEASE.jar:5.3.3.RELEASE]
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:92) [spring-security-web-5.3.3.RELEASE.jar:5.3.3.RELEASE]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:77) [spring-security-web-5.3.3.RELEASE.jar:5.3.3.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) [spring-web-5.2.7.RELEASE.jar:5.2.7.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) [spring-security-web-5.3.3.RELEASE.jar:5.3.3.RELEASE]
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:105) [spring-security-web-5.3.3.RELEASE.jar:5.3.3.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) [spring-security-web-5.3.3.RELEASE.jar:5.3.3.RELEASE]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:56) [spring-security-web-5.3.3.RELEASE.jar:5.3.3.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) [spring-web-5.2.7.RELEASE.jar:5.2.7.RELEASE]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) [spring-security-web-5.3.3.RELEASE.jar:5.3.3.RELEASE]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:215) [spring-security-web-5.3.3.RELEASE.jar:5.3.3.RELEASE]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:178) [spring-security-web-5.3.3.RELEASE.jar:5.3.3.RELEASE]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:358) [spring-web-5.2.7.RELEASE.jar:5.2.7.RELEASE]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:271) [spring-web-5.2.7.RELEASE.jar:5.2.7.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-9.0.36.jar:9.0.36]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-9.0.36.jar:9.0.36]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) [spring-web-5.2.7.RELEASE.jar:5.2.7.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) [spring-web-5.2.7.RELEASE.jar:5.2.7.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-9.0.36.jar:9.0.36]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-9.0.36.jar:9.0.36]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) [spring-web-5.2.7.RELEASE.jar:5.2.7.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) [spring-web-5.2.7.RELEASE.jar:5.2.7.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-9.0.36.jar:9.0.36]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-9.0.36.jar:9.0.36]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) [spring-web-5.2.7.RELEASE.jar:5.2.7.RELEASE]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) [spring-web-5.2.7.RELEASE.jar:5.2.7.RELEASE]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-9.0.36.jar:9.0.36]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-9.0.36.jar:9.0.36]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:202) [tomcat-embed-core-9.0.36.jar:9.0.36]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96) [tomcat-embed-core-9.0.36.jar:9.0.36]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541) [tomcat-embed-core-9.0.36.jar:9.0.36]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:139) [tomcat-embed-core-9.0.36.jar:9.0.36]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92) [tomcat-embed-core-9.0.36.jar:9.0.36]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) [tomcat-embed-core-9.0.36.jar:9.0.36]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343) [tomcat-embed-core-9.0.36.jar:9.0.36]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:373) [tomcat-embed-core-9.0.36.jar:9.0.36]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65) [tomcat-embed-core-9.0.36.jar:9.0.36]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:868) [tomcat-embed-core-9.0.36.jar:9.0.36]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1590) [tomcat-embed-core-9.0.36.jar:9.0.36]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) [tomcat-embed-core-9.0.36.jar:9.0.36]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142) [na:1.8.0_111]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617) [na:1.8.0_111]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) [tomcat-embed-core-9.0.36.jar:9.0.36]
	at java.lang.Thread.run(Thread.java:745) [na:1.8.0_111]

2020-08-19 22:24:50.834 DEBUG 14872 --- [http-nio-8068-exec-8] o.s.s.w.a.ExceptionTranslationFilter     : Calling Authentication entry point.
2020-08-19 22:24:50.834 DEBUG 14872 --- [http-nio-8068-exec-8] o.s.s.w.a.Http403ForbiddenEntryPoint     : Pre-authenticated entry point called. Rejecting access
2020-08-19 22:24:50.834 DEBUG 14872 --- [http-nio-8068-exec-8] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match the requestMatcher org.springframework.security.web.header.writers.HstsHeaderWriter$SecureRequestMatcher@2219b675
2020-08-19 22:24:50.834 DEBUG 14872 --- [http-nio-8068-exec-8] s.s.w.c.SecurityContextPersistenceFilter : SecurityContextHolder now cleared, as request processing completed
2020-08-19 22:24:50.835 DEBUG 14872 --- [http-nio-8068-exec-8] o.s.security.web.FilterChainProxy        : /error at position 1 of 11 in additional filter chain; firing Filter: 'WebAsyncManagerIntegrationFilter'
2020-08-19 22:24:50.835 DEBUG 14872 --- [http-nio-8068-exec-8] o.s.security.web.FilterChainProxy        : /error at position 2 of 11 in additional filter chain; firing Filter: 'SecurityContextPersistenceFilter'
2020-08-19 22:24:50.835 DEBUG 14872 --- [http-nio-8068-exec-8] o.s.security.web.FilterChainProxy        : /error at position 3 of 11 in additional filter chain; firing Filter: 'HeaderWriterFilter'
2020-08-19 22:24:50.835 DEBUG 14872 --- [http-nio-8068-exec-8] o.s.security.web.FilterChainProxy        : /error at position 4 of 11 in additional filter chain; firing Filter: 'LogoutFilter'
2020-08-19 22:24:50.835 DEBUG 14872 --- [http-nio-8068-exec-8] o.s.s.web.util.matcher.OrRequestMatcher  : Trying to match using Ant [pattern='/logout', GET]
2020-08-19 22:24:50.835 DEBUG 14872 --- [http-nio-8068-exec-8] o.s.s.w.u.matcher.AntPathRequestMatcher  : Request 'POST /error' doesn't match 'GET /logout'
2020-08-19 22:24:50.835 DEBUG 14872 --- [http-nio-8068-exec-8] o.s.s.web.util.matcher.OrRequestMatcher  : Trying to match using Ant [pattern='/logout', POST]
2020-08-19 22:24:50.835 DEBUG 14872 --- [http-nio-8068-exec-8] o.s.s.w.u.matcher.AntPathRequestMatcher  : Checking match of request : '/error'; against '/logout'
2020-08-19 22:24:50.835 DEBUG 14872 --- [http-nio-8068-exec-8] o.s.s.web.util.matcher.OrRequestMatcher  : Trying to match using Ant [pattern='/logout', PUT]
2020-08-19 22:24:50.835 DEBUG 14872 --- [http-nio-8068-exec-8] o.s.s.w.u.matcher.AntPathRequestMatcher  : Request 'POST /error' doesn't match 'PUT /logout'
2020-08-19 22:24:50.835 DEBUG 14872 --- [http-nio-8068-exec-8] o.s.s.web.util.matcher.OrRequestMatcher  : Trying to match using Ant [pattern='/logout', DELETE]
2020-08-19 22:24:50.835 DEBUG 14872 --- [http-nio-8068-exec-8] o.s.s.w.u.matcher.AntPathRequestMatcher  : Request 'POST /error' doesn't match 'DELETE /logout'
2020-08-19 22:24:50.835 DEBUG 14872 --- [http-nio-8068-exec-8] o.s.s.web.util.matcher.OrRequestMatcher  : No matches found
2020-08-19 22:24:50.835 DEBUG 14872 --- [http-nio-8068-exec-8] o.s.security.web.FilterChainProxy        : /error at position 5 of 11 in additional filter chain; firing Filter: 'JwtTokenFilter'
2020-08-19 22:24:50.835 DEBUG 14872 --- [http-nio-8068-exec-8] o.s.security.web.FilterChainProxy        : /error at position 6 of 11 in additional filter chain; firing Filter: 'RequestCacheAwareFilter'
2020-08-19 22:24:50.835 DEBUG 14872 --- [http-nio-8068-exec-8] o.s.security.web.FilterChainProxy        : /error at position 7 of 11 in additional filter chain; firing Filter: 'SecurityContextHolderAwareRequestFilter'
2020-08-19 22:24:50.835 DEBUG 14872 --- [http-nio-8068-exec-8] o.s.security.web.FilterChainProxy        : /error at position 8 of 11 in additional filter chain; firing Filter: 'AnonymousAuthenticationFilter'
2020-08-19 22:24:50.836 DEBUG 14872 --- [http-nio-8068-exec-8] o.s.s.w.a.AnonymousAuthenticationFilter  : Populated SecurityContextHolder with anonymous token: 'org.springframework.security.authentication.AnonymousAuthenticationToken@d4e48e7: Principal: anonymousUser; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_ANONYMOUS'
2020-08-19 22:24:50.836 DEBUG 14872 --- [http-nio-8068-exec-8] o.s.security.web.FilterChainProxy        : /error at position 9 of 11 in additional filter chain; firing Filter: 'SessionManagementFilter'
2020-08-19 22:24:50.836 DEBUG 14872 --- [http-nio-8068-exec-8] o.s.security.web.FilterChainProxy        : /error at position 10 of 11 in additional filter chain; firing Filter: 'ExceptionTranslationFilter'
2020-08-19 22:24:50.836 DEBUG 14872 --- [http-nio-8068-exec-8] o.s.security.web.FilterChainProxy        : /error at position 11 of 11 in additional filter chain; firing Filter: 'FilterSecurityInterceptor'
2020-08-19 22:24:50.836 DEBUG 14872 --- [http-nio-8068-exec-8] o.s.security.web.FilterChainProxy        : /error reached end of additional filter chain; proceeding with original chain
2020-08-19 22:24:50.838 DEBUG 14872 --- [http-nio-8068-exec-8] o.s.s.w.a.ExceptionTranslationFilter     : Chain processed normally
2020-08-19 22:24:50.838 DEBUG 14872 --- [http-nio-8068-exec-8] s.s.w.c.SecurityContextPersistenceFilter : SecurityContextHolder now cleared, as request processing completed
2020-08-19 22:24:58.577 DEBUG 14872 --- [http-nio-8068-exec-9] o.s.security.web.FilterChainProxy        : /api/v1/sign/in at position 1 of 11 in additional filter chain; firing Filter: 'WebAsyncManagerIntegrationFilter'
2020-08-19 22:24:58.578 DEBUG 14872 --- [http-nio-8068-exec-9] o.s.security.web.FilterChainProxy        : /api/v1/sign/in at position 2 of 11 in additional filter chain; firing Filter: 'SecurityContextPersistenceFilter'
2020-08-19 22:24:58.578 DEBUG 14872 --- [http-nio-8068-exec-9] o.s.security.web.FilterChainProxy        : /api/v1/sign/in at position 3 of 11 in additional filter chain; firing Filter: 'HeaderWriterFilter'
2020-08-19 22:24:58.578 DEBUG 14872 --- [http-nio-8068-exec-9] o.s.security.web.FilterChainProxy        : /api/v1/sign/in at position 4 of 11 in additional filter chain; firing Filter: 'LogoutFilter'
2020-08-19 22:24:58.578 DEBUG 14872 --- [http-nio-8068-exec-9] o.s.s.web.util.matcher.OrRequestMatcher  : Trying to match using Ant [pattern='/logout', GET]
2020-08-19 22:24:58.578 DEBUG 14872 --- [http-nio-8068-exec-9] o.s.s.w.u.matcher.AntPathRequestMatcher  : Request 'POST /api/v1/sign/in' doesn't match 'GET /logout'
2020-08-19 22:24:58.579 DEBUG 14872 --- [http-nio-8068-exec-9] o.s.s.web.util.matcher.OrRequestMatcher  : Trying to match using Ant [pattern='/logout', POST]
2020-08-19 22:24:58.579 DEBUG 14872 --- [http-nio-8068-exec-9] o.s.s.w.u.matcher.AntPathRequestMatcher  : Checking match of request : '/api/v1/sign/in'; against '/logout'
2020-08-19 22:24:58.579 DEBUG 14872 --- [http-nio-8068-exec-9] o.s.s.web.util.matcher.OrRequestMatcher  : Trying to match using Ant [pattern='/logout', PUT]
2020-08-19 22:24:58.579 DEBUG 14872 --- [http-nio-8068-exec-9] o.s.s.w.u.matcher.AntPathRequestMatcher  : Request 'POST /api/v1/sign/in' doesn't match 'PUT /logout'
2020-08-19 22:24:58.579 DEBUG 14872 --- [http-nio-8068-exec-9] o.s.s.web.util.matcher.OrRequestMatcher  : Trying to match using Ant [pattern='/logout', DELETE]
2020-08-19 22:24:58.579 DEBUG 14872 --- [http-nio-8068-exec-9] o.s.s.w.u.matcher.AntPathRequestMatcher  : Request 'POST /api/v1/sign/in' doesn't match 'DELETE /logout'
2020-08-19 22:24:58.579 DEBUG 14872 --- [http-nio-8068-exec-9] o.s.s.web.util.matcher.OrRequestMatcher  : No matches found
2020-08-19 22:24:58.579 DEBUG 14872 --- [http-nio-8068-exec-9] o.s.security.web.FilterChainProxy        : /api/v1/sign/in at position 5 of 11 in additional filter chain; firing Filter: 'JwtTokenFilter'
2020-08-19 22:24:58.579 DEBUG 14872 --- [http-nio-8068-exec-9] o.s.security.web.FilterChainProxy        : /api/v1/sign/in at position 6 of 11 in additional filter chain; firing Filter: 'RequestCacheAwareFilter'
2020-08-19 22:24:58.579 DEBUG 14872 --- [http-nio-8068-exec-9] o.s.security.web.FilterChainProxy        : /api/v1/sign/in at position 7 of 11 in additional filter chain; firing Filter: 'SecurityContextHolderAwareRequestFilter'
2020-08-19 22:24:58.579 DEBUG 14872 --- [http-nio-8068-exec-9] o.s.security.web.FilterChainProxy        : /api/v1/sign/in at position 8 of 11 in additional filter chain; firing Filter: 'AnonymousAuthenticationFilter'
2020-08-19 22:24:58.580 DEBUG 14872 --- [http-nio-8068-exec-9] o.s.s.w.a.AnonymousAuthenticationFilter  : Populated SecurityContextHolder with anonymous token: 'org.springframework.security.authentication.AnonymousAuthenticationToken@d4e48e7: Principal: anonymousUser; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_ANONYMOUS'
2020-08-19 22:24:58.580 DEBUG 14872 --- [http-nio-8068-exec-9] o.s.security.web.FilterChainProxy        : /api/v1/sign/in at position 9 of 11 in additional filter chain; firing Filter: 'SessionManagementFilter'
2020-08-19 22:24:58.580 DEBUG 14872 --- [http-nio-8068-exec-9] o.s.security.web.FilterChainProxy        : /api/v1/sign/in at position 10 of 11 in additional filter chain; firing Filter: 'ExceptionTranslationFilter'
2020-08-19 22:24:58.580 DEBUG 14872 --- [http-nio-8068-exec-9] o.s.security.web.FilterChainProxy        : /api/v1/sign/in at position 11 of 11 in additional filter chain; firing Filter: 'FilterSecurityInterceptor'
2020-08-19 22:24:58.580 DEBUG 14872 --- [http-nio-8068-exec-9] o.s.s.w.u.matcher.AntPathRequestMatcher  : Checking match of request : '/api/v1/sign/in'; against '/api/v1/sign/**'
2020-08-19 22:24:58.580 DEBUG 14872 --- [http-nio-8068-exec-9] o.s.s.w.a.i.FilterSecurityInterceptor    : Secure object: FilterInvocation: URL: /api/v1/sign/in; Attributes: [permitAll]
2020-08-19 22:24:58.581 DEBUG 14872 --- [http-nio-8068-exec-9] o.s.s.w.a.i.FilterSecurityInterceptor    : Previously Authenticated: org.springframework.security.authentication.AnonymousAuthenticationToken@d4e48e7: Principal: anonymousUser; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_ANONYMOUS
2020-08-19 22:24:58.581 DEBUG 14872 --- [http-nio-8068-exec-9] o.s.s.access.vote.AffirmativeBased       : Voter: org.springframework.security.web.access.expression.WebExpressionVoter@3f7fbc05, returned: 1
2020-08-19 22:24:58.581 DEBUG 14872 --- [http-nio-8068-exec-9] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorization successful
2020-08-19 22:24:58.581 DEBUG 14872 --- [http-nio-8068-exec-9] o.s.s.w.a.i.FilterSecurityInterceptor    : RunAsManager did not change Authentication object
2020-08-19 22:24:58.581 DEBUG 14872 --- [http-nio-8068-exec-9] o.s.security.web.FilterChainProxy        : /api/v1/sign/in reached end of additional filter chain; proceeding with original chain
2020-08-19 22:24:58.583 DEBUG 14872 --- [http-nio-8068-exec-9] o.s.s.authentication.ProviderManager     : Authentication attempt using org.springframework.security.authentication.dao.DaoAuthenticationProvider
2020-08-19 22:24:58.588  INFO 14872 --- [http-nio-8068-exec-9] r.l.service.user.impl.UserServiceImpl    : IN UserServiceImpl findByUsername - user: User{username='customer3', firstName='firstName3', lastName='lastName3', email='email3@mail.ru', phone='79339797603', password='$2a$10$xDCVWzkV0osns7uDyLOXKeqyzu6FgAFSQkYstDP95o.z61Bn9ghJq', roles=[Role{id: 3, name: ROLE_CUSTOMER}], userStatus=ACTIVE} found by userName: customer3
2020-08-19 22:24:58.588  INFO 14872 --- [http-nio-8068-exec-9] r.l.security.JwtUserDetailsService       : IN loadUserByUsername - user with username: customer3 successfully loaded
2020-08-19 22:24:58.717  INFO 14872 --- [http-nio-8068-exec-9] r.l.service.user.impl.UserServiceImpl    : IN UserServiceImpl findByUsername - user: User{username='customer3', firstName='firstName3', lastName='lastName3', email='email3@mail.ru', phone='79339797603', password='$2a$10$xDCVWzkV0osns7uDyLOXKeqyzu6FgAFSQkYstDP95o.z61Bn9ghJq', roles=[Role{id: 3, name: ROLE_CUSTOMER}], userStatus=ACTIVE} found by userName: customer3
2020-08-19 22:24:58.718 DEBUG 14872 --- [http-nio-8068-exec-9] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match the requestMatcher org.springframework.security.web.header.writers.HstsHeaderWriter$SecureRequestMatcher@2219b675
2020-08-19 22:24:58.719 DEBUG 14872 --- [http-nio-8068-exec-9] o.s.s.w.a.ExceptionTranslationFilter     : Chain processed normally
2020-08-19 22:24:58.719 DEBUG 14872 --- [http-nio-8068-exec-9] s.s.w.c.SecurityContextPersistenceFilter : SecurityContextHolder now cleared, as request processing completed
2020-08-19 22:48:26.920  INFO 14872 --- [SpringContextShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2020-08-19 22:48:26.924  INFO 14872 --- [SpringContextShutdownHook] o.s.s.concurrent.ThreadPoolTaskExecutor  : Shutting down ExecutorService 'applicationTaskExecutor'
2020-08-19 22:48:26.924  INFO 14872 --- [SpringContextShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-2 - Shutdown initiated...
2020-08-19 22:48:26.935  INFO 14872 --- [SpringContextShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-2 - Shutdown completed.
2020-08-19 22:51:47.116  INFO 15656 --- [main] r.l.LogisticPlatformApplication          : Starting LogisticPlatformApplication on DESKTOP-KQ9S95L with PID 15656 (G:\JAVA\avalon\VKR\_logisticplatform\logisticplatform\target\classes started by x in G:\JAVA\avalon\VKR\_logisticplatform\logisticplatform)
2020-08-19 22:51:47.120  INFO 15656 --- [main] r.l.LogisticPlatformApplication          : No active profile set, falling back to default profiles: default
2020-08-19 22:51:48.160  INFO 15656 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFERRED mode.
2020-08-19 22:51:48.315  INFO 15656 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 144ms. Found 9 JPA repository interfaces.
2020-08-19 22:51:49.055  INFO 15656 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8068 (http)
2020-08-19 22:51:49.066  INFO 15656 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2020-08-19 22:51:49.066  INFO 15656 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.36]
2020-08-19 22:51:49.241  INFO 15656 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2020-08-19 22:51:49.241  INFO 15656 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 2047 ms
2020-08-19 22:51:49.395  INFO 15656 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2020-08-19 22:51:49.893  INFO 15656 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2020-08-19 22:51:51.832  INFO 15656 --- [main] liquibase.executor.jvm.JdbcExecutor      : SELECT COUNT(*) FROM logisticplatform.DATABASECHANGELOGLOCK
2020-08-19 22:51:51.839  INFO 15656 --- [main] liquibase.executor.jvm.JdbcExecutor      : SELECT COUNT(*) FROM logisticplatform.DATABASECHANGELOGLOCK
2020-08-19 22:51:51.842  INFO 15656 --- [main] liquibase.executor.jvm.JdbcExecutor      : SELECT `LOCKED` FROM logisticplatform.DATABASECHANGELOGLOCK WHERE ID=1
2020-08-19 22:51:51.913  INFO 15656 --- [main] l.lockservice.StandardLockService        : Successfully acquired change log lock
2020-08-19 22:51:55.320  INFO 15656 --- [main] liquibase.executor.jvm.JdbcExecutor      : SELECT MD5SUM FROM logisticplatform.DATABASECHANGELOG WHERE MD5SUM IS NOT NULL LIMIT 1
2020-08-19 22:51:55.322  INFO 15656 --- [main] liquibase.executor.jvm.JdbcExecutor      : SELECT COUNT(*) FROM logisticplatform.DATABASECHANGELOG
2020-08-19 22:51:55.323  INFO 15656 --- [main] l.c.StandardChangeLogHistoryService      : Reading from logisticplatform.DATABASECHANGELOG
2020-08-19 22:51:55.324  INFO 15656 --- [main] liquibase.executor.jvm.JdbcExecutor      : SELECT * FROM logisticplatform.DATABASECHANGELOG ORDER BY DATEEXECUTED ASC, ORDEREXECUTED ASC
2020-08-19 22:51:55.446  INFO 15656 --- [main] l.lockservice.StandardLockService        : Successfully released change log lock
2020-08-19 22:51:55.447  INFO 15656 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2020-08-19 22:51:55.461  INFO 15656 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2020-08-19 22:51:55.583  INFO 15656 --- [main] o.s.s.concurrent.ThreadPoolTaskExecutor  : Initializing ExecutorService 'applicationTaskExecutor'
2020-08-19 22:51:55.596  INFO 15656 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-2 - Starting...
2020-08-19 22:51:55.597  WARN 15656 --- [main] com.zaxxer.hikari.util.DriverDataSource  : Registered driver with driverClassName=com.mysql.jdbc.Driver was not found, trying direct instantiation.
2020-08-19 22:51:55.619  INFO 15656 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-2 - Start completed.
2020-08-19 22:51:55.690  INFO 15656 --- [task-1] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2020-08-19 22:51:55.744  WARN 15656 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2020-08-19 22:51:55.757  INFO 15656 --- [task-1] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.4.17.Final
2020-08-19 22:51:55.963  INFO 15656 --- [task-1] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.0.Final}
2020-08-19 22:51:56.134  INFO 15656 --- [task-1] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2020-08-19 22:51:56.291 DEBUG 15656 --- [main] eGlobalAuthenticationAutowiredConfigurer : Eagerly initializing {org.springframework.boot.autoconfigure.security.servlet.WebSecurityEnablerConfiguration=org.springframework.boot.autoconfigure.security.servlet.WebSecurityEnablerConfiguration@c3ca482}
2020-08-19 22:51:56.401 DEBUG 15656 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression 'permitAll', for Ant [pattern='/api/v1/sign/**']
2020-08-19 22:51:56.404 DEBUG 15656 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression 'hasRole('ROLE_ADMIN')', for Ant [pattern='/api/v1/admins/**']
2020-08-19 22:51:56.406 DEBUG 15656 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression 'hasRole('ROLE_CUSTOMER')', for Ant [pattern='/api/v1/customers/**']
2020-08-19 22:51:56.406 DEBUG 15656 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression 'hasRole('ROLE_CONTRACTOR')', for Ant [pattern='/api/v1/contractors/**']
2020-08-19 22:51:56.406 DEBUG 15656 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression 'hasAnyRole('ROLE_CONTRACTOR','ROLE_CUSTOMER')', for Ant [pattern='/api/v1/transporttypes/**']
2020-08-19 22:51:56.406 DEBUG 15656 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression 'authenticated', for any request
2020-08-19 22:51:56.413 DEBUG 15656 --- [main] o.s.s.w.a.i.FilterSecurityInterceptor    : Validated configuration attributes
2020-08-19 22:51:56.415 DEBUG 15656 --- [main] o.s.s.w.a.i.FilterSecurityInterceptor    : Validated configuration attributes
2020-08-19 22:51:56.418  INFO 15656 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: any request, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@5a88849, org.springframework.security.web.context.SecurityContextPersistenceFilter@1a48a582, org.springframework.security.web.header.HeaderWriterFilter@3b1895e, org.springframework.security.web.authentication.logout.LogoutFilter@6b286640, ru.logisticplatform.security.jwt.JwtTokenFilter@36ce0bc2, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@4b45c8e4, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@50aa9a91, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@317fa5dd, org.springframework.security.web.session.SessionManagementFilter@51b11186, org.springframework.security.web.access.ExceptionTranslationFilter@4353db40, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@68b3de47]
2020-08-19 22:51:56.672  INFO 15656 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8068 (http) with context path ''
2020-08-19 22:51:56.675  INFO 15656 --- [main] DeferredRepositoryInitializationListener : Triggering deferred initialization of Spring Data repositoriesâ€¦
2020-08-19 22:51:57.498  INFO 15656 --- [task-1] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2020-08-19 22:51:57.509  INFO 15656 --- [task-1] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2020-08-19 22:51:58.187  INFO 15656 --- [main] DeferredRepositoryInitializationListener : Spring Data repositories initialized!
2020-08-19 22:51:58.207  INFO 15656 --- [main] r.l.LogisticPlatformApplication          : Started LogisticPlatformApplication in 12.577 seconds (JVM running for 14.371)
2020-08-19 22:52:02.829  INFO 15656 --- [http-nio-8068-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2020-08-19 22:52:02.830  INFO 15656 --- [http-nio-8068-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2020-08-19 22:52:02.838  INFO 15656 --- [http-nio-8068-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 8 ms
2020-08-19 22:52:02.853 DEBUG 15656 --- [http-nio-8068-exec-1] o.s.security.web.FilterChainProxy        : /api/v1/sign/in at position 1 of 11 in additional filter chain; firing Filter: 'WebAsyncManagerIntegrationFilter'
2020-08-19 22:52:02.854 DEBUG 15656 --- [http-nio-8068-exec-1] o.s.security.web.FilterChainProxy        : /api/v1/sign/in at position 2 of 11 in additional filter chain; firing Filter: 'SecurityContextPersistenceFilter'
2020-08-19 22:52:02.857 DEBUG 15656 --- [http-nio-8068-exec-1] o.s.security.web.FilterChainProxy        : /api/v1/sign/in at position 3 of 11 in additional filter chain; firing Filter: 'HeaderWriterFilter'
2020-08-19 22:52:02.858 DEBUG 15656 --- [http-nio-8068-exec-1] o.s.security.web.FilterChainProxy        : /api/v1/sign/in at position 4 of 11 in additional filter chain; firing Filter: 'LogoutFilter'
2020-08-19 22:52:02.858 DEBUG 15656 --- [http-nio-8068-exec-1] o.s.s.web.util.matcher.OrRequestMatcher  : Trying to match using Ant [pattern='/logout', GET]
2020-08-19 22:52:02.859 DEBUG 15656 --- [http-nio-8068-exec-1] o.s.s.w.u.matcher.AntPathRequestMatcher  : Request 'POST /api/v1/sign/in' doesn't match 'GET /logout'
2020-08-19 22:52:02.859 DEBUG 15656 --- [http-nio-8068-exec-1] o.s.s.web.util.matcher.OrRequestMatcher  : Trying to match using Ant [pattern='/logout', POST]
2020-08-19 22:52:02.859 DEBUG 15656 --- [http-nio-8068-exec-1] o.s.s.w.u.matcher.AntPathRequestMatcher  : Checking match of request : '/api/v1/sign/in'; against '/logout'
2020-08-19 22:52:02.859 DEBUG 15656 --- [http-nio-8068-exec-1] o.s.s.web.util.matcher.OrRequestMatcher  : Trying to match using Ant [pattern='/logout', PUT]
2020-08-19 22:52:02.859 DEBUG 15656 --- [http-nio-8068-exec-1] o.s.s.w.u.matcher.AntPathRequestMatcher  : Request 'POST /api/v1/sign/in' doesn't match 'PUT /logout'
2020-08-19 22:52:02.859 DEBUG 15656 --- [http-nio-8068-exec-1] o.s.s.web.util.matcher.OrRequestMatcher  : Trying to match using Ant [pattern='/logout', DELETE]
2020-08-19 22:52:02.859 DEBUG 15656 --- [http-nio-8068-exec-1] o.s.s.w.u.matcher.AntPathRequestMatcher  : Request 'POST /api/v1/sign/in' doesn't match 'DELETE /logout'
2020-08-19 22:52:02.859 DEBUG 15656 --- [http-nio-8068-exec-1] o.s.s.web.util.matcher.OrRequestMatcher  : No matches found
2020-08-19 22:52:02.860 DEBUG 15656 --- [http-nio-8068-exec-1] o.s.security.web.FilterChainProxy        : /api/v1/sign/in at position 5 of 11 in additional filter chain; firing Filter: 'JwtTokenFilter'
2020-08-19 22:52:02.860 DEBUG 15656 --- [http-nio-8068-exec-1] o.s.security.web.FilterChainProxy        : /api/v1/sign/in at position 6 of 11 in additional filter chain; firing Filter: 'RequestCacheAwareFilter'
2020-08-19 22:52:02.860 DEBUG 15656 --- [http-nio-8068-exec-1] o.s.security.web.FilterChainProxy        : /api/v1/sign/in at position 7 of 11 in additional filter chain; firing Filter: 'SecurityContextHolderAwareRequestFilter'
2020-08-19 22:52:02.861 DEBUG 15656 --- [http-nio-8068-exec-1] o.s.security.web.FilterChainProxy        : /api/v1/sign/in at position 8 of 11 in additional filter chain; firing Filter: 'AnonymousAuthenticationFilter'
2020-08-19 22:52:02.863 DEBUG 15656 --- [http-nio-8068-exec-1] o.s.s.w.a.AnonymousAuthenticationFilter  : Populated SecurityContextHolder with anonymous token: 'org.springframework.security.authentication.AnonymousAuthenticationToken@2ab733b7: Principal: anonymousUser; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_ANONYMOUS'
2020-08-19 22:52:02.863 DEBUG 15656 --- [http-nio-8068-exec-1] o.s.security.web.FilterChainProxy        : /api/v1/sign/in at position 9 of 11 in additional filter chain; firing Filter: 'SessionManagementFilter'
2020-08-19 22:52:02.863 DEBUG 15656 --- [http-nio-8068-exec-1] o.s.security.web.FilterChainProxy        : /api/v1/sign/in at position 10 of 11 in additional filter chain; firing Filter: 'ExceptionTranslationFilter'
2020-08-19 22:52:02.863 DEBUG 15656 --- [http-nio-8068-exec-1] o.s.security.web.FilterChainProxy        : /api/v1/sign/in at position 11 of 11 in additional filter chain; firing Filter: 'FilterSecurityInterceptor'
2020-08-19 22:52:02.864 DEBUG 15656 --- [http-nio-8068-exec-1] o.s.s.w.u.matcher.AntPathRequestMatcher  : Checking match of request : '/api/v1/sign/in'; against '/api/v1/sign/**'
2020-08-19 22:52:02.864 DEBUG 15656 --- [http-nio-8068-exec-1] o.s.s.w.a.i.FilterSecurityInterceptor    : Secure object: FilterInvocation: URL: /api/v1/sign/in; Attributes: [permitAll]
2020-08-19 22:52:02.864 DEBUG 15656 --- [http-nio-8068-exec-1] o.s.s.w.a.i.FilterSecurityInterceptor    : Previously Authenticated: org.springframework.security.authentication.AnonymousAuthenticationToken@2ab733b7: Principal: anonymousUser; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_ANONYMOUS
2020-08-19 22:52:02.871 DEBUG 15656 --- [http-nio-8068-exec-1] o.s.s.access.vote.AffirmativeBased       : Voter: org.springframework.security.web.access.expression.WebExpressionVoter@7aecb530, returned: 1
2020-08-19 22:52:02.871 DEBUG 15656 --- [http-nio-8068-exec-1] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorization successful
2020-08-19 22:52:02.871 DEBUG 15656 --- [http-nio-8068-exec-1] o.s.s.w.a.i.FilterSecurityInterceptor    : RunAsManager did not change Authentication object
2020-08-19 22:52:02.871 DEBUG 15656 --- [http-nio-8068-exec-1] o.s.security.web.FilterChainProxy        : /api/v1/sign/in reached end of additional filter chain; proceeding with original chain
2020-08-19 22:52:02.975 DEBUG 15656 --- [http-nio-8068-exec-1] o.s.s.authentication.ProviderManager     : Authentication attempt using org.springframework.security.authentication.dao.DaoAuthenticationProvider
2020-08-19 22:52:03.300  INFO 15656 --- [http-nio-8068-exec-1] r.l.service.user.impl.UserServiceImpl    : IN UserServiceImpl findByUsername - user: User{username='contractor2', firstName='firstName2', lastName='lastName2', email='email2@mail.ru', phone='79229797602', password='$2a$10$Uzl41xR.OUV7m1pFV0zRuO85fGWOWZNK2TY36aDr1gn5rn3uNZGU.', roles=[Role{id: 2, name: ROLE_CONTRACTOR}], userStatus=ACTIVE} found by userName: contractor2
2020-08-19 22:52:03.302  INFO 15656 --- [http-nio-8068-exec-1] r.l.security.JwtUserDetailsService       : IN loadUserByUsername - user with username: contractor2 successfully loaded
2020-08-19 22:52:03.429  INFO 15656 --- [http-nio-8068-exec-1] r.l.service.user.impl.UserServiceImpl    : IN UserServiceImpl findByUsername - user: User{username='contractor2', firstName='firstName2', lastName='lastName2', email='email2@mail.ru', phone='79229797602', password='$2a$10$Uzl41xR.OUV7m1pFV0zRuO85fGWOWZNK2TY36aDr1gn5rn3uNZGU.', roles=[Role{id: 2, name: ROLE_CONTRACTOR}], userStatus=ACTIVE} found by userName: contractor2
2020-08-19 22:52:03.501 DEBUG 15656 --- [http-nio-8068-exec-1] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match the requestMatcher org.springframework.security.web.header.writers.HstsHeaderWriter$SecureRequestMatcher@6e070f11
2020-08-19 22:52:03.509 DEBUG 15656 --- [http-nio-8068-exec-1] o.s.s.w.a.ExceptionTranslationFilter     : Chain processed normally
2020-08-19 22:52:03.509 DEBUG 15656 --- [http-nio-8068-exec-1] s.s.w.c.SecurityContextPersistenceFilter : SecurityContextHolder now cleared, as request processing completed
2020-08-19 22:52:31.803 DEBUG 15656 --- [http-nio-8068-exec-3] o.s.security.web.FilterChainProxy        : /api/v1/contractors/customers/customer3 at position 1 of 11 in additional filter chain; firing Filter: 'WebAsyncManagerIntegrationFilter'
2020-08-19 22:52:31.803 DEBUG 15656 --- [http-nio-8068-exec-3] o.s.security.web.FilterChainProxy        : /api/v1/contractors/customers/customer3 at position 2 of 11 in additional filter chain; firing Filter: 'SecurityContextPersistenceFilter'
2020-08-19 22:52:31.803 DEBUG 15656 --- [http-nio-8068-exec-3] o.s.security.web.FilterChainProxy        : /api/v1/contractors/customers/customer3 at position 3 of 11 in additional filter chain; firing Filter: 'HeaderWriterFilter'
2020-08-19 22:52:31.804 DEBUG 15656 --- [http-nio-8068-exec-3] o.s.security.web.FilterChainProxy        : /api/v1/contractors/customers/customer3 at position 4 of 11 in additional filter chain; firing Filter: 'LogoutFilter'
2020-08-19 22:52:31.804 DEBUG 15656 --- [http-nio-8068-exec-3] o.s.s.web.util.matcher.OrRequestMatcher  : Trying to match using Ant [pattern='/logout', GET]
2020-08-19 22:52:31.804 DEBUG 15656 --- [http-nio-8068-exec-3] o.s.s.w.u.matcher.AntPathRequestMatcher  : Checking match of request : '/api/v1/contractors/customers/customer3'; against '/logout'
2020-08-19 22:52:31.804 DEBUG 15656 --- [http-nio-8068-exec-3] o.s.s.web.util.matcher.OrRequestMatcher  : Trying to match using Ant [pattern='/logout', POST]
2020-08-19 22:52:31.804 DEBUG 15656 --- [http-nio-8068-exec-3] o.s.s.w.u.matcher.AntPathRequestMatcher  : Request 'GET /api/v1/contractors/customers/customer3' doesn't match 'POST /logout'
2020-08-19 22:52:31.804 DEBUG 15656 --- [http-nio-8068-exec-3] o.s.s.web.util.matcher.OrRequestMatcher  : Trying to match using Ant [pattern='/logout', PUT]
2020-08-19 22:52:31.804 DEBUG 15656 --- [http-nio-8068-exec-3] o.s.s.w.u.matcher.AntPathRequestMatcher  : Request 'GET /api/v1/contractors/customers/customer3' doesn't match 'PUT /logout'
2020-08-19 22:52:31.804 DEBUG 15656 --- [http-nio-8068-exec-3] o.s.s.web.util.matcher.OrRequestMatcher  : Trying to match using Ant [pattern='/logout', DELETE]
2020-08-19 22:52:31.804 DEBUG 15656 --- [http-nio-8068-exec-3] o.s.s.w.u.matcher.AntPathRequestMatcher  : Request 'GET /api/v1/contractors/customers/customer3' doesn't match 'DELETE /logout'
2020-08-19 22:52:31.804 DEBUG 15656 --- [http-nio-8068-exec-3] o.s.s.web.util.matcher.OrRequestMatcher  : No matches found
2020-08-19 22:52:31.804 DEBUG 15656 --- [http-nio-8068-exec-3] o.s.security.web.FilterChainProxy        : /api/v1/contractors/customers/customer3 at position 5 of 11 in additional filter chain; firing Filter: 'JwtTokenFilter'
2020-08-19 22:52:31.853  INFO 15656 --- [http-nio-8068-exec-3] r.l.service.user.impl.UserServiceImpl    : IN UserServiceImpl findByUsername - user: User{username='contractor2', firstName='firstName2', lastName='lastName2', email='email2@mail.ru', phone='79229797602', password='$2a$10$Uzl41xR.OUV7m1pFV0zRuO85fGWOWZNK2TY36aDr1gn5rn3uNZGU.', roles=[Role{id: 2, name: ROLE_CONTRACTOR}], userStatus=ACTIVE} found by userName: contractor2
2020-08-19 22:52:31.853  INFO 15656 --- [http-nio-8068-exec-3] r.l.security.JwtUserDetailsService       : IN loadUserByUsername - user with username: contractor2 successfully loaded
2020-08-19 22:52:31.854 DEBUG 15656 --- [http-nio-8068-exec-3] o.s.security.web.FilterChainProxy        : /api/v1/contractors/customers/customer3 at position 6 of 11 in additional filter chain; firing Filter: 'RequestCacheAwareFilter'
2020-08-19 22:52:31.854 DEBUG 15656 --- [http-nio-8068-exec-3] o.s.security.web.FilterChainProxy        : /api/v1/contractors/customers/customer3 at position 7 of 11 in additional filter chain; firing Filter: 'SecurityContextHolderAwareRequestFilter'
2020-08-19 22:52:31.854 DEBUG 15656 --- [http-nio-8068-exec-3] o.s.security.web.FilterChainProxy        : /api/v1/contractors/customers/customer3 at position 8 of 11 in additional filter chain; firing Filter: 'AnonymousAuthenticationFilter'
2020-08-19 22:52:31.854 DEBUG 15656 --- [http-nio-8068-exec-3] o.s.s.w.a.AnonymousAuthenticationFilter  : SecurityContextHolder not populated with anonymous token, as it already contained: 'org.springframework.security.authentication.UsernamePasswordAuthenticationToken@35f2cd74: Principal: ru.logisticplatform.security.jwt.JwtUser@2a73176e; Credentials: [PROTECTED]; Authenticated: true; Details: null; Granted Authorities: ROLE_CONTRACTOR'
2020-08-19 22:52:31.854 DEBUG 15656 --- [http-nio-8068-exec-3] o.s.security.web.FilterChainProxy        : /api/v1/contractors/customers/customer3 at position 9 of 11 in additional filter chain; firing Filter: 'SessionManagementFilter'
2020-08-19 22:52:31.854 DEBUG 15656 --- [http-nio-8068-exec-3] s.CompositeSessionAuthenticationStrategy : Delegating to org.springframework.security.web.authentication.session.ChangeSessionIdAuthenticationStrategy@6785786d
2020-08-19 22:52:31.854 DEBUG 15656 --- [http-nio-8068-exec-3] o.s.security.web.FilterChainProxy        : /api/v1/contractors/customers/customer3 at position 10 of 11 in additional filter chain; firing Filter: 'ExceptionTranslationFilter'
2020-08-19 22:52:31.854 DEBUG 15656 --- [http-nio-8068-exec-3] o.s.security.web.FilterChainProxy        : /api/v1/contractors/customers/customer3 at position 11 of 11 in additional filter chain; firing Filter: 'FilterSecurityInterceptor'
2020-08-19 22:52:31.854 DEBUG 15656 --- [http-nio-8068-exec-3] o.s.s.w.u.matcher.AntPathRequestMatcher  : Checking match of request : '/api/v1/contractors/customers/customer3'; against '/api/v1/sign/**'
2020-08-19 22:52:31.854 DEBUG 15656 --- [http-nio-8068-exec-3] o.s.s.w.u.matcher.AntPathRequestMatcher  : Checking match of request : '/api/v1/contractors/customers/customer3'; against '/api/v1/admins/**'
2020-08-19 22:52:31.855 DEBUG 15656 --- [http-nio-8068-exec-3] o.s.s.w.u.matcher.AntPathRequestMatcher  : Checking match of request : '/api/v1/contractors/customers/customer3'; against '/api/v1/customers/**'
2020-08-19 22:52:31.855 DEBUG 15656 --- [http-nio-8068-exec-3] o.s.s.w.u.matcher.AntPathRequestMatcher  : Checking match of request : '/api/v1/contractors/customers/customer3'; against '/api/v1/contractors/**'
2020-08-19 22:52:31.855 DEBUG 15656 --- [http-nio-8068-exec-3] o.s.s.w.a.i.FilterSecurityInterceptor    : Secure object: FilterInvocation: URL: /api/v1/contractors/customers/customer3; Attributes: [hasRole('ROLE_CONTRACTOR')]
2020-08-19 22:52:31.855 DEBUG 15656 --- [http-nio-8068-exec-3] o.s.s.w.a.i.FilterSecurityInterceptor    : Previously Authenticated: org.springframework.security.authentication.UsernamePasswordAuthenticationToken@35f2cd74: Principal: ru.logisticplatform.security.jwt.JwtUser@2a73176e; Credentials: [PROTECTED]; Authenticated: true; Details: null; Granted Authorities: ROLE_CONTRACTOR
2020-08-19 22:52:31.855 DEBUG 15656 --- [http-nio-8068-exec-3] o.s.s.access.vote.AffirmativeBased       : Voter: org.springframework.security.web.access.expression.WebExpressionVoter@7aecb530, returned: 1
2020-08-19 22:52:31.855 DEBUG 15656 --- [http-nio-8068-exec-3] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorization successful
2020-08-19 22:52:31.855 DEBUG 15656 --- [http-nio-8068-exec-3] o.s.s.w.a.i.FilterSecurityInterceptor    : RunAsManager did not change Authentication object
2020-08-19 22:52:31.856 DEBUG 15656 --- [http-nio-8068-exec-3] o.s.security.web.FilterChainProxy        : /api/v1/contractors/customers/customer3 reached end of additional filter chain; proceeding with original chain
2020-08-19 22:52:31.864  INFO 15656 --- [http-nio-8068-exec-3] r.l.service.user.impl.UserServiceImpl    : IN UserServiceImpl findByUsername - user: User{username='customer3', firstName='firstName3', lastName='lastName3', email='email3@mail.ru', phone='79339797603', password='$2a$10$xDCVWzkV0osns7uDyLOXKeqyzu6FgAFSQkYstDP95o.z61Bn9ghJq', roles=[Role{id: 3, name: ROLE_CUSTOMER}], userStatus=ACTIVE} found by userName: customer3
2020-08-19 22:52:31.941 DEBUG 15656 --- [http-nio-8068-exec-3] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match the requestMatcher org.springframework.security.web.header.writers.HstsHeaderWriter$SecureRequestMatcher@6e070f11
2020-08-19 22:52:31.942 DEBUG 15656 --- [http-nio-8068-exec-3] o.s.s.w.a.ExceptionTranslationFilter     : Chain processed normally
2020-08-19 22:52:31.942 DEBUG 15656 --- [http-nio-8068-exec-3] s.s.w.c.SecurityContextPersistenceFilter : SecurityContextHolder now cleared, as request processing completed
2020-08-19 22:52:39.079 DEBUG 15656 --- [http-nio-8068-exec-4] o.s.security.web.FilterChainProxy        : /api/v1/contractors/customers/customer33 at position 1 of 11 in additional filter chain; firing Filter: 'WebAsyncManagerIntegrationFilter'
2020-08-19 22:52:39.079 DEBUG 15656 --- [http-nio-8068-exec-4] o.s.security.web.FilterChainProxy        : /api/v1/contractors/customers/customer33 at position 2 of 11 in additional filter chain; firing Filter: 'SecurityContextPersistenceFilter'
2020-08-19 22:52:39.079 DEBUG 15656 --- [http-nio-8068-exec-4] o.s.security.web.FilterChainProxy        : /api/v1/contractors/customers/customer33 at position 3 of 11 in additional filter chain; firing Filter: 'HeaderWriterFilter'
2020-08-19 22:52:39.079 DEBUG 15656 --- [http-nio-8068-exec-4] o.s.security.web.FilterChainProxy        : /api/v1/contractors/customers/customer33 at position 4 of 11 in additional filter chain; firing Filter: 'LogoutFilter'
2020-08-19 22:52:39.080 DEBUG 15656 --- [http-nio-8068-exec-4] o.s.s.web.util.matcher.OrRequestMatcher  : Trying to match using Ant [pattern='/logout', GET]
2020-08-19 22:52:39.080 DEBUG 15656 --- [http-nio-8068-exec-4] o.s.s.w.u.matcher.AntPathRequestMatcher  : Checking match of request : '/api/v1/contractors/customers/customer33'; against '/logout'
2020-08-19 22:52:39.080 DEBUG 15656 --- [http-nio-8068-exec-4] o.s.s.web.util.matcher.OrRequestMatcher  : Trying to match using Ant [pattern='/logout', POST]
2020-08-19 22:52:39.080 DEBUG 15656 --- [http-nio-8068-exec-4] o.s.s.w.u.matcher.AntPathRequestMatcher  : Request 'GET /api/v1/contractors/customers/customer33' doesn't match 'POST /logout'
2020-08-19 22:52:39.080 DEBUG 15656 --- [http-nio-8068-exec-4] o.s.s.web.util.matcher.OrRequestMatcher  : Trying to match using Ant [pattern='/logout', PUT]
2020-08-19 22:52:39.080 DEBUG 15656 --- [http-nio-8068-exec-4] o.s.s.w.u.matcher.AntPathRequestMatcher  : Request 'GET /api/v1/contractors/customers/customer33' doesn't match 'PUT /logout'
2020-08-19 22:52:39.080 DEBUG 15656 --- [http-nio-8068-exec-4] o.s.s.web.util.matcher.OrRequestMatcher  : Trying to match using Ant [pattern='/logout', DELETE]
2020-08-19 22:52:39.080 DEBUG 15656 --- [http-nio-8068-exec-4] o.s.s.w.u.matcher.AntPathRequestMatcher  : Request 'GET /api/v1/contractors/customers/customer33' doesn't match 'DELETE /logout'
2020-08-19 22:52:39.081 DEBUG 15656 --- [http-nio-8068-exec-4] o.s.s.web.util.matcher.OrRequestMatcher  : No matches found
2020-08-19 22:52:39.081 DEBUG 15656 --- [http-nio-8068-exec-4] o.s.security.web.FilterChainProxy        : /api/v1/contractors/customers/customer33 at position 5 of 11 in additional filter chain; firing Filter: 'JwtTokenFilter'
2020-08-19 22:52:39.088  INFO 15656 --- [http-nio-8068-exec-4] r.l.service.user.impl.UserServiceImpl    : IN UserServiceImpl findByUsername - user: User{username='contractor2', firstName='firstName2', lastName='lastName2', email='email2@mail.ru', phone='79229797602', password='$2a$10$Uzl41xR.OUV7m1pFV0zRuO85fGWOWZNK2TY36aDr1gn5rn3uNZGU.', roles=[Role{id: 2, name: ROLE_CONTRACTOR}], userStatus=ACTIVE} found by userName: contractor2
2020-08-19 22:52:39.088  INFO 15656 --- [http-nio-8068-exec-4] r.l.security.JwtUserDetailsService       : IN loadUserByUsername - user with username: contractor2 successfully loaded
2020-08-19 22:52:39.088 DEBUG 15656 --- [http-nio-8068-exec-4] o.s.security.web.FilterChainProxy        : /api/v1/contractors/customers/customer33 at position 6 of 11 in additional filter chain; firing Filter: 'RequestCacheAwareFilter'
2020-08-19 22:52:39.089 DEBUG 15656 --- [http-nio-8068-exec-4] o.s.security.web.FilterChainProxy        : /api/v1/contractors/customers/customer33 at position 7 of 11 in additional filter chain; firing Filter: 'SecurityContextHolderAwareRequestFilter'
2020-08-19 22:52:39.089 DEBUG 15656 --- [http-nio-8068-exec-4] o.s.security.web.FilterChainProxy        : /api/v1/contractors/customers/customer33 at position 8 of 11 in additional filter chain; firing Filter: 'AnonymousAuthenticationFilter'
2020-08-19 22:52:39.089 DEBUG 15656 --- [http-nio-8068-exec-4] o.s.s.w.a.AnonymousAuthenticationFilter  : SecurityContextHolder not populated with anonymous token, as it already contained: 'org.springframework.security.authentication.UsernamePasswordAuthenticationToken@7bdcdcfb: Principal: ru.logisticplatform.security.jwt.JwtUser@645d06e1; Credentials: [PROTECTED]; Authenticated: true; Details: null; Granted Authorities: ROLE_CONTRACTOR'
2020-08-19 22:52:39.089 DEBUG 15656 --- [http-nio-8068-exec-4] o.s.security.web.FilterChainProxy        : /api/v1/contractors/customers/customer33 at position 9 of 11 in additional filter chain; firing Filter: 'SessionManagementFilter'
2020-08-19 22:52:39.089 DEBUG 15656 --- [http-nio-8068-exec-4] s.CompositeSessionAuthenticationStrategy : Delegating to org.springframework.security.web.authentication.session.ChangeSessionIdAuthenticationStrategy@6785786d
2020-08-19 22:52:39.089 DEBUG 15656 --- [http-nio-8068-exec-4] o.s.security.web.FilterChainProxy        : /api/v1/contractors/customers/customer33 at position 10 of 11 in additional filter chain; firing Filter: 'ExceptionTranslationFilter'
2020-08-19 22:52:39.089 DEBUG 15656 --- [http-nio-8068-exec-4] o.s.security.web.FilterChainProxy        : /api/v1/contractors/customers/customer33 at position 11 of 11 in additional filter chain; firing Filter: 'FilterSecurityInterceptor'
2020-08-19 22:52:39.090 DEBUG 15656 --- [http-nio-8068-exec-4] o.s.s.w.u.matcher.AntPathRequestMatcher  : Checking match of request : '/api/v1/contractors/customers/customer33'; against '/api/v1/sign/**'
2020-08-19 22:52:39.090 DEBUG 15656 --- [http-nio-8068-exec-4] o.s.s.w.u.matcher.AntPathRequestMatcher  : Checking match of request : '/api/v1/contractors/customers/customer33'; against '/api/v1/admins/**'
2020-08-19 22:52:39.090 DEBUG 15656 --- [http-nio-8068-exec-4] o.s.s.w.u.matcher.AntPathRequestMatcher  : Checking match of request : '/api/v1/contractors/customers/customer33'; against '/api/v1/customers/**'
2020-08-19 22:52:39.090 DEBUG 15656 --- [http-nio-8068-exec-4] o.s.s.w.u.matcher.AntPathRequestMatcher  : Checking match of request : '/api/v1/contractors/customers/customer33'; against '/api/v1/contractors/**'
2020-08-19 22:52:39.090 DEBUG 15656 --- [http-nio-8068-exec-4] o.s.s.w.a.i.FilterSecurityInterceptor    : Secure object: FilterInvocation: URL: /api/v1/contractors/customers/customer33; Attributes: [hasRole('ROLE_CONTRACTOR')]
2020-08-19 22:52:39.090 DEBUG 15656 --- [http-nio-8068-exec-4] o.s.s.w.a.i.FilterSecurityInterceptor    : Previously Authenticated: org.springframework.security.authentication.UsernamePasswordAuthenticationToken@7bdcdcfb: Principal: ru.logisticplatform.security.jwt.JwtUser@645d06e1; Credentials: [PROTECTED]; Authenticated: true; Details: null; Granted Authorities: ROLE_CONTRACTOR
2020-08-19 22:52:39.091 DEBUG 15656 --- [http-nio-8068-exec-4] o.s.s.access.vote.AffirmativeBased       : Voter: org.springframework.security.web.access.expression.WebExpressionVoter@7aecb530, returned: 1
2020-08-19 22:52:39.091 DEBUG 15656 --- [http-nio-8068-exec-4] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorization successful
2020-08-19 22:52:39.091 DEBUG 15656 --- [http-nio-8068-exec-4] o.s.s.w.a.i.FilterSecurityInterceptor    : RunAsManager did not change Authentication object
2020-08-19 22:52:39.091 DEBUG 15656 --- [http-nio-8068-exec-4] o.s.security.web.FilterChainProxy        : /api/v1/contractors/customers/customer33 reached end of additional filter chain; proceeding with original chain
2020-08-19 22:52:39.097  INFO 15656 --- [http-nio-8068-exec-4] r.l.service.user.impl.UserServiceImpl    : IN UserServiceImpl findByUsername - user: null found by userName: customer33
2020-08-19 22:52:39.099 DEBUG 15656 --- [http-nio-8068-exec-4] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match the requestMatcher org.springframework.security.web.header.writers.HstsHeaderWriter$SecureRequestMatcher@6e070f11
2020-08-19 22:52:39.101 DEBUG 15656 --- [http-nio-8068-exec-4] o.s.s.w.a.ExceptionTranslationFilter     : Chain processed normally
2020-08-19 22:52:39.101 DEBUG 15656 --- [http-nio-8068-exec-4] s.s.w.c.SecurityContextPersistenceFilter : SecurityContextHolder now cleared, as request processing completed
2020-08-19 22:55:57.793  INFO 15656 --- [SpringContextShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2020-08-19 22:55:57.796  INFO 15656 --- [SpringContextShutdownHook] o.s.s.concurrent.ThreadPoolTaskExecutor  : Shutting down ExecutorService 'applicationTaskExecutor'
2020-08-19 22:55:57.797  INFO 15656 --- [SpringContextShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-2 - Shutdown initiated...
2020-08-19 22:55:57.807  INFO 15656 --- [SpringContextShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-2 - Shutdown completed.
2020-08-19 23:27:38.237  INFO 7388 --- [main] r.l.LogisticPlatformApplication          : Starting LogisticPlatformApplication on DESKTOP-KQ9S95L with PID 7388 (G:\JAVA\avalon\VKR\_logisticplatform\logisticplatform\target\classes started by x in G:\JAVA\avalon\VKR\_logisticplatform\logisticplatform)
2020-08-19 23:27:38.242  INFO 7388 --- [main] r.l.LogisticPlatformApplication          : No active profile set, falling back to default profiles: default
2020-08-19 23:27:39.101  INFO 7388 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFERRED mode.
2020-08-19 23:27:39.238  INFO 7388 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 127ms. Found 10 JPA repository interfaces.
2020-08-19 23:27:40.000  INFO 7388 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8068 (http)
2020-08-19 23:27:40.016  INFO 7388 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2020-08-19 23:27:40.017  INFO 7388 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.36]
2020-08-19 23:27:40.266  INFO 7388 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2020-08-19 23:27:40.266  INFO 7388 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1969 ms
2020-08-19 23:27:40.455  INFO 7388 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2020-08-19 23:27:41.030  INFO 7388 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2020-08-19 23:27:42.612  INFO 7388 --- [main] liquibase.executor.jvm.JdbcExecutor      : SELECT COUNT(*) FROM logisticplatform.DATABASECHANGELOGLOCK
2020-08-19 23:27:42.623  INFO 7388 --- [main] liquibase.executor.jvm.JdbcExecutor      : SELECT COUNT(*) FROM logisticplatform.DATABASECHANGELOGLOCK
2020-08-19 23:27:42.627  INFO 7388 --- [main] liquibase.executor.jvm.JdbcExecutor      : SELECT `LOCKED` FROM logisticplatform.DATABASECHANGELOGLOCK WHERE ID=1
2020-08-19 23:27:42.702  INFO 7388 --- [main] l.lockservice.StandardLockService        : Successfully acquired change log lock
2020-08-19 23:27:45.600  INFO 7388 --- [main] liquibase.executor.jvm.JdbcExecutor      : SELECT MD5SUM FROM logisticplatform.DATABASECHANGELOG WHERE MD5SUM IS NOT NULL LIMIT 1
2020-08-19 23:27:45.601  INFO 7388 --- [main] liquibase.executor.jvm.JdbcExecutor      : SELECT COUNT(*) FROM logisticplatform.DATABASECHANGELOG
2020-08-19 23:27:45.603  INFO 7388 --- [main] l.c.StandardChangeLogHistoryService      : Reading from logisticplatform.DATABASECHANGELOG
2020-08-19 23:27:45.603  INFO 7388 --- [main] liquibase.executor.jvm.JdbcExecutor      : SELECT * FROM logisticplatform.DATABASECHANGELOG ORDER BY DATEEXECUTED ASC, ORDEREXECUTED ASC
2020-08-19 23:27:45.666  INFO 7388 --- [main] liquibase.executor.jvm.JdbcExecutor      : CREATE TABLE logisticplatform.rest_errors (id BIGINT AUTO_INCREMENT NOT NULL, code VARCHAR(20) NOT NULL, `description` VARCHAR(255) NOT NULL, CONSTRAINT PK_REST_ERRORS PRIMARY KEY (id), UNIQUE (code), UNIQUE (`description`))
2020-08-19 23:27:46.126  INFO 7388 --- [main] liquibase.changelog.ChangeSet            : Table rest_errors created
2020-08-19 23:27:46.127  INFO 7388 --- [main] liquibase.changelog.ChangeSet            : ChangeSet classpath:liquibase/db.changelog-1.0.xml::1.0.23::serg.perm ran successfully in 463ms
2020-08-19 23:27:46.129  INFO 7388 --- [main] liquibase.executor.jvm.JdbcExecutor      : SELECT MAX(ORDEREXECUTED) FROM logisticplatform.DATABASECHANGELOG
2020-08-19 23:27:46.131  INFO 7388 --- [main] liquibase.executor.jvm.JdbcExecutor      : INSERT INTO logisticplatform.DATABASECHANGELOG (ID, AUTHOR, FILENAME, DATEEXECUTED, ORDEREXECUTED, MD5SUM, `DESCRIPTION`, COMMENTS, EXECTYPE, CONTEXTS, LABELS, LIQUIBASE, DEPLOYMENT_ID) VALUES ('1.0.23', 'serg.perm', 'classpath:liquibase/db.changelog-1.0.xml', NOW(), 24, '8:bc0370cec9a24e7e482bb5c5e8a811df', 'createTable tableName=rest_errors', '', 'EXECUTED', NULL, NULL, '3.8.9', '7868865607')
2020-08-19 23:27:46.280  INFO 7388 --- [main] liquibase.executor.jvm.JdbcExecutor      : INSERT INTO logisticplatform.rest_errors (code) VALUES ('U001')
2020-08-19 23:27:46.309 ERROR 7388 --- [main] liquibase.changelog.ChangeSet            : Change Set classpath:liquibase/db.changelog-1.0.xml::1.0.24::serg.perm failed.  Error: Field 'description' doesn't have a default value [Failed SQL: (1364) INSERT INTO logisticplatform.rest_errors (code) VALUES ('U001')]
2020-08-19 23:27:46.433  INFO 7388 --- [main] l.lockservice.StandardLockService        : Successfully released change log lock
2020-08-19 23:27:46.435  WARN 7388 --- [main] ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'liquibase' defined in class path resource [org/springframework/boot/autoconfigure/liquibase/LiquibaseAutoConfiguration$LiquibaseConfiguration.class]: Invocation of init method failed; nested exception is liquibase.exception.MigrationFailedException: Migration failed for change set classpath:liquibase/db.changelog-1.0.xml::1.0.24::serg.perm:
     Reason: liquibase.exception.DatabaseException: Field 'description' doesn't have a default value [Failed SQL: (1364) INSERT INTO logisticplatform.rest_errors (code) VALUES ('U001')]
2020-08-19 23:27:46.439  INFO 7388 --- [main] o.apache.catalina.core.StandardService   : Stopping service [Tomcat]
2020-08-19 23:27:46.452  INFO 7388 --- [main] ConditionEvaluationReportLoggingListener : 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2020-08-19 23:27:46.468 ERROR 7388 --- [main] o.s.boot.SpringApplication               : Application run failed

org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'liquibase' defined in class path resource [org/springframework/boot/autoconfigure/liquibase/LiquibaseAutoConfiguration$LiquibaseConfiguration.class]: Invocation of init method failed; nested exception is liquibase.exception.MigrationFailedException: Migration failed for change set classpath:liquibase/db.changelog-1.0.xml::1.0.24::serg.perm:
     Reason: liquibase.exception.DatabaseException: Field 'description' doesn't have a default value [Failed SQL: (1364) INSERT INTO logisticplatform.rest_errors (code) VALUES ('U001')]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1796) ~[spring-beans-5.2.7.RELEASE.jar:5.2.7.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:595) ~[spring-beans-5.2.7.RELEASE.jar:5.2.7.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:517) ~[spring-beans-5.2.7.RELEASE.jar:5.2.7.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:323) ~[spring-beans-5.2.7.RELEASE.jar:5.2.7.RELEASE]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:226) ~[spring-beans-5.2.7.RELEASE.jar:5.2.7.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:321) ~[spring-beans-5.2.7.RELEASE.jar:5.2.7.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202) ~[spring-beans-5.2.7.RELEASE.jar:5.2.7.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:310) ~[spring-beans-5.2.7.RELEASE.jar:5.2.7.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202) ~[spring-beans-5.2.7.RELEASE.jar:5.2.7.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1109) ~[spring-context-5.2.7.RELEASE.jar:5.2.7.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:869) ~[spring-context-5.2.7.RELEASE.jar:5.2.7.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:551) ~[spring-context-5.2.7.RELEASE.jar:5.2.7.RELEASE]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:143) ~[spring-boot-2.3.1.RELEASE.jar:2.3.1.RELEASE]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:758) [spring-boot-2.3.1.RELEASE.jar:2.3.1.RELEASE]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:750) [spring-boot-2.3.1.RELEASE.jar:2.3.1.RELEASE]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:397) [spring-boot-2.3.1.RELEASE.jar:2.3.1.RELEASE]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:315) [spring-boot-2.3.1.RELEASE.jar:2.3.1.RELEASE]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1237) [spring-boot-2.3.1.RELEASE.jar:2.3.1.RELEASE]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1226) [spring-boot-2.3.1.RELEASE.jar:2.3.1.RELEASE]
	at ru.logisticplatform.LogisticPlatformApplication.main(LogisticPlatformApplication.java:10) [classes/:na]
Caused by: liquibase.exception.MigrationFailedException: Migration failed for change set classpath:liquibase/db.changelog-1.0.xml::1.0.24::serg.perm:
     Reason: liquibase.exception.DatabaseException: Field 'description' doesn't have a default value [Failed SQL: (1364) INSERT INTO logisticplatform.rest_errors (code) VALUES ('U001')]
	at liquibase.changelog.ChangeSet.execute(ChangeSet.java:646) ~[liquibase-core-3.8.9.jar:na]
	at liquibase.changelog.visitor.UpdateVisitor.visit(UpdateVisitor.java:53) ~[liquibase-core-3.8.9.jar:na]
	at liquibase.changelog.ChangeLogIterator.run(ChangeLogIterator.java:83) ~[liquibase-core-3.8.9.jar:na]
	at liquibase.Liquibase.update(Liquibase.java:202) ~[liquibase-core-3.8.9.jar:na]
	at liquibase.Liquibase.update(Liquibase.java:179) ~[liquibase-core-3.8.9.jar:na]
	at liquibase.integration.spring.SpringLiquibase.performUpdate(SpringLiquibase.java:366) ~[liquibase-core-3.8.9.jar:na]
	at liquibase.integration.spring.SpringLiquibase.afterPropertiesSet(SpringLiquibase.java:314) ~[liquibase-core-3.8.9.jar:na]
	at org.springframework.boot.autoconfigure.liquibase.DataSourceClosingSpringLiquibase.afterPropertiesSet(DataSourceClosingSpringLiquibase.java:46) ~[spring-boot-autoconfigure-2.3.1.RELEASE.jar:2.3.1.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1855) ~[spring-beans-5.2.7.RELEASE.jar:5.2.7.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1792) ~[spring-beans-5.2.7.RELEASE.jar:5.2.7.RELEASE]
	... 19 common frames omitted
Caused by: liquibase.exception.DatabaseException: Field 'description' doesn't have a default value [Failed SQL: (1364) INSERT INTO logisticplatform.rest_errors (code) VALUES ('U001')]
	at liquibase.executor.jvm.JdbcExecutor$ExecuteStatementCallback.doInStatement(JdbcExecutor.java:402) ~[liquibase-core-3.8.9.jar:na]
	at liquibase.executor.jvm.JdbcExecutor.execute(JdbcExecutor.java:59) ~[liquibase-core-3.8.9.jar:na]
	at liquibase.executor.jvm.JdbcExecutor.execute(JdbcExecutor.java:131) ~[liquibase-core-3.8.9.jar:na]
	at liquibase.database.AbstractJdbcDatabase.execute(AbstractJdbcDatabase.java:1276) ~[liquibase-core-3.8.9.jar:na]
	at liquibase.database.AbstractJdbcDatabase.executeStatements(AbstractJdbcDatabase.java:1258) ~[liquibase-core-3.8.9.jar:na]
	at liquibase.changelog.ChangeSet.execute(ChangeSet.java:609) ~[liquibase-core-3.8.9.jar:na]
	... 28 common frames omitted
Caused by: java.sql.SQLException: Field 'description' doesn't have a default value
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:129) ~[mysql-connector-java-8.0.19.jar:8.0.19]
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:97) ~[mysql-connector-java-8.0.19.jar:8.0.19]
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122) ~[mysql-connector-java-8.0.19.jar:8.0.19]
	at com.mysql.cj.jdbc.StatementImpl.executeInternal(StatementImpl.java:764) ~[mysql-connector-java-8.0.19.jar:8.0.19]
	at com.mysql.cj.jdbc.StatementImpl.execute(StatementImpl.java:648) ~[mysql-connector-java-8.0.19.jar:8.0.19]
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:95) ~[HikariCP-3.4.5.jar:na]
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java) ~[HikariCP-3.4.5.jar:na]
	at liquibase.executor.jvm.JdbcExecutor$ExecuteStatementCallback.doInStatement(JdbcExecutor.java:398) ~[liquibase-core-3.8.9.jar:na]
	... 33 common frames omitted

2020-08-19 23:30:36.123  INFO 16312 --- [main] r.l.LogisticPlatformApplication          : Starting LogisticPlatformApplication on DESKTOP-KQ9S95L with PID 16312 (G:\JAVA\avalon\VKR\_logisticplatform\logisticplatform\target\classes started by x in G:\JAVA\avalon\VKR\_logisticplatform\logisticplatform)
2020-08-19 23:30:36.132  INFO 16312 --- [main] r.l.LogisticPlatformApplication          : No active profile set, falling back to default profiles: default
2020-08-19 23:30:37.131  INFO 16312 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFERRED mode.
2020-08-19 23:30:37.289  INFO 16312 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 146ms. Found 10 JPA repository interfaces.
2020-08-19 23:30:38.013  INFO 16312 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8068 (http)
2020-08-19 23:30:38.023  INFO 16312 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2020-08-19 23:30:38.023  INFO 16312 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.36]
2020-08-19 23:30:38.258  INFO 16312 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2020-08-19 23:30:38.258  INFO 16312 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 2064 ms
2020-08-19 23:30:38.392  INFO 16312 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2020-08-19 23:30:38.935  INFO 16312 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2020-08-19 23:30:40.619  INFO 16312 --- [main] liquibase.executor.jvm.JdbcExecutor      : SELECT COUNT(*) FROM logisticplatform.DATABASECHANGELOGLOCK
2020-08-19 23:30:40.626  INFO 16312 --- [main] liquibase.executor.jvm.JdbcExecutor      : SELECT COUNT(*) FROM logisticplatform.DATABASECHANGELOGLOCK
2020-08-19 23:30:40.629  INFO 16312 --- [main] liquibase.executor.jvm.JdbcExecutor      : SELECT `LOCKED` FROM logisticplatform.DATABASECHANGELOGLOCK WHERE ID=1
2020-08-19 23:30:40.702  INFO 16312 --- [main] l.lockservice.StandardLockService        : Successfully acquired change log lock
2020-08-19 23:30:43.519  INFO 16312 --- [main] liquibase.executor.jvm.JdbcExecutor      : SELECT MD5SUM FROM logisticplatform.DATABASECHANGELOG WHERE MD5SUM IS NOT NULL LIMIT 1
2020-08-19 23:30:43.520  INFO 16312 --- [main] liquibase.executor.jvm.JdbcExecutor      : SELECT COUNT(*) FROM logisticplatform.DATABASECHANGELOG
2020-08-19 23:30:43.521  INFO 16312 --- [main] l.c.StandardChangeLogHistoryService      : Reading from logisticplatform.DATABASECHANGELOG
2020-08-19 23:30:43.522  INFO 16312 --- [main] liquibase.executor.jvm.JdbcExecutor      : SELECT * FROM logisticplatform.DATABASECHANGELOG ORDER BY DATEEXECUTED ASC, ORDEREXECUTED ASC
2020-08-19 23:30:43.581  INFO 16312 --- [main] liquibase.executor.jvm.JdbcExecutor      : INSERT INTO logisticplatform.rest_errors (code, `description`) VALUES ('U001', 'The customer is not found')
2020-08-19 23:30:43.582  INFO 16312 --- [main] liquibase.changelog.ChangeSet            : New row inserted into rest_errors
2020-08-19 23:30:43.667  INFO 16312 --- [main] liquibase.changelog.ChangeSet            : ChangeSet classpath:liquibase/db.changelog-1.0.xml::1.0.24::serg.perm ran successfully in 87ms
2020-08-19 23:30:43.669  INFO 16312 --- [main] liquibase.executor.jvm.JdbcExecutor      : SELECT MAX(ORDEREXECUTED) FROM logisticplatform.DATABASECHANGELOG
2020-08-19 23:30:43.672  INFO 16312 --- [main] liquibase.executor.jvm.JdbcExecutor      : INSERT INTO logisticplatform.DATABASECHANGELOG (ID, AUTHOR, FILENAME, DATEEXECUTED, ORDEREXECUTED, MD5SUM, `DESCRIPTION`, COMMENTS, EXECTYPE, CONTEXTS, LABELS, LIQUIBASE, DEPLOYMENT_ID) VALUES ('1.0.24', 'serg.perm', 'classpath:liquibase/db.changelog-1.0.xml', NOW(), 25, '8:72c357126b27892fe8410b8de2ebdbdc', 'insert tableName=rest_errors', '', 'EXECUTED', NULL, NULL, '3.8.9', '7869043526')
2020-08-19 23:30:43.830  INFO 16312 --- [main] l.lockservice.StandardLockService        : Successfully released change log lock
2020-08-19 23:30:43.831  INFO 16312 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2020-08-19 23:30:43.836  INFO 16312 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2020-08-19 23:30:43.923  INFO 16312 --- [main] o.s.s.concurrent.ThreadPoolTaskExecutor  : Initializing ExecutorService 'applicationTaskExecutor'
2020-08-19 23:30:43.936  INFO 16312 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-2 - Starting...
2020-08-19 23:30:43.936  WARN 16312 --- [main] com.zaxxer.hikari.util.DriverDataSource  : Registered driver with driverClassName=com.mysql.jdbc.Driver was not found, trying direct instantiation.
2020-08-19 23:30:43.967  INFO 16312 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-2 - Start completed.
2020-08-19 23:30:44.046  INFO 16312 --- [task-1] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2020-08-19 23:30:44.105  WARN 16312 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2020-08-19 23:30:44.113  INFO 16312 --- [task-1] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.4.17.Final
2020-08-19 23:30:44.291  INFO 16312 --- [task-1] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.0.Final}
2020-08-19 23:30:44.422  INFO 16312 --- [task-1] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2020-08-19 23:30:44.598 DEBUG 16312 --- [main] eGlobalAuthenticationAutowiredConfigurer : Eagerly initializing {org.springframework.boot.autoconfigure.security.servlet.WebSecurityEnablerConfiguration=org.springframework.boot.autoconfigure.security.servlet.WebSecurityEnablerConfiguration@73a116d}
2020-08-19 23:30:44.683 DEBUG 16312 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression 'permitAll', for Ant [pattern='/api/v1/sign/**']
2020-08-19 23:30:44.686 DEBUG 16312 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression 'hasRole('ROLE_ADMIN')', for Ant [pattern='/api/v1/admins/**']
2020-08-19 23:30:44.687 DEBUG 16312 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression 'hasRole('ROLE_CUSTOMER')', for Ant [pattern='/api/v1/customers/**']
2020-08-19 23:30:44.687 DEBUG 16312 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression 'hasRole('ROLE_CONTRACTOR')', for Ant [pattern='/api/v1/contractors/**']
2020-08-19 23:30:44.687 DEBUG 16312 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression 'hasAnyRole('ROLE_CONTRACTOR','ROLE_CUSTOMER')', for Ant [pattern='/api/v1/transporttypes/**']
2020-08-19 23:30:44.687 DEBUG 16312 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression 'authenticated', for any request
2020-08-19 23:30:44.694 DEBUG 16312 --- [main] o.s.s.w.a.i.FilterSecurityInterceptor    : Validated configuration attributes
2020-08-19 23:30:44.695 DEBUG 16312 --- [main] o.s.s.w.a.i.FilterSecurityInterceptor    : Validated configuration attributes
2020-08-19 23:30:44.697  INFO 16312 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: any request, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@31c5304f, org.springframework.security.web.context.SecurityContextPersistenceFilter@622ba721, org.springframework.security.web.header.HeaderWriterFilter@1c79d093, org.springframework.security.web.authentication.logout.LogoutFilter@2a504ea7, ru.logisticplatform.security.jwt.JwtTokenFilter@43df1377, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@7509226c, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@4d0b276e, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@1cee3e05, org.springframework.security.web.session.SessionManagementFilter@6aae82cc, org.springframework.security.web.access.ExceptionTranslationFilter@338270ea, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@3c5e4aac]
2020-08-19 23:30:44.934  INFO 16312 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8068 (http) with context path ''
2020-08-19 23:30:44.937  INFO 16312 --- [main] DeferredRepositoryInitializationListener : Triggering deferred initialization of Spring Data repositoriesâ€¦
2020-08-19 23:30:45.628  INFO 16312 --- [task-1] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2020-08-19 23:30:45.643  INFO 16312 --- [task-1] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2020-08-19 23:30:46.283  INFO 16312 --- [main] DeferredRepositoryInitializationListener : Spring Data repositories initialized!
2020-08-19 23:30:46.299  INFO 16312 --- [main] r.l.LogisticPlatformApplication          : Started LogisticPlatformApplication in 10.799 seconds (JVM running for 11.697)
2020-08-19 23:31:29.509  INFO 16312 --- [http-nio-8068-exec-2] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2020-08-19 23:31:29.509  INFO 16312 --- [http-nio-8068-exec-2] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2020-08-19 23:31:29.516  INFO 16312 --- [http-nio-8068-exec-2] o.s.web.servlet.DispatcherServlet        : Completed initialization in 7 ms
2020-08-19 23:31:29.528 DEBUG 16312 --- [http-nio-8068-exec-2] o.s.security.web.FilterChainProxy        : /api/v1/sign/in at position 1 of 11 in additional filter chain; firing Filter: 'WebAsyncManagerIntegrationFilter'
2020-08-19 23:31:29.529 DEBUG 16312 --- [http-nio-8068-exec-2] o.s.security.web.FilterChainProxy        : /api/v1/sign/in at position 2 of 11 in additional filter chain; firing Filter: 'SecurityContextPersistenceFilter'
2020-08-19 23:31:29.531 DEBUG 16312 --- [http-nio-8068-exec-2] o.s.security.web.FilterChainProxy        : /api/v1/sign/in at position 3 of 11 in additional filter chain; firing Filter: 'HeaderWriterFilter'
2020-08-19 23:31:29.533 DEBUG 16312 --- [http-nio-8068-exec-2] o.s.security.web.FilterChainProxy        : /api/v1/sign/in at position 4 of 11 in additional filter chain; firing Filter: 'LogoutFilter'
2020-08-19 23:31:29.533 DEBUG 16312 --- [http-nio-8068-exec-2] o.s.s.web.util.matcher.OrRequestMatcher  : Trying to match using Ant [pattern='/logout', GET]
2020-08-19 23:31:29.533 DEBUG 16312 --- [http-nio-8068-exec-2] o.s.s.w.u.matcher.AntPathRequestMatcher  : Request 'POST /api/v1/sign/in' doesn't match 'GET /logout'
2020-08-19 23:31:29.533 DEBUG 16312 --- [http-nio-8068-exec-2] o.s.s.web.util.matcher.OrRequestMatcher  : Trying to match using Ant [pattern='/logout', POST]
2020-08-19 23:31:29.533 DEBUG 16312 --- [http-nio-8068-exec-2] o.s.s.w.u.matcher.AntPathRequestMatcher  : Checking match of request : '/api/v1/sign/in'; against '/logout'
2020-08-19 23:31:29.533 DEBUG 16312 --- [http-nio-8068-exec-2] o.s.s.web.util.matcher.OrRequestMatcher  : Trying to match using Ant [pattern='/logout', PUT]
2020-08-19 23:31:29.533 DEBUG 16312 --- [http-nio-8068-exec-2] o.s.s.w.u.matcher.AntPathRequestMatcher  : Request 'POST /api/v1/sign/in' doesn't match 'PUT /logout'
2020-08-19 23:31:29.533 DEBUG 16312 --- [http-nio-8068-exec-2] o.s.s.web.util.matcher.OrRequestMatcher  : Trying to match using Ant [pattern='/logout', DELETE]
2020-08-19 23:31:29.534 DEBUG 16312 --- [http-nio-8068-exec-2] o.s.s.w.u.matcher.AntPathRequestMatcher  : Request 'POST /api/v1/sign/in' doesn't match 'DELETE /logout'
2020-08-19 23:31:29.534 DEBUG 16312 --- [http-nio-8068-exec-2] o.s.s.web.util.matcher.OrRequestMatcher  : No matches found
2020-08-19 23:31:29.534 DEBUG 16312 --- [http-nio-8068-exec-2] o.s.security.web.FilterChainProxy        : /api/v1/sign/in at position 5 of 11 in additional filter chain; firing Filter: 'JwtTokenFilter'
2020-08-19 23:31:29.534 DEBUG 16312 --- [http-nio-8068-exec-2] o.s.security.web.FilterChainProxy        : /api/v1/sign/in at position 6 of 11 in additional filter chain; firing Filter: 'RequestCacheAwareFilter'
2020-08-19 23:31:29.534 DEBUG 16312 --- [http-nio-8068-exec-2] o.s.security.web.FilterChainProxy        : /api/v1/sign/in at position 7 of 11 in additional filter chain; firing Filter: 'SecurityContextHolderAwareRequestFilter'
2020-08-19 23:31:29.535 DEBUG 16312 --- [http-nio-8068-exec-2] o.s.security.web.FilterChainProxy        : /api/v1/sign/in at position 8 of 11 in additional filter chain; firing Filter: 'AnonymousAuthenticationFilter'
2020-08-19 23:31:29.536 DEBUG 16312 --- [http-nio-8068-exec-2] o.s.s.w.a.AnonymousAuthenticationFilter  : Populated SecurityContextHolder with anonymous token: 'org.springframework.security.authentication.AnonymousAuthenticationToken@cb815a99: Principal: anonymousUser; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_ANONYMOUS'
2020-08-19 23:31:29.536 DEBUG 16312 --- [http-nio-8068-exec-2] o.s.security.web.FilterChainProxy        : /api/v1/sign/in at position 9 of 11 in additional filter chain; firing Filter: 'SessionManagementFilter'
2020-08-19 23:31:29.536 DEBUG 16312 --- [http-nio-8068-exec-2] o.s.security.web.FilterChainProxy        : /api/v1/sign/in at position 10 of 11 in additional filter chain; firing Filter: 'ExceptionTranslationFilter'
2020-08-19 23:31:29.536 DEBUG 16312 --- [http-nio-8068-exec-2] o.s.security.web.FilterChainProxy        : /api/v1/sign/in at position 11 of 11 in additional filter chain; firing Filter: 'FilterSecurityInterceptor'
2020-08-19 23:31:29.537 DEBUG 16312 --- [http-nio-8068-exec-2] o.s.s.w.u.matcher.AntPathRequestMatcher  : Checking match of request : '/api/v1/sign/in'; against '/api/v1/sign/**'
2020-08-19 23:31:29.537 DEBUG 16312 --- [http-nio-8068-exec-2] o.s.s.w.a.i.FilterSecurityInterceptor    : Secure object: FilterInvocation: URL: /api/v1/sign/in; Attributes: [permitAll]
2020-08-19 23:31:29.537 DEBUG 16312 --- [http-nio-8068-exec-2] o.s.s.w.a.i.FilterSecurityInterceptor    : Previously Authenticated: org.springframework.security.authentication.AnonymousAuthenticationToken@cb815a99: Principal: anonymousUser; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_ANONYMOUS
2020-08-19 23:31:29.543 DEBUG 16312 --- [http-nio-8068-exec-2] o.s.s.access.vote.AffirmativeBased       : Voter: org.springframework.security.web.access.expression.WebExpressionVoter@6b0f8c51, returned: 1
2020-08-19 23:31:29.543 DEBUG 16312 --- [http-nio-8068-exec-2] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorization successful
2020-08-19 23:31:29.543 DEBUG 16312 --- [http-nio-8068-exec-2] o.s.s.w.a.i.FilterSecurityInterceptor    : RunAsManager did not change Authentication object
2020-08-19 23:31:29.543 DEBUG 16312 --- [http-nio-8068-exec-2] o.s.security.web.FilterChainProxy        : /api/v1/sign/in reached end of additional filter chain; proceeding with original chain
2020-08-19 23:31:29.635 DEBUG 16312 --- [http-nio-8068-exec-2] o.s.s.authentication.ProviderManager     : Authentication attempt using org.springframework.security.authentication.dao.DaoAuthenticationProvider
2020-08-19 23:31:29.948  INFO 16312 --- [http-nio-8068-exec-2] r.l.service.user.impl.UserServiceImpl    : IN UserServiceImpl findByUsername - user: User{username='contractor2', firstName='firstName2', lastName='lastName2', email='email2@mail.ru', phone='79229797602', password='$2a$10$Uzl41xR.OUV7m1pFV0zRuO85fGWOWZNK2TY36aDr1gn5rn3uNZGU.', roles=[Role{id: 2, name: ROLE_CONTRACTOR}], userStatus=ACTIVE} found by userName: contractor2
2020-08-19 23:31:29.950  INFO 16312 --- [http-nio-8068-exec-2] r.l.security.JwtUserDetailsService       : IN loadUserByUsername - user with username: contractor2 successfully loaded
2020-08-19 23:31:30.073  INFO 16312 --- [http-nio-8068-exec-2] r.l.service.user.impl.UserServiceImpl    : IN UserServiceImpl findByUsername - user: User{username='contractor2', firstName='firstName2', lastName='lastName2', email='email2@mail.ru', phone='79229797602', password='$2a$10$Uzl41xR.OUV7m1pFV0zRuO85fGWOWZNK2TY36aDr1gn5rn3uNZGU.', roles=[Role{id: 2, name: ROLE_CONTRACTOR}], userStatus=ACTIVE} found by userName: contractor2
2020-08-19 23:31:30.134 DEBUG 16312 --- [http-nio-8068-exec-2] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match the requestMatcher org.springframework.security.web.header.writers.HstsHeaderWriter$SecureRequestMatcher@8174cf0
2020-08-19 23:31:30.141 DEBUG 16312 --- [http-nio-8068-exec-2] o.s.s.w.a.ExceptionTranslationFilter     : Chain processed normally
2020-08-19 23:31:30.142 DEBUG 16312 --- [http-nio-8068-exec-2] s.s.w.c.SecurityContextPersistenceFilter : SecurityContextHolder now cleared, as request processing completed
2020-08-19 23:32:00.652 DEBUG 16312 --- [http-nio-8068-exec-3] o.s.security.web.FilterChainProxy        : /api/v1/contractors/customers/customer3 at position 1 of 11 in additional filter chain; firing Filter: 'WebAsyncManagerIntegrationFilter'
2020-08-19 23:32:00.653 DEBUG 16312 --- [http-nio-8068-exec-3] o.s.security.web.FilterChainProxy        : /api/v1/contractors/customers/customer3 at position 2 of 11 in additional filter chain; firing Filter: 'SecurityContextPersistenceFilter'
2020-08-19 23:32:00.653 DEBUG 16312 --- [http-nio-8068-exec-3] o.s.security.web.FilterChainProxy        : /api/v1/contractors/customers/customer3 at position 3 of 11 in additional filter chain; firing Filter: 'HeaderWriterFilter'
2020-08-19 23:32:00.653 DEBUG 16312 --- [http-nio-8068-exec-3] o.s.security.web.FilterChainProxy        : /api/v1/contractors/customers/customer3 at position 4 of 11 in additional filter chain; firing Filter: 'LogoutFilter'
2020-08-19 23:32:00.653 DEBUG 16312 --- [http-nio-8068-exec-3] o.s.s.web.util.matcher.OrRequestMatcher  : Trying to match using Ant [pattern='/logout', GET]
2020-08-19 23:32:00.653 DEBUG 16312 --- [http-nio-8068-exec-3] o.s.s.w.u.matcher.AntPathRequestMatcher  : Checking match of request : '/api/v1/contractors/customers/customer3'; against '/logout'
2020-08-19 23:32:00.653 DEBUG 16312 --- [http-nio-8068-exec-3] o.s.s.web.util.matcher.OrRequestMatcher  : Trying to match using Ant [pattern='/logout', POST]
2020-08-19 23:32:00.654 DEBUG 16312 --- [http-nio-8068-exec-3] o.s.s.w.u.matcher.AntPathRequestMatcher  : Request 'GET /api/v1/contractors/customers/customer3' doesn't match 'POST /logout'
2020-08-19 23:32:00.654 DEBUG 16312 --- [http-nio-8068-exec-3] o.s.s.web.util.matcher.OrRequestMatcher  : Trying to match using Ant [pattern='/logout', PUT]
2020-08-19 23:32:00.654 DEBUG 16312 --- [http-nio-8068-exec-3] o.s.s.w.u.matcher.AntPathRequestMatcher  : Request 'GET /api/v1/contractors/customers/customer3' doesn't match 'PUT /logout'
2020-08-19 23:32:00.654 DEBUG 16312 --- [http-nio-8068-exec-3] o.s.s.web.util.matcher.OrRequestMatcher  : Trying to match using Ant [pattern='/logout', DELETE]
2020-08-19 23:32:00.654 DEBUG 16312 --- [http-nio-8068-exec-3] o.s.s.w.u.matcher.AntPathRequestMatcher  : Request 'GET /api/v1/contractors/customers/customer3' doesn't match 'DELETE /logout'
2020-08-19 23:32:00.654 DEBUG 16312 --- [http-nio-8068-exec-3] o.s.s.web.util.matcher.OrRequestMatcher  : No matches found
2020-08-19 23:32:00.654 DEBUG 16312 --- [http-nio-8068-exec-3] o.s.security.web.FilterChainProxy        : /api/v1/contractors/customers/customer3 at position 5 of 11 in additional filter chain; firing Filter: 'JwtTokenFilter'
2020-08-19 23:32:00.711  INFO 16312 --- [http-nio-8068-exec-3] r.l.service.user.impl.UserServiceImpl    : IN UserServiceImpl findByUsername - user: User{username='contractor2', firstName='firstName2', lastName='lastName2', email='email2@mail.ru', phone='79229797602', password='$2a$10$Uzl41xR.OUV7m1pFV0zRuO85fGWOWZNK2TY36aDr1gn5rn3uNZGU.', roles=[Role{id: 2, name: ROLE_CONTRACTOR}], userStatus=ACTIVE} found by userName: contractor2
2020-08-19 23:32:00.711  INFO 16312 --- [http-nio-8068-exec-3] r.l.security.JwtUserDetailsService       : IN loadUserByUsername - user with username: contractor2 successfully loaded
2020-08-19 23:32:00.711 DEBUG 16312 --- [http-nio-8068-exec-3] o.s.security.web.FilterChainProxy        : /api/v1/contractors/customers/customer3 at position 6 of 11 in additional filter chain; firing Filter: 'RequestCacheAwareFilter'
2020-08-19 23:32:00.712 DEBUG 16312 --- [http-nio-8068-exec-3] o.s.security.web.FilterChainProxy        : /api/v1/contractors/customers/customer3 at position 7 of 11 in additional filter chain; firing Filter: 'SecurityContextHolderAwareRequestFilter'
2020-08-19 23:32:00.712 DEBUG 16312 --- [http-nio-8068-exec-3] o.s.security.web.FilterChainProxy        : /api/v1/contractors/customers/customer3 at position 8 of 11 in additional filter chain; firing Filter: 'AnonymousAuthenticationFilter'
2020-08-19 23:32:00.712 DEBUG 16312 --- [http-nio-8068-exec-3] o.s.s.w.a.AnonymousAuthenticationFilter  : SecurityContextHolder not populated with anonymous token, as it already contained: 'org.springframework.security.authentication.UsernamePasswordAuthenticationToken@5988da47: Principal: ru.logisticplatform.security.jwt.JwtUser@4609005d; Credentials: [PROTECTED]; Authenticated: true; Details: null; Granted Authorities: ROLE_CONTRACTOR'
2020-08-19 23:32:00.712 DEBUG 16312 --- [http-nio-8068-exec-3] o.s.security.web.FilterChainProxy        : /api/v1/contractors/customers/customer3 at position 9 of 11 in additional filter chain; firing Filter: 'SessionManagementFilter'
2020-08-19 23:32:00.712 DEBUG 16312 --- [http-nio-8068-exec-3] s.CompositeSessionAuthenticationStrategy : Delegating to org.springframework.security.web.authentication.session.ChangeSessionIdAuthenticationStrategy@4f7ef948
2020-08-19 23:32:00.712 DEBUG 16312 --- [http-nio-8068-exec-3] o.s.security.web.FilterChainProxy        : /api/v1/contractors/customers/customer3 at position 10 of 11 in additional filter chain; firing Filter: 'ExceptionTranslationFilter'
2020-08-19 23:32:00.712 DEBUG 16312 --- [http-nio-8068-exec-3] o.s.security.web.FilterChainProxy        : /api/v1/contractors/customers/customer3 at position 11 of 11 in additional filter chain; firing Filter: 'FilterSecurityInterceptor'
2020-08-19 23:32:00.713 DEBUG 16312 --- [http-nio-8068-exec-3] o.s.s.w.u.matcher.AntPathRequestMatcher  : Checking match of request : '/api/v1/contractors/customers/customer3'; against '/api/v1/sign/**'
2020-08-19 23:32:00.713 DEBUG 16312 --- [http-nio-8068-exec-3] o.s.s.w.u.matcher.AntPathRequestMatcher  : Checking match of request : '/api/v1/contractors/customers/customer3'; against '/api/v1/admins/**'
2020-08-19 23:32:00.713 DEBUG 16312 --- [http-nio-8068-exec-3] o.s.s.w.u.matcher.AntPathRequestMatcher  : Checking match of request : '/api/v1/contractors/customers/customer3'; against '/api/v1/customers/**'
2020-08-19 23:32:00.713 DEBUG 16312 --- [http-nio-8068-exec-3] o.s.s.w.u.matcher.AntPathRequestMatcher  : Checking match of request : '/api/v1/contractors/customers/customer3'; against '/api/v1/contractors/**'
2020-08-19 23:32:00.713 DEBUG 16312 --- [http-nio-8068-exec-3] o.s.s.w.a.i.FilterSecurityInterceptor    : Secure object: FilterInvocation: URL: /api/v1/contractors/customers/customer3; Attributes: [hasRole('ROLE_CONTRACTOR')]
2020-08-19 23:32:00.713 DEBUG 16312 --- [http-nio-8068-exec-3] o.s.s.w.a.i.FilterSecurityInterceptor    : Previously Authenticated: org.springframework.security.authentication.UsernamePasswordAuthenticationToken@5988da47: Principal: ru.logisticplatform.security.jwt.JwtUser@4609005d; Credentials: [PROTECTED]; Authenticated: true; Details: null; Granted Authorities: ROLE_CONTRACTOR
2020-08-19 23:32:00.714 DEBUG 16312 --- [http-nio-8068-exec-3] o.s.s.access.vote.AffirmativeBased       : Voter: org.springframework.security.web.access.expression.WebExpressionVoter@6b0f8c51, returned: 1
2020-08-19 23:32:00.714 DEBUG 16312 --- [http-nio-8068-exec-3] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorization successful
2020-08-19 23:32:00.714 DEBUG 16312 --- [http-nio-8068-exec-3] o.s.s.w.a.i.FilterSecurityInterceptor    : RunAsManager did not change Authentication object
2020-08-19 23:32:00.714 DEBUG 16312 --- [http-nio-8068-exec-3] o.s.security.web.FilterChainProxy        : /api/v1/contractors/customers/customer3 reached end of additional filter chain; proceeding with original chain
2020-08-19 23:32:00.729  INFO 16312 --- [http-nio-8068-exec-3] r.l.service.user.impl.UserServiceImpl    : IN UserServiceImpl findByUsername - user: User{username='customer3', firstName='firstName3', lastName='lastName3', email='email3@mail.ru', phone='79339797603', password='$2a$10$xDCVWzkV0osns7uDyLOXKeqyzu6FgAFSQkYstDP95o.z61Bn9ghJq', roles=[Role{id: 3, name: ROLE_CUSTOMER}], userStatus=ACTIVE} found by userName: customer3
2020-08-19 23:32:00.815 DEBUG 16312 --- [http-nio-8068-exec-3] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match the requestMatcher org.springframework.security.web.header.writers.HstsHeaderWriter$SecureRequestMatcher@8174cf0
2020-08-19 23:32:00.816 DEBUG 16312 --- [http-nio-8068-exec-3] o.s.s.w.a.ExceptionTranslationFilter     : Chain processed normally
2020-08-19 23:32:00.816 DEBUG 16312 --- [http-nio-8068-exec-3] s.s.w.c.SecurityContextPersistenceFilter : SecurityContextHolder now cleared, as request processing completed
2020-08-19 23:32:04.690 DEBUG 16312 --- [http-nio-8068-exec-4] o.s.security.web.FilterChainProxy        : /api/v1/contractors/customers/customer33 at position 1 of 11 in additional filter chain; firing Filter: 'WebAsyncManagerIntegrationFilter'
2020-08-19 23:32:04.690 DEBUG 16312 --- [http-nio-8068-exec-4] o.s.security.web.FilterChainProxy        : /api/v1/contractors/customers/customer33 at position 2 of 11 in additional filter chain; firing Filter: 'SecurityContextPersistenceFilter'
2020-08-19 23:32:04.690 DEBUG 16312 --- [http-nio-8068-exec-4] o.s.security.web.FilterChainProxy        : /api/v1/contractors/customers/customer33 at position 3 of 11 in additional filter chain; firing Filter: 'HeaderWriterFilter'
2020-08-19 23:32:04.690 DEBUG 16312 --- [http-nio-8068-exec-4] o.s.security.web.FilterChainProxy        : /api/v1/contractors/customers/customer33 at position 4 of 11 in additional filter chain; firing Filter: 'LogoutFilter'
2020-08-19 23:32:04.691 DEBUG 16312 --- [http-nio-8068-exec-4] o.s.s.web.util.matcher.OrRequestMatcher  : Trying to match using Ant [pattern='/logout', GET]
2020-08-19 23:32:04.691 DEBUG 16312 --- [http-nio-8068-exec-4] o.s.s.w.u.matcher.AntPathRequestMatcher  : Checking match of request : '/api/v1/contractors/customers/customer33'; against '/logout'
2020-08-19 23:32:04.691 DEBUG 16312 --- [http-nio-8068-exec-4] o.s.s.web.util.matcher.OrRequestMatcher  : Trying to match using Ant [pattern='/logout', POST]
2020-08-19 23:32:04.691 DEBUG 16312 --- [http-nio-8068-exec-4] o.s.s.w.u.matcher.AntPathRequestMatcher  : Request 'GET /api/v1/contractors/customers/customer33' doesn't match 'POST /logout'
2020-08-19 23:32:04.691 DEBUG 16312 --- [http-nio-8068-exec-4] o.s.s.web.util.matcher.OrRequestMatcher  : Trying to match using Ant [pattern='/logout', PUT]
2020-08-19 23:32:04.691 DEBUG 16312 --- [http-nio-8068-exec-4] o.s.s.w.u.matcher.AntPathRequestMatcher  : Request 'GET /api/v1/contractors/customers/customer33' doesn't match 'PUT /logout'
2020-08-19 23:32:04.691 DEBUG 16312 --- [http-nio-8068-exec-4] o.s.s.web.util.matcher.OrRequestMatcher  : Trying to match using Ant [pattern='/logout', DELETE]
2020-08-19 23:32:04.691 DEBUG 16312 --- [http-nio-8068-exec-4] o.s.s.w.u.matcher.AntPathRequestMatcher  : Request 'GET /api/v1/contractors/customers/customer33' doesn't match 'DELETE /logout'
2020-08-19 23:32:04.691 DEBUG 16312 --- [http-nio-8068-exec-4] o.s.s.web.util.matcher.OrRequestMatcher  : No matches found
2020-08-19 23:32:04.691 DEBUG 16312 --- [http-nio-8068-exec-4] o.s.security.web.FilterChainProxy        : /api/v1/contractors/customers/customer33 at position 5 of 11 in additional filter chain; firing Filter: 'JwtTokenFilter'
2020-08-19 23:32:04.699  INFO 16312 --- [http-nio-8068-exec-4] r.l.service.user.impl.UserServiceImpl    : IN UserServiceImpl findByUsername - user: User{username='contractor2', firstName='firstName2', lastName='lastName2', email='email2@mail.ru', phone='79229797602', password='$2a$10$Uzl41xR.OUV7m1pFV0zRuO85fGWOWZNK2TY36aDr1gn5rn3uNZGU.', roles=[Role{id: 2, name: ROLE_CONTRACTOR}], userStatus=ACTIVE} found by userName: contractor2
2020-08-19 23:32:04.699  INFO 16312 --- [http-nio-8068-exec-4] r.l.security.JwtUserDetailsService       : IN loadUserByUsername - user with username: contractor2 successfully loaded
2020-08-19 23:32:04.699 DEBUG 16312 --- [http-nio-8068-exec-4] o.s.security.web.FilterChainProxy        : /api/v1/contractors/customers/customer33 at position 6 of 11 in additional filter chain; firing Filter: 'RequestCacheAwareFilter'
2020-08-19 23:32:04.699 DEBUG 16312 --- [http-nio-8068-exec-4] o.s.security.web.FilterChainProxy        : /api/v1/contractors/customers/customer33 at position 7 of 11 in additional filter chain; firing Filter: 'SecurityContextHolderAwareRequestFilter'
2020-08-19 23:32:04.699 DEBUG 16312 --- [http-nio-8068-exec-4] o.s.security.web.FilterChainProxy        : /api/v1/contractors/customers/customer33 at position 8 of 11 in additional filter chain; firing Filter: 'AnonymousAuthenticationFilter'
2020-08-19 23:32:04.699 DEBUG 16312 --- [http-nio-8068-exec-4] o.s.s.w.a.AnonymousAuthenticationFilter  : SecurityContextHolder not populated with anonymous token, as it already contained: 'org.springframework.security.authentication.UsernamePasswordAuthenticationToken@4a02f8bf: Principal: ru.logisticplatform.security.jwt.JwtUser@558322a5; Credentials: [PROTECTED]; Authenticated: true; Details: null; Granted Authorities: ROLE_CONTRACTOR'
2020-08-19 23:32:04.699 DEBUG 16312 --- [http-nio-8068-exec-4] o.s.security.web.FilterChainProxy        : /api/v1/contractors/customers/customer33 at position 9 of 11 in additional filter chain; firing Filter: 'SessionManagementFilter'
2020-08-19 23:32:04.700 DEBUG 16312 --- [http-nio-8068-exec-4] s.CompositeSessionAuthenticationStrategy : Delegating to org.springframework.security.web.authentication.session.ChangeSessionIdAuthenticationStrategy@4f7ef948
2020-08-19 23:32:04.700 DEBUG 16312 --- [http-nio-8068-exec-4] o.s.security.web.FilterChainProxy        : /api/v1/contractors/customers/customer33 at position 10 of 11 in additional filter chain; firing Filter: 'ExceptionTranslationFilter'
2020-08-19 23:32:04.700 DEBUG 16312 --- [http-nio-8068-exec-4] o.s.security.web.FilterChainProxy        : /api/v1/contractors/customers/customer33 at position 11 of 11 in additional filter chain; firing Filter: 'FilterSecurityInterceptor'
2020-08-19 23:32:04.700 DEBUG 16312 --- [http-nio-8068-exec-4] o.s.s.w.u.matcher.AntPathRequestMatcher  : Checking match of request : '/api/v1/contractors/customers/customer33'; against '/api/v1/sign/**'
2020-08-19 23:32:04.700 DEBUG 16312 --- [http-nio-8068-exec-4] o.s.s.w.u.matcher.AntPathRequestMatcher  : Checking match of request : '/api/v1/contractors/customers/customer33'; against '/api/v1/admins/**'
2020-08-19 23:32:04.700 DEBUG 16312 --- [http-nio-8068-exec-4] o.s.s.w.u.matcher.AntPathRequestMatcher  : Checking match of request : '/api/v1/contractors/customers/customer33'; against '/api/v1/customers/**'
2020-08-19 23:32:04.700 DEBUG 16312 --- [http-nio-8068-exec-4] o.s.s.w.u.matcher.AntPathRequestMatcher  : Checking match of request : '/api/v1/contractors/customers/customer33'; against '/api/v1/contractors/**'
2020-08-19 23:32:04.700 DEBUG 16312 --- [http-nio-8068-exec-4] o.s.s.w.a.i.FilterSecurityInterceptor    : Secure object: FilterInvocation: URL: /api/v1/contractors/customers/customer33; Attributes: [hasRole('ROLE_CONTRACTOR')]
2020-08-19 23:32:04.700 DEBUG 16312 --- [http-nio-8068-exec-4] o.s.s.w.a.i.FilterSecurityInterceptor    : Previously Authenticated: org.springframework.security.authentication.UsernamePasswordAuthenticationToken@4a02f8bf: Principal: ru.logisticplatform.security.jwt.JwtUser@558322a5; Credentials: [PROTECTED]; Authenticated: true; Details: null; Granted Authorities: ROLE_CONTRACTOR
2020-08-19 23:32:04.701 DEBUG 16312 --- [http-nio-8068-exec-4] o.s.s.access.vote.AffirmativeBased       : Voter: org.springframework.security.web.access.expression.WebExpressionVoter@6b0f8c51, returned: 1
2020-08-19 23:32:04.702 DEBUG 16312 --- [http-nio-8068-exec-4] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorization successful
2020-08-19 23:32:04.702 DEBUG 16312 --- [http-nio-8068-exec-4] o.s.s.w.a.i.FilterSecurityInterceptor    : RunAsManager did not change Authentication object
2020-08-19 23:32:04.702 DEBUG 16312 --- [http-nio-8068-exec-4] o.s.security.web.FilterChainProxy        : /api/v1/contractors/customers/customer33 reached end of additional filter chain; proceeding with original chain
2020-08-19 23:32:04.707  INFO 16312 --- [http-nio-8068-exec-4] r.l.service.user.impl.UserServiceImpl    : IN UserServiceImpl findByUsername - user: null found by userName: customer33
2020-08-19 23:32:04.737 DEBUG 16312 --- [http-nio-8068-exec-4] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match the requestMatcher org.springframework.security.web.header.writers.HstsHeaderWriter$SecureRequestMatcher@8174cf0
2020-08-19 23:32:04.740 DEBUG 16312 --- [http-nio-8068-exec-4] o.s.s.w.a.ExceptionTranslationFilter     : Chain processed normally
2020-08-19 23:32:04.740 DEBUG 16312 --- [http-nio-8068-exec-4] s.s.w.c.SecurityContextPersistenceFilter : SecurityContextHolder now cleared, as request processing completed
2020-08-19 23:34:55.105 DEBUG 16312 --- [http-nio-8068-exec-7] o.s.security.web.FilterChainProxy        : /api/v1/contractors/customers/customer3 at position 1 of 11 in additional filter chain; firing Filter: 'WebAsyncManagerIntegrationFilter'
2020-08-19 23:34:55.106 DEBUG 16312 --- [http-nio-8068-exec-7] o.s.security.web.FilterChainProxy        : /api/v1/contractors/customers/customer3 at position 2 of 11 in additional filter chain; firing Filter: 'SecurityContextPersistenceFilter'
2020-08-19 23:34:55.106 DEBUG 16312 --- [http-nio-8068-exec-7] o.s.security.web.FilterChainProxy        : /api/v1/contractors/customers/customer3 at position 3 of 11 in additional filter chain; firing Filter: 'HeaderWriterFilter'
2020-08-19 23:34:55.106 DEBUG 16312 --- [http-nio-8068-exec-7] o.s.security.web.FilterChainProxy        : /api/v1/contractors/customers/customer3 at position 4 of 11 in additional filter chain; firing Filter: 'LogoutFilter'
2020-08-19 23:34:55.106 DEBUG 16312 --- [http-nio-8068-exec-7] o.s.s.web.util.matcher.OrRequestMatcher  : Trying to match using Ant [pattern='/logout', GET]
2020-08-19 23:34:55.106 DEBUG 16312 --- [http-nio-8068-exec-7] o.s.s.w.u.matcher.AntPathRequestMatcher  : Checking match of request : '/api/v1/contractors/customers/customer3'; against '/logout'
2020-08-19 23:34:55.106 DEBUG 16312 --- [http-nio-8068-exec-7] o.s.s.web.util.matcher.OrRequestMatcher  : Trying to match using Ant [pattern='/logout', POST]
2020-08-19 23:34:55.106 DEBUG 16312 --- [http-nio-8068-exec-7] o.s.s.w.u.matcher.AntPathRequestMatcher  : Request 'GET /api/v1/contractors/customers/customer3' doesn't match 'POST /logout'
2020-08-19 23:34:55.106 DEBUG 16312 --- [http-nio-8068-exec-7] o.s.s.web.util.matcher.OrRequestMatcher  : Trying to match using Ant [pattern='/logout', PUT]
2020-08-19 23:34:55.106 DEBUG 16312 --- [http-nio-8068-exec-7] o.s.s.w.u.matcher.AntPathRequestMatcher  : Request 'GET /api/v1/contractors/customers/customer3' doesn't match 'PUT /logout'
2020-08-19 23:34:55.106 DEBUG 16312 --- [http-nio-8068-exec-7] o.s.s.web.util.matcher.OrRequestMatcher  : Trying to match using Ant [pattern='/logout', DELETE]
2020-08-19 23:34:55.107 DEBUG 16312 --- [http-nio-8068-exec-7] o.s.s.w.u.matcher.AntPathRequestMatcher  : Request 'GET /api/v1/contractors/customers/customer3' doesn't match 'DELETE /logout'
2020-08-19 23:34:55.107 DEBUG 16312 --- [http-nio-8068-exec-7] o.s.s.web.util.matcher.OrRequestMatcher  : No matches found
2020-08-19 23:34:55.107 DEBUG 16312 --- [http-nio-8068-exec-7] o.s.security.web.FilterChainProxy        : /api/v1/contractors/customers/customer3 at position 5 of 11 in additional filter chain; firing Filter: 'JwtTokenFilter'
2020-08-19 23:34:55.117  INFO 16312 --- [http-nio-8068-exec-7] r.l.service.user.impl.UserServiceImpl    : IN UserServiceImpl findByUsername - user: User{username='contractor2', firstName='firstName2', lastName='lastName2', email='email2@mail.ru', phone='79229797602', password='$2a$10$Uzl41xR.OUV7m1pFV0zRuO85fGWOWZNK2TY36aDr1gn5rn3uNZGU.', roles=[Role{id: 2, name: ROLE_CONTRACTOR}], userStatus=ACTIVE} found by userName: contractor2
2020-08-19 23:34:55.117  INFO 16312 --- [http-nio-8068-exec-7] r.l.security.JwtUserDetailsService       : IN loadUserByUsername - user with username: contractor2 successfully loaded
2020-08-19 23:34:55.117 DEBUG 16312 --- [http-nio-8068-exec-7] o.s.security.web.FilterChainProxy        : /api/v1/contractors/customers/customer3 at position 6 of 11 in additional filter chain; firing Filter: 'RequestCacheAwareFilter'
2020-08-19 23:34:55.117 DEBUG 16312 --- [http-nio-8068-exec-7] o.s.security.web.FilterChainProxy        : /api/v1/contractors/customers/customer3 at position 7 of 11 in additional filter chain; firing Filter: 'SecurityContextHolderAwareRequestFilter'
2020-08-19 23:34:55.117 DEBUG 16312 --- [http-nio-8068-exec-7] o.s.security.web.FilterChainProxy        : /api/v1/contractors/customers/customer3 at position 8 of 11 in additional filter chain; firing Filter: 'AnonymousAuthenticationFilter'
2020-08-19 23:34:55.117 DEBUG 16312 --- [http-nio-8068-exec-7] o.s.s.w.a.AnonymousAuthenticationFilter  : SecurityContextHolder not populated with anonymous token, as it already contained: 'org.springframework.security.authentication.UsernamePasswordAuthenticationToken@4697d2e0: Principal: ru.logisticplatform.security.jwt.JwtUser@591608fa; Credentials: [PROTECTED]; Authenticated: true; Details: null; Granted Authorities: ROLE_CONTRACTOR'
2020-08-19 23:34:55.117 DEBUG 16312 --- [http-nio-8068-exec-7] o.s.security.web.FilterChainProxy        : /api/v1/contractors/customers/customer3 at position 9 of 11 in additional filter chain; firing Filter: 'SessionManagementFilter'
2020-08-19 23:34:55.117 DEBUG 16312 --- [http-nio-8068-exec-7] s.CompositeSessionAuthenticationStrategy : Delegating to org.springframework.security.web.authentication.session.ChangeSessionIdAuthenticationStrategy@4f7ef948
2020-08-19 23:34:55.117 DEBUG 16312 --- [http-nio-8068-exec-7] o.s.security.web.FilterChainProxy        : /api/v1/contractors/customers/customer3 at position 10 of 11 in additional filter chain; firing Filter: 'ExceptionTranslationFilter'
2020-08-19 23:34:55.118 DEBUG 16312 --- [http-nio-8068-exec-7] o.s.security.web.FilterChainProxy        : /api/v1/contractors/customers/customer3 at position 11 of 11 in additional filter chain; firing Filter: 'FilterSecurityInterceptor'
2020-08-19 23:34:55.118 DEBUG 16312 --- [http-nio-8068-exec-7] o.s.s.w.u.matcher.AntPathRequestMatcher  : Checking match of request : '/api/v1/contractors/customers/customer3'; against '/api/v1/sign/**'
2020-08-19 23:34:55.118 DEBUG 16312 --- [http-nio-8068-exec-7] o.s.s.w.u.matcher.AntPathRequestMatcher  : Checking match of request : '/api/v1/contractors/customers/customer3'; against '/api/v1/admins/**'
2020-08-19 23:34:55.118 DEBUG 16312 --- [http-nio-8068-exec-7] o.s.s.w.u.matcher.AntPathRequestMatcher  : Checking match of request : '/api/v1/contractors/customers/customer3'; against '/api/v1/customers/**'
2020-08-19 23:34:55.118 DEBUG 16312 --- [http-nio-8068-exec-7] o.s.s.w.u.matcher.AntPathRequestMatcher  : Checking match of request : '/api/v1/contractors/customers/customer3'; against '/api/v1/contractors/**'
2020-08-19 23:34:55.118 DEBUG 16312 --- [http-nio-8068-exec-7] o.s.s.w.a.i.FilterSecurityInterceptor    : Secure object: FilterInvocation: URL: /api/v1/contractors/customers/customer3; Attributes: [hasRole('ROLE_CONTRACTOR')]
2020-08-19 23:34:55.118 DEBUG 16312 --- [http-nio-8068-exec-7] o.s.s.w.a.i.FilterSecurityInterceptor    : Previously Authenticated: org.springframework.security.authentication.UsernamePasswordAuthenticationToken@4697d2e0: Principal: ru.logisticplatform.security.jwt.JwtUser@591608fa; Credentials: [PROTECTED]; Authenticated: true; Details: null; Granted Authorities: ROLE_CONTRACTOR
2020-08-19 23:34:55.118 DEBUG 16312 --- [http-nio-8068-exec-7] o.s.s.access.vote.AffirmativeBased       : Voter: org.springframework.security.web.access.expression.WebExpressionVoter@6b0f8c51, returned: 1
2020-08-19 23:34:55.118 DEBUG 16312 --- [http-nio-8068-exec-7] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorization successful
2020-08-19 23:34:55.118 DEBUG 16312 --- [http-nio-8068-exec-7] o.s.s.w.a.i.FilterSecurityInterceptor    : RunAsManager did not change Authentication object
2020-08-19 23:34:55.118 DEBUG 16312 --- [http-nio-8068-exec-7] o.s.security.web.FilterChainProxy        : /api/v1/contractors/customers/customer3 reached end of additional filter chain; proceeding with original chain
2020-08-19 23:34:55.124  INFO 16312 --- [http-nio-8068-exec-7] r.l.service.user.impl.UserServiceImpl    : IN UserServiceImpl findByUsername - user: User{username='customer3', firstName='firstName3', lastName='lastName3', email='email3@mail.ru', phone='79339797603', password='$2a$10$xDCVWzkV0osns7uDyLOXKeqyzu6FgAFSQkYstDP95o.z61Bn9ghJq', roles=[Role{id: 3, name: ROLE_CUSTOMER}], userStatus=ACTIVE} found by userName: customer3
2020-08-19 23:34:55.126 DEBUG 16312 --- [http-nio-8068-exec-7] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match the requestMatcher org.springframework.security.web.header.writers.HstsHeaderWriter$SecureRequestMatcher@8174cf0
2020-08-19 23:34:55.127 DEBUG 16312 --- [http-nio-8068-exec-7] o.s.s.w.a.ExceptionTranslationFilter     : Chain processed normally
2020-08-19 23:34:55.127 DEBUG 16312 --- [http-nio-8068-exec-7] s.s.w.c.SecurityContextPersistenceFilter : SecurityContextHolder now cleared, as request processing completed
2020-08-19 23:37:11.301 DEBUG 16312 --- [http-nio-8068-exec-10] o.s.security.web.FilterChainProxy        : /api/v1/contractors/customers/customer33 at position 1 of 11 in additional filter chain; firing Filter: 'WebAsyncManagerIntegrationFilter'
2020-08-19 23:37:11.302 DEBUG 16312 --- [http-nio-8068-exec-10] o.s.security.web.FilterChainProxy        : /api/v1/contractors/customers/customer33 at position 2 of 11 in additional filter chain; firing Filter: 'SecurityContextPersistenceFilter'
2020-08-19 23:37:11.302 DEBUG 16312 --- [http-nio-8068-exec-10] o.s.security.web.FilterChainProxy        : /api/v1/contractors/customers/customer33 at position 3 of 11 in additional filter chain; firing Filter: 'HeaderWriterFilter'
2020-08-19 23:37:11.302 DEBUG 16312 --- [http-nio-8068-exec-10] o.s.security.web.FilterChainProxy        : /api/v1/contractors/customers/customer33 at position 4 of 11 in additional filter chain; firing Filter: 'LogoutFilter'
2020-08-19 23:37:11.302 DEBUG 16312 --- [http-nio-8068-exec-10] o.s.s.web.util.matcher.OrRequestMatcher  : Trying to match using Ant [pattern='/logout', GET]
2020-08-19 23:37:11.302 DEBUG 16312 --- [http-nio-8068-exec-10] o.s.s.w.u.matcher.AntPathRequestMatcher  : Checking match of request : '/api/v1/contractors/customers/customer33'; against '/logout'
2020-08-19 23:37:11.302 DEBUG 16312 --- [http-nio-8068-exec-10] o.s.s.web.util.matcher.OrRequestMatcher  : Trying to match using Ant [pattern='/logout', POST]
2020-08-19 23:37:11.302 DEBUG 16312 --- [http-nio-8068-exec-10] o.s.s.w.u.matcher.AntPathRequestMatcher  : Request 'GET /api/v1/contractors/customers/customer33' doesn't match 'POST /logout'
2020-08-19 23:37:11.302 DEBUG 16312 --- [http-nio-8068-exec-10] o.s.s.web.util.matcher.OrRequestMatcher  : Trying to match using Ant [pattern='/logout', PUT]
2020-08-19 23:37:11.302 DEBUG 16312 --- [http-nio-8068-exec-10] o.s.s.w.u.matcher.AntPathRequestMatcher  : Request 'GET /api/v1/contractors/customers/customer33' doesn't match 'PUT /logout'
2020-08-19 23:37:11.302 DEBUG 16312 --- [http-nio-8068-exec-10] o.s.s.web.util.matcher.OrRequestMatcher  : Trying to match using Ant [pattern='/logout', DELETE]
2020-08-19 23:37:11.302 DEBUG 16312 --- [http-nio-8068-exec-10] o.s.s.w.u.matcher.AntPathRequestMatcher  : Request 'GET /api/v1/contractors/customers/customer33' doesn't match 'DELETE /logout'
2020-08-19 23:37:11.303 DEBUG 16312 --- [http-nio-8068-exec-10] o.s.s.web.util.matcher.OrRequestMatcher  : No matches found
2020-08-19 23:37:11.303 DEBUG 16312 --- [http-nio-8068-exec-10] o.s.security.web.FilterChainProxy        : /api/v1/contractors/customers/customer33 at position 5 of 11 in additional filter chain; firing Filter: 'JwtTokenFilter'
2020-08-19 23:37:11.309  INFO 16312 --- [http-nio-8068-exec-10] r.l.service.user.impl.UserServiceImpl    : IN UserServiceImpl findByUsername - user: User{username='contractor2', firstName='firstName2', lastName='lastName2', email='email2@mail.ru', phone='79229797602', password='$2a$10$Uzl41xR.OUV7m1pFV0zRuO85fGWOWZNK2TY36aDr1gn5rn3uNZGU.', roles=[Role{id: 2, name: ROLE_CONTRACTOR}], userStatus=ACTIVE} found by userName: contractor2
2020-08-19 23:37:11.310  INFO 16312 --- [http-nio-8068-exec-10] r.l.security.JwtUserDetailsService       : IN loadUserByUsername - user with username: contractor2 successfully loaded
2020-08-19 23:37:11.310 DEBUG 16312 --- [http-nio-8068-exec-10] o.s.security.web.FilterChainProxy        : /api/v1/contractors/customers/customer33 at position 6 of 11 in additional filter chain; firing Filter: 'RequestCacheAwareFilter'
2020-08-19 23:37:11.310 DEBUG 16312 --- [http-nio-8068-exec-10] o.s.security.web.FilterChainProxy        : /api/v1/contractors/customers/customer33 at position 7 of 11 in additional filter chain; firing Filter: 'SecurityContextHolderAwareRequestFilter'
2020-08-19 23:37:11.310 DEBUG 16312 --- [http-nio-8068-exec-10] o.s.security.web.FilterChainProxy        : /api/v1/contractors/customers/customer33 at position 8 of 11 in additional filter chain; firing Filter: 'AnonymousAuthenticationFilter'
2020-08-19 23:37:11.310 DEBUG 16312 --- [http-nio-8068-exec-10] o.s.s.w.a.AnonymousAuthenticationFilter  : SecurityContextHolder not populated with anonymous token, as it already contained: 'org.springframework.security.authentication.UsernamePasswordAuthenticationToken@23986e6b: Principal: ru.logisticplatform.security.jwt.JwtUser@3c19b471; Credentials: [PROTECTED]; Authenticated: true; Details: null; Granted Authorities: ROLE_CONTRACTOR'
2020-08-19 23:37:11.310 DEBUG 16312 --- [http-nio-8068-exec-10] o.s.security.web.FilterChainProxy        : /api/v1/contractors/customers/customer33 at position 9 of 11 in additional filter chain; firing Filter: 'SessionManagementFilter'
2020-08-19 23:37:11.310 DEBUG 16312 --- [http-nio-8068-exec-10] s.CompositeSessionAuthenticationStrategy : Delegating to org.springframework.security.web.authentication.session.ChangeSessionIdAuthenticationStrategy@4f7ef948
2020-08-19 23:37:11.310 DEBUG 16312 --- [http-nio-8068-exec-10] o.s.security.web.FilterChainProxy        : /api/v1/contractors/customers/customer33 at position 10 of 11 in additional filter chain; firing Filter: 'ExceptionTranslationFilter'
2020-08-19 23:37:11.310 DEBUG 16312 --- [http-nio-8068-exec-10] o.s.security.web.FilterChainProxy        : /api/v1/contractors/customers/customer33 at position 11 of 11 in additional filter chain; firing Filter: 'FilterSecurityInterceptor'
2020-08-19 23:37:11.310 DEBUG 16312 --- [http-nio-8068-exec-10] o.s.s.w.u.matcher.AntPathRequestMatcher  : Checking match of request : '/api/v1/contractors/customers/customer33'; against '/api/v1/sign/**'
2020-08-19 23:37:11.310 DEBUG 16312 --- [http-nio-8068-exec-10] o.s.s.w.u.matcher.AntPathRequestMatcher  : Checking match of request : '/api/v1/contractors/customers/customer33'; against '/api/v1/admins/**'
2020-08-19 23:37:11.310 DEBUG 16312 --- [http-nio-8068-exec-10] o.s.s.w.u.matcher.AntPathRequestMatcher  : Checking match of request : '/api/v1/contractors/customers/customer33'; against '/api/v1/customers/**'
2020-08-19 23:37:11.310 DEBUG 16312 --- [http-nio-8068-exec-10] o.s.s.w.u.matcher.AntPathRequestMatcher  : Checking match of request : '/api/v1/contractors/customers/customer33'; against '/api/v1/contractors/**'
2020-08-19 23:37:11.310 DEBUG 16312 --- [http-nio-8068-exec-10] o.s.s.w.a.i.FilterSecurityInterceptor    : Secure object: FilterInvocation: URL: /api/v1/contractors/customers/customer33; Attributes: [hasRole('ROLE_CONTRACTOR')]
2020-08-19 23:37:11.311 DEBUG 16312 --- [http-nio-8068-exec-10] o.s.s.w.a.i.FilterSecurityInterceptor    : Previously Authenticated: org.springframework.security.authentication.UsernamePasswordAuthenticationToken@23986e6b: Principal: ru.logisticplatform.security.jwt.JwtUser@3c19b471; Credentials: [PROTECTED]; Authenticated: true; Details: null; Granted Authorities: ROLE_CONTRACTOR
2020-08-19 23:37:11.311 DEBUG 16312 --- [http-nio-8068-exec-10] o.s.s.access.vote.AffirmativeBased       : Voter: org.springframework.security.web.access.expression.WebExpressionVoter@6b0f8c51, returned: 1
2020-08-19 23:37:11.311 DEBUG 16312 --- [http-nio-8068-exec-10] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorization successful
2020-08-19 23:37:11.311 DEBUG 16312 --- [http-nio-8068-exec-10] o.s.s.w.a.i.FilterSecurityInterceptor    : RunAsManager did not change Authentication object
2020-08-19 23:37:11.311 DEBUG 16312 --- [http-nio-8068-exec-10] o.s.security.web.FilterChainProxy        : /api/v1/contractors/customers/customer33 reached end of additional filter chain; proceeding with original chain
2020-08-19 23:37:11.314  INFO 16312 --- [http-nio-8068-exec-10] r.l.service.user.impl.UserServiceImpl    : IN UserServiceImpl findByUsername - user: null found by userName: customer33
2020-08-19 23:37:11.319 DEBUG 16312 --- [http-nio-8068-exec-10] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match the requestMatcher org.springframework.security.web.header.writers.HstsHeaderWriter$SecureRequestMatcher@8174cf0
2020-08-19 23:37:11.321 DEBUG 16312 --- [http-nio-8068-exec-10] o.s.s.w.a.ExceptionTranslationFilter     : Chain processed normally
2020-08-19 23:37:11.321 DEBUG 16312 --- [http-nio-8068-exec-10] s.s.w.c.SecurityContextPersistenceFilter : SecurityContextHolder now cleared, as request processing completed
2020-08-19 23:46:18.935  INFO 9932 --- [main] r.l.LogisticPlatformApplication          : Starting LogisticPlatformApplication on DESKTOP-KQ9S95L with PID 9932 (G:\JAVA\avalon\VKR\_logisticplatform\logisticplatform\target\classes started by x in G:\JAVA\avalon\VKR\_logisticplatform\logisticplatform)
2020-08-19 23:46:18.951  INFO 9932 --- [main] r.l.LogisticPlatformApplication          : No active profile set, falling back to default profiles: default
2020-08-19 23:46:19.921  INFO 9932 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFERRED mode.
2020-08-19 23:46:20.052  INFO 9932 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 121ms. Found 10 JPA repository interfaces.
2020-08-19 23:46:20.655  INFO 9932 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8068 (http)
2020-08-19 23:46:20.671  INFO 9932 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2020-08-19 23:46:20.671  INFO 9932 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.36]
2020-08-19 23:46:20.825  INFO 9932 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2020-08-19 23:46:20.840  INFO 9932 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1820 ms
2020-08-19 23:46:20.972  INFO 9932 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2020-08-19 23:46:21.458  INFO 9932 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2020-08-19 23:46:22.761  INFO 9932 --- [main] liquibase.executor.jvm.JdbcExecutor      : SELECT COUNT(*) FROM logisticplatform.DATABASECHANGELOGLOCK
2020-08-19 23:46:22.761  INFO 9932 --- [main] liquibase.executor.jvm.JdbcExecutor      : SELECT COUNT(*) FROM logisticplatform.DATABASECHANGELOGLOCK
2020-08-19 23:46:22.761  INFO 9932 --- [main] liquibase.executor.jvm.JdbcExecutor      : SELECT `LOCKED` FROM logisticplatform.DATABASECHANGELOGLOCK WHERE ID=1
2020-08-19 23:46:22.846  INFO 9932 --- [main] l.lockservice.StandardLockService        : Successfully acquired change log lock
2020-08-19 23:46:24.936  INFO 9932 --- [main] liquibase.executor.jvm.JdbcExecutor      : SELECT MD5SUM FROM logisticplatform.DATABASECHANGELOG WHERE MD5SUM IS NOT NULL LIMIT 1
2020-08-19 23:46:24.936  INFO 9932 --- [main] liquibase.executor.jvm.JdbcExecutor      : SELECT COUNT(*) FROM logisticplatform.DATABASECHANGELOG
2020-08-19 23:46:24.936  INFO 9932 --- [main] l.c.StandardChangeLogHistoryService      : Reading from logisticplatform.DATABASECHANGELOG
2020-08-19 23:46:24.936  INFO 9932 --- [main] liquibase.executor.jvm.JdbcExecutor      : SELECT * FROM logisticplatform.DATABASECHANGELOG ORDER BY DATEEXECUTED ASC, ORDEREXECUTED ASC
2020-08-19 23:46:24.998  INFO 9932 --- [main] liquibase.executor.jvm.JdbcExecutor      : INSERT INTO logisticplatform.rest_errors (code, `description`) VALUES ('U002', 'The user is not found')
2020-08-19 23:46:24.998  INFO 9932 --- [main] liquibase.changelog.ChangeSet            : New row inserted into rest_errors
2020-08-19 23:46:25.067  INFO 9932 --- [main] liquibase.changelog.ChangeSet            : ChangeSet classpath:liquibase/db.changelog-1.0.xml::1.0.25::serg.perm ran successfully in 69ms
2020-08-19 23:46:25.067  INFO 9932 --- [main] liquibase.executor.jvm.JdbcExecutor      : SELECT MAX(ORDEREXECUTED) FROM logisticplatform.DATABASECHANGELOG
2020-08-19 23:46:25.067  INFO 9932 --- [main] liquibase.executor.jvm.JdbcExecutor      : INSERT INTO logisticplatform.DATABASECHANGELOG (ID, AUTHOR, FILENAME, DATEEXECUTED, ORDEREXECUTED, MD5SUM, `DESCRIPTION`, COMMENTS, EXECTYPE, CONTEXTS, LABELS, LIQUIBASE, DEPLOYMENT_ID) VALUES ('1.0.25', 'serg.perm', 'classpath:liquibase/db.changelog-1.0.xml', NOW(), 26, '8:30635c359a712e09b8fcc76f4394c4a7', 'insert tableName=rest_errors', '', 'EXECUTED', NULL, NULL, '3.8.9', '7869984936')
2020-08-19 23:46:25.183  INFO 9932 --- [main] l.lockservice.StandardLockService        : Successfully released change log lock
2020-08-19 23:46:25.183  INFO 9932 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2020-08-19 23:46:25.183  INFO 9932 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2020-08-19 23:46:25.283  INFO 9932 --- [main] o.s.s.concurrent.ThreadPoolTaskExecutor  : Initializing ExecutorService 'applicationTaskExecutor'
2020-08-19 23:46:25.283  INFO 9932 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-2 - Starting...
2020-08-19 23:46:25.283  WARN 9932 --- [main] com.zaxxer.hikari.util.DriverDataSource  : Registered driver with driverClassName=com.mysql.jdbc.Driver was not found, trying direct instantiation.
2020-08-19 23:46:25.299  INFO 9932 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-2 - Start completed.
2020-08-19 23:46:25.352  INFO 9932 --- [task-1] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2020-08-19 23:46:25.399  WARN 9932 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2020-08-19 23:46:25.399  INFO 9932 --- [task-1] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.4.17.Final
2020-08-19 23:46:25.569  INFO 9932 --- [task-1] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.0.Final}
2020-08-19 23:46:25.700  INFO 9932 --- [task-1] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2020-08-19 23:46:25.869 DEBUG 9932 --- [main] eGlobalAuthenticationAutowiredConfigurer : Eagerly initializing {org.springframework.boot.autoconfigure.security.servlet.WebSecurityEnablerConfiguration=org.springframework.boot.autoconfigure.security.servlet.WebSecurityEnablerConfiguration@aa23f11}
2020-08-19 23:46:25.954 DEBUG 9932 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression 'permitAll', for Ant [pattern='/api/v1/sign/**']
2020-08-19 23:46:25.954 DEBUG 9932 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression 'hasRole('ROLE_ADMIN')', for Ant [pattern='/api/v1/admins/**']
2020-08-19 23:46:25.954 DEBUG 9932 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression 'hasRole('ROLE_CUSTOMER')', for Ant [pattern='/api/v1/customers/**']
2020-08-19 23:46:25.954 DEBUG 9932 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression 'hasRole('ROLE_CONTRACTOR')', for Ant [pattern='/api/v1/contractors/**']
2020-08-19 23:46:25.954 DEBUG 9932 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression 'hasAnyRole('ROLE_CONTRACTOR','ROLE_CUSTOMER')', for Ant [pattern='/api/v1/transporttypes/**']
2020-08-19 23:46:25.954 DEBUG 9932 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression 'authenticated', for any request
2020-08-19 23:46:25.954 DEBUG 9932 --- [main] o.s.s.w.a.i.FilterSecurityInterceptor    : Validated configuration attributes
2020-08-19 23:46:25.954 DEBUG 9932 --- [main] o.s.s.w.a.i.FilterSecurityInterceptor    : Validated configuration attributes
2020-08-19 23:46:25.954  INFO 9932 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: any request, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@eb695e8, org.springframework.security.web.context.SecurityContextPersistenceFilter@2b3abeeb, org.springframework.security.web.header.HeaderWriterFilter@787a0fd6, org.springframework.security.web.authentication.logout.LogoutFilter@2e013ba1, ru.logisticplatform.security.jwt.JwtTokenFilter@7eebb316, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@13a9cdae, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@4c5e4bfa, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@45273d40, org.springframework.security.web.session.SessionManagementFilter@3e55d844, org.springframework.security.web.access.ExceptionTranslationFilter@1618c98a, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@204c5ddf]
2020-08-19 23:46:26.186  INFO 9932 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8068 (http) with context path ''
2020-08-19 23:46:26.186  INFO 9932 --- [main] DeferredRepositoryInitializationListener : Triggering deferred initialization of Spring Data repositoriesâ€¦
2020-08-19 23:46:26.703  INFO 9932 --- [task-1] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2020-08-19 23:46:26.718  INFO 9932 --- [task-1] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2020-08-19 23:46:27.258  INFO 9932 --- [main] DeferredRepositoryInitializationListener : Spring Data repositories initialized!
2020-08-19 23:46:27.258  INFO 9932 --- [main] r.l.LogisticPlatformApplication          : Started LogisticPlatformApplication in 9.041 seconds (JVM running for 9.857)
2020-08-19 23:46:36.563  INFO 9932 --- [http-nio-8068-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2020-08-19 23:46:36.563  INFO 9932 --- [http-nio-8068-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2020-08-19 23:46:36.572  INFO 9932 --- [http-nio-8068-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 9 ms
2020-08-19 23:46:36.584 DEBUG 9932 --- [http-nio-8068-exec-1] o.s.security.web.FilterChainProxy        : /api/v1/contractors/customers/customer33 at position 1 of 11 in additional filter chain; firing Filter: 'WebAsyncManagerIntegrationFilter'
2020-08-19 23:46:36.585 DEBUG 9932 --- [http-nio-8068-exec-1] o.s.security.web.FilterChainProxy        : /api/v1/contractors/customers/customer33 at position 2 of 11 in additional filter chain; firing Filter: 'SecurityContextPersistenceFilter'
2020-08-19 23:46:36.587 DEBUG 9932 --- [http-nio-8068-exec-1] o.s.security.web.FilterChainProxy        : /api/v1/contractors/customers/customer33 at position 3 of 11 in additional filter chain; firing Filter: 'HeaderWriterFilter'
2020-08-19 23:46:36.588 DEBUG 9932 --- [http-nio-8068-exec-1] o.s.security.web.FilterChainProxy        : /api/v1/contractors/customers/customer33 at position 4 of 11 in additional filter chain; firing Filter: 'LogoutFilter'
2020-08-19 23:46:36.588 DEBUG 9932 --- [http-nio-8068-exec-1] o.s.s.web.util.matcher.OrRequestMatcher  : Trying to match using Ant [pattern='/logout', GET]
2020-08-19 23:46:36.589 DEBUG 9932 --- [http-nio-8068-exec-1] o.s.s.w.u.matcher.AntPathRequestMatcher  : Checking match of request : '/api/v1/contractors/customers/customer33'; against '/logout'
2020-08-19 23:46:36.589 DEBUG 9932 --- [http-nio-8068-exec-1] o.s.s.web.util.matcher.OrRequestMatcher  : Trying to match using Ant [pattern='/logout', POST]
2020-08-19 23:46:36.589 DEBUG 9932 --- [http-nio-8068-exec-1] o.s.s.w.u.matcher.AntPathRequestMatcher  : Request 'GET /api/v1/contractors/customers/customer33' doesn't match 'POST /logout'
2020-08-19 23:46:36.589 DEBUG 9932 --- [http-nio-8068-exec-1] o.s.s.web.util.matcher.OrRequestMatcher  : Trying to match using Ant [pattern='/logout', PUT]
2020-08-19 23:46:36.589 DEBUG 9932 --- [http-nio-8068-exec-1] o.s.s.w.u.matcher.AntPathRequestMatcher  : Request 'GET /api/v1/contractors/customers/customer33' doesn't match 'PUT /logout'
2020-08-19 23:46:36.589 DEBUG 9932 --- [http-nio-8068-exec-1] o.s.s.web.util.matcher.OrRequestMatcher  : Trying to match using Ant [pattern='/logout', DELETE]
2020-08-19 23:46:36.589 DEBUG 9932 --- [http-nio-8068-exec-1] o.s.s.w.u.matcher.AntPathRequestMatcher  : Request 'GET /api/v1/contractors/customers/customer33' doesn't match 'DELETE /logout'
2020-08-19 23:46:36.589 DEBUG 9932 --- [http-nio-8068-exec-1] o.s.s.web.util.matcher.OrRequestMatcher  : No matches found
2020-08-19 23:46:36.589 DEBUG 9932 --- [http-nio-8068-exec-1] o.s.security.web.FilterChainProxy        : /api/v1/contractors/customers/customer33 at position 5 of 11 in additional filter chain; firing Filter: 'JwtTokenFilter'
2020-08-19 23:46:36.809  INFO 9932 --- [http-nio-8068-exec-1] r.l.service.user.impl.UserServiceImpl    : IN UserServiceImpl findByUsername - user: User{username='contractor2', firstName='firstName2', lastName='lastName2', email='email2@mail.ru', phone='79229797602', password='$2a$10$Uzl41xR.OUV7m1pFV0zRuO85fGWOWZNK2TY36aDr1gn5rn3uNZGU.', roles=[Role{id: 2, name: ROLE_CONTRACTOR}], userStatus=ACTIVE} found by userName: contractor2
2020-08-19 23:46:36.811  INFO 9932 --- [http-nio-8068-exec-1] r.l.security.JwtUserDetailsService       : IN loadUserByUsername - user with username: contractor2 successfully loaded
2020-08-19 23:46:36.812 DEBUG 9932 --- [http-nio-8068-exec-1] o.s.security.web.FilterChainProxy        : /api/v1/contractors/customers/customer33 at position 6 of 11 in additional filter chain; firing Filter: 'RequestCacheAwareFilter'
2020-08-19 23:46:36.812 DEBUG 9932 --- [http-nio-8068-exec-1] o.s.security.web.FilterChainProxy        : /api/v1/contractors/customers/customer33 at position 7 of 11 in additional filter chain; firing Filter: 'SecurityContextHolderAwareRequestFilter'
2020-08-19 23:46:36.813 DEBUG 9932 --- [http-nio-8068-exec-1] o.s.security.web.FilterChainProxy        : /api/v1/contractors/customers/customer33 at position 8 of 11 in additional filter chain; firing Filter: 'AnonymousAuthenticationFilter'
2020-08-19 23:46:36.813 DEBUG 9932 --- [http-nio-8068-exec-1] o.s.s.w.a.AnonymousAuthenticationFilter  : SecurityContextHolder not populated with anonymous token, as it already contained: 'org.springframework.security.authentication.UsernamePasswordAuthenticationToken@741ed5d2: Principal: ru.logisticplatform.security.jwt.JwtUser@6b9f0fc8; Credentials: [PROTECTED]; Authenticated: true; Details: null; Granted Authorities: ROLE_CONTRACTOR'
2020-08-19 23:46:36.813 DEBUG 9932 --- [http-nio-8068-exec-1] o.s.security.web.FilterChainProxy        : /api/v1/contractors/customers/customer33 at position 9 of 11 in additional filter chain; firing Filter: 'SessionManagementFilter'
2020-08-19 23:46:36.813 DEBUG 9932 --- [http-nio-8068-exec-1] s.CompositeSessionAuthenticationStrategy : Delegating to org.springframework.security.web.authentication.session.ChangeSessionIdAuthenticationStrategy@287317df
2020-08-19 23:46:36.814 DEBUG 9932 --- [http-nio-8068-exec-1] o.s.security.web.FilterChainProxy        : /api/v1/contractors/customers/customer33 at position 10 of 11 in additional filter chain; firing Filter: 'ExceptionTranslationFilter'
2020-08-19 23:46:36.814 DEBUG 9932 --- [http-nio-8068-exec-1] o.s.security.web.FilterChainProxy        : /api/v1/contractors/customers/customer33 at position 11 of 11 in additional filter chain; firing Filter: 'FilterSecurityInterceptor'
2020-08-19 23:46:36.815 DEBUG 9932 --- [http-nio-8068-exec-1] o.s.s.w.u.matcher.AntPathRequestMatcher  : Checking match of request : '/api/v1/contractors/customers/customer33'; against '/api/v1/sign/**'
2020-08-19 23:46:36.815 DEBUG 9932 --- [http-nio-8068-exec-1] o.s.s.w.u.matcher.AntPathRequestMatcher  : Checking match of request : '/api/v1/contractors/customers/customer33'; against '/api/v1/admins/**'
2020-08-19 23:46:36.815 DEBUG 9932 --- [http-nio-8068-exec-1] o.s.s.w.u.matcher.AntPathRequestMatcher  : Checking match of request : '/api/v1/contractors/customers/customer33'; against '/api/v1/customers/**'
2020-08-19 23:46:36.815 DEBUG 9932 --- [http-nio-8068-exec-1] o.s.s.w.u.matcher.AntPathRequestMatcher  : Checking match of request : '/api/v1/contractors/customers/customer33'; against '/api/v1/contractors/**'
2020-08-19 23:46:36.815 DEBUG 9932 --- [http-nio-8068-exec-1] o.s.s.w.a.i.FilterSecurityInterceptor    : Secure object: FilterInvocation: URL: /api/v1/contractors/customers/customer33; Attributes: [hasRole('ROLE_CONTRACTOR')]
2020-08-19 23:46:36.816 DEBUG 9932 --- [http-nio-8068-exec-1] o.s.s.w.a.i.FilterSecurityInterceptor    : Previously Authenticated: org.springframework.security.authentication.UsernamePasswordAuthenticationToken@741ed5d2: Principal: ru.logisticplatform.security.jwt.JwtUser@6b9f0fc8; Credentials: [PROTECTED]; Authenticated: true; Details: null; Granted Authorities: ROLE_CONTRACTOR
2020-08-19 23:46:36.819 DEBUG 9932 --- [http-nio-8068-exec-1] o.s.s.access.vote.AffirmativeBased       : Voter: org.springframework.security.web.access.expression.WebExpressionVoter@2d253b1e, returned: 1
2020-08-19 23:46:36.819 DEBUG 9932 --- [http-nio-8068-exec-1] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorization successful
2020-08-19 23:46:36.820 DEBUG 9932 --- [http-nio-8068-exec-1] o.s.s.w.a.i.FilterSecurityInterceptor    : RunAsManager did not change Authentication object
2020-08-19 23:46:36.820 DEBUG 9932 --- [http-nio-8068-exec-1] o.s.security.web.FilterChainProxy        : /api/v1/contractors/customers/customer33 reached end of additional filter chain; proceeding with original chain
2020-08-19 23:46:36.849  INFO 9932 --- [http-nio-8068-exec-1] r.l.service.user.impl.UserServiceImpl    : IN UserServiceImpl findByUsername - user: null found by userName: customer33
2020-08-19 23:46:36.972 DEBUG 9932 --- [http-nio-8068-exec-1] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match the requestMatcher org.springframework.security.web.header.writers.HstsHeaderWriter$SecureRequestMatcher@6523899c
2020-08-19 23:46:36.978 DEBUG 9932 --- [http-nio-8068-exec-1] o.s.s.w.a.ExceptionTranslationFilter     : Chain processed normally
2020-08-19 23:46:36.978 DEBUG 9932 --- [http-nio-8068-exec-1] s.s.w.c.SecurityContextPersistenceFilter : SecurityContextHolder now cleared, as request processing completed
